var oldBrowser=document.all&&!document.addEventListener;oldBrowser||function(e,t){var i,s,r=e.document,n=(e.location,e.navigator),o=e.JQXLite,a=e.$,l=Array.prototype.push,h=Array.prototype.slice,d=Array.prototype.indexOf,c=Object.prototype.toString,u=Object.prototype.hasOwnProperty,p=String.prototype.trim,m=function(e,t){return new m.fn.init(e,t,i)},f=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,g=/\S/,v=/\s+/,x=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,y=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^[\],:{}\s]*$/,_=/(?:^|:|,)(?:\s*\[)+/g,q=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,j=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,T=/^-ms-/,C=/-([\da-z])/gi,I=function(e,t){return(t+"").toUpperCase()},S=function(){r.addEventListener?(r.removeEventListener("DOMContentLoaded",S,!1),m.ready()):"complete"===r.readyState&&(r.detachEvent("onreadystatechange",S),m.ready())},k={};m.fn=m.prototype={constructor:m,init:function(e,i,s){var n,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:b.exec(e))||!n[1]&&i)return!i||i.jqx?(i||s).find(e):this.constructor(i).find(e);if(n[1])return a=(i=i instanceof m?i[0]:i)&&i.nodeType?i.ownerDocument||i:r,e=m.parseHTML(n[1],a,!0),y.test(n[1])&&m.isPlainObject(i)&&this.attr.call(e,i,!0),m.merge(this,e);if((o=r.getElementById(n[2]))&&o.parentNode){if(o.id!==n[2])return s.find(e);this.length=1,this[0]=o}return this.context=r,this.selector=e,this}return m.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),m.makeArray(e,this))},selector:"",jqx:"4.5.0",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,i){var s=m.merge(this.constructor(),e);return s.prevObject=this,s.context=this.context,"find"===t?s.selector=this.selector+(this.selector?" ":"")+i:t&&(s.selector=this.selector+"."+t+"("+i+")"),s},each:function(e,t){return m.each(this,e,t)},ready:function(e){return m.ready.promise().done(e),this},eq:function(e){return-1===(e=+e)?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(h.apply(this,arguments),"slice",h.call(arguments).join(","))},map:function(e){return this.pushStack(m.map(this,(function(t,i){return e.call(t,i,t)})))},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:[].sort,splice:[].splice},m.fn.init.prototype=m.fn,m.extend=m.fn.extend=function(){var e,i,s,r,n,o,a=arguments[0]||{},l=1,h=arguments.length,d=!1;for("boolean"==typeof a&&(d=a,a=arguments[1]||{},l=2),"object"==typeof a||m.isFunction(a)||(a={}),h===l&&(a=this,--l);l<h;l++)if(null!=(e=arguments[l]))for(i in e)s=a[i],a!==(r=e[i])&&(d&&r&&(m.isPlainObject(r)||(n=m.isArray(r)))?(n?(n=!1,o=s&&m.isArray(s)?s:[]):o=s&&m.isPlainObject(s)?s:{},a[i]=m.extend(d,o,r)):r!==t&&(a[i]=r));return a},m.extend({noConflict:function(t){return e.$===m&&(e.$=a),t&&e.JQXLite===m&&(e.JQXLite=o),m},isReady:!1,readyWait:1,holdReady:function(e){e?m.readyWait++:m.ready(!0)},ready:function(e){if(!(!0===e?--m.readyWait:m.isReady)){if(!r.body)return setTimeout(m.ready,1);m.isReady=!0,!0!==e&&--m.readyWait>0||(s.resolveWith(r,[m]),m.fn.trigger&&m(r).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===m.type(e)},isArray:Array.isArray||function(e){return"array"===m.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):k[c.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==m.type(e)||e.nodeType||m.isWindow(e))return!1;try{if(e.constructor&&!u.call(e,"constructor")&&!u.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var i;for(i in e);return i===t||u.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,i){var s;return e&&"string"==typeof e?("boolean"==typeof t&&(i=t,t=0),t=t||r,(s=y.exec(e))?[t.createElement(s[1])]:(s=m.buildFragment([e],t,i?null:[]),m.merge([],(s.cacheable?m.clone(s.fragment):s.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=m.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):w.test(t.replace(q,"@").replace(j,"]").replace(_,""))?new Function("return "+t)():void m.error("Invalid JSON: "+t)):null},parseXML:function(i){var s;if(!i||"string"!=typeof i)return null;try{e.DOMParser?s=(new DOMParser).parseFromString(i,"text/xml"):((s=new ActiveXObject("Microsoft.XMLDOM")).async="false",s.loadXML(i))}catch(e){s=t}return s&&s.documentElement&&!s.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+i),s},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(T,"ms-").replace(C,I)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,i,s){var r,n=0,o=e.length,a=o===t||m.isFunction(e);if(s)if(a){for(r in e)if(!1===i.apply(e[r],s))break}else for(;n<o&&!1!==i.apply(e[n++],s););else if(a){for(r in e)if(!1===i.call(e[r],r,e[r]))break}else for(;n<o&&!1!==i.call(e[n],n,e[n++]););return e},trim:p&&!p.call("\ufeffÂ ")?function(e){return null==e?"":p.call(e)}:function(e){return null==e?"":(e+"").replace(x,"")},makeArray:function(e,t){var i,s=t||[];return null!=e&&(i=m.type(e),null==e.length||"string"===i||"function"===i||"regexp"===i||m.isWindow(e)?l.call(s,e):m.merge(s,e)),s},inArray:function(e,t,i){var s;if(t){if(d)return d.call(t,e,i);for(s=t.length,i=i?i<0?Math.max(0,s+i):i:0;i<s;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var s=i.length,r=e.length,n=0;if("number"==typeof s)for(;n<s;n++)e[r++]=i[n];else for(;i[n]!==t;)e[r++]=i[n++];return e.length=r,e},grep:function(e,t,i){var s=[],r=0,n=e.length;for(i=!!i;r<n;r++)i!==!!t(e[r],r)&&s.push(e[r]);return s},map:function(e,i,s){var r,n,o=[],a=0,l=e.length;if(e instanceof m||l!==t&&"number"==typeof l&&(l>0&&e[0]&&e[l-1]||0===l||m.isArray(e)))for(;a<l;a++)null!=(r=i(e[a],a,s))&&(o[o.length]=r);else for(n in e)null!=(r=i(e[n],n,s))&&(o[o.length]=r);return o.concat.apply([],o)},guid:1,proxy:function(e,i){var s,r,n;return"string"==typeof i&&(s=e[i],i=e,e=s),m.isFunction(e)?(r=h.call(arguments,2),n=function(){return e.apply(i,r.concat(h.call(arguments)))},n.guid=e.guid=e.guid||m.guid++,n):t},access:function(e,i,s,r,n,o,a){var l,h=null==s,d=0,c=e.length;if(s&&"object"==typeof s){for(d in s)m.access(e,i,d,s[d],1,o,r);n=1}else if(r!==t){if(l=a===t&&m.isFunction(r),h&&(l?(l=i,i=function(e,t,i){return l.call(m(e),i)}):(i.call(e,r),i=null)),i)for(;d<c;d++)i(e[d],s,l?r.call(e[d],d,i(e[d],s)):r,a);n=1}return n?e:h?i.call(e):c?i(e[0],s):o},now:function(){return(new Date).getTime()}}),m.ready.promise=function(t){if(!s)if(s=m.Deferred(),"complete"===r.readyState)setTimeout(m.ready,1);else if(r.addEventListener)r.addEventListener("DOMContentLoaded",S,!1),e.addEventListener("load",m.ready,!1);else{r.attachEvent("onreadystatechange",S),e.attachEvent("onload",m.ready);var i=!1;try{i=null==e.frameElement&&r.documentElement}catch(e){}i&&i.doScroll&&function e(){if(!m.isReady){try{i.doScroll("left")}catch(t){return setTimeout(e,50)}m.ready()}}()}return s.promise(t)},m.each("Boolean Number String Function Array Date RegExp Object".split(" "),(function(e,t){k["[object "+t+"]"]=t.toLowerCase()})),i=m(r);var P={};m.Callbacks=function(e){e="string"==typeof e?P[e]||function(e){var t=P[e]={};return m.each(e.split(v),(function(e,i){t[i]=!0})),t}(e):m.extend({},e);var i,s,r,n,o,a,l=[],h=!e.once&&[],d=function(t){for(i=e.memory&&t,s=!0,a=n||0,n=0,o=l.length,r=!0;l&&a<o;a++)if(!1===l[a].apply(t[0],t[1])&&e.stopOnFalse){i=!1;break}r=!1,l&&(h?h.length&&d(h.shift()):i?l=[]:c.disable())},c={add:function(){if(l){var t=l.length;!function t(i){m.each(i,(function(i,s){var r=m.type(s);"function"===r?e.unique&&c.has(s)||l.push(s):s&&s.length&&"string"!==r&&t(s)}))}(arguments),r?o=l.length:i&&(n=t,d(i))}return this},remove:function(){return l&&m.each(arguments,(function(e,t){for(var i;(i=m.inArray(t,l,i))>-1;)l.splice(i,1),r&&(i<=o&&o--,i<=a&&a--)})),this},has:function(e){return m.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=h=i=t,this},disabled:function(){return!l},lock:function(){return h=t,i||c.disable(),this},locked:function(){return!h},fireWith:function(e,t){return t=[e,(t=t||[]).slice?t.slice():t],!l||s&&!h||(r?h.push(t):d(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!s}};return c},m.extend({Deferred:function(e){var t=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],i="pending",s={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return m.Deferred((function(i){m.each(t,(function(t,s){var n=s[0],o=e[t];r[s[1]](m.isFunction(o)?function(){var e=o.apply(this,arguments);e&&m.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[n+"With"](this===r?i:this,[e])}:i[n])})),e=null})).promise()},promise:function(e){return null!=e?m.extend(e,s):s}},r={};return s.pipe=s.then,m.each(t,(function(e,n){var o=n[2],a=n[3];s[n[1]]=o.add,a&&o.add((function(){i=a}),t[1^e][2].disable,t[2][2].lock),r[n[0]]=o.fire,r[n[0]+"With"]=o.fireWith})),s.promise(r),e&&e.call(r,r),r},when:function(e){var t,i,s,r=0,n=h.call(arguments),o=n.length,a=1!==o||e&&m.isFunction(e.promise)?o:0,l=1===a?e:m.Deferred(),d=function(e,i,s){return function(r){i[e]=this,s[e]=arguments.length>1?h.call(arguments):r,s===t?l.notifyWith(i,s):--a||l.resolveWith(i,s)}};if(o>1)for(t=new Array(o),i=new Array(o),s=new Array(o);r<o;r++)n[r]&&m.isFunction(n[r].promise)?n[r].promise().done(d(r,s,n)).fail(l.reject).progress(d(r,i,t)):--a;return a||l.resolveWith(s,n),l.promise()}}),m.support=function(){var t,i,s,n,o,a,l,h,d,c,u,p=r.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=p.getElementsByTagName("*"),s=p.getElementsByTagName("a")[0],!i||!s||!i.length)return{};o=(n=r.createElement("select")).appendChild(r.createElement("option")),a=p.getElementsByTagName("input")[0],s.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(s.getAttribute("style")),hrefNormalized:"/a"===s.getAttribute("href"),opacity:/^0.5/.test(s.style.opacity),cssFloat:!!s.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!r.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==r.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===r.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,n.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(e){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",u=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",u)),(a=r.createElement("input")).value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),(l=r.createDocumentFragment()).appendChild(p.lastChild),t.checkClone=l.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,l.removeChild(a),l.appendChild(p),p.attachEvent)for(d in{submit:!0,change:!0,focusin:!0})(c=(h="on"+d)in p)||(p.setAttribute(h,"return;"),c="function"==typeof p[h]),t[d+"Bubbles"]=c;return m((function(){var i,s,n,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",l=r.getElementsByTagName("body")[0];l&&((i=r.createElement("div")).style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",l.insertBefore(i,l.firstChild),s=r.createElement("div"),i.appendChild(s),s.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(n=s.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===n[0].offsetHeight,n[0].style.display="",n[1].style.display="none",t.reliableHiddenOffsets=c&&0===n[0].offsetHeight,s.innerHTML="",s.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===s.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==l.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(s,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(s,null)||{width:"4px"}).width,(o=r.createElement("div")).style.cssText=s.style.cssText=a,o.style.marginRight=o.style.width="0",s.style.width="1px",s.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),void 0!==s.style.zoom&&(s.innerHTML="",s.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===s.offsetWidth,s.style.display="block",s.style.overflow="visible",s.innerHTML="<div></div>",s.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==s.offsetWidth,i.style.zoom=1),l.removeChild(i),i=s=n=o=null)})),l.removeChild(p),i=s=n=o=a=l=p=null,t}();var H=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function D(e,i,s){if(s===t&&1===e.nodeType){var r="data-"+i.replace(B,"-$1").toLowerCase();if("string"==typeof(s=e.getAttribute(r))){try{s="true"===s||"false"!==s&&("null"===s?null:+s+""===s?+s:H.test(s)?m.parseJSON(s):s)}catch(e){}m.data(e,i,s)}else s=t}return s}function z(e){var t;for(t in e)if(("data"!==t||!m.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}m.extend({cache:{},deletedIds:[],uuid:0,expando:"JQXLite"+(m.fn.jqx+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return!!(e=e.nodeType?m.cache[e[m.expando]]:e[m.expando])&&!z(e)},data:function(e,i,s,r){if(m.acceptData(e)){var n,o,a=m.expando,l="string"==typeof i,h=e.nodeType,d=h?m.cache:e,c=h?e[a]:e[a]&&a;if(c&&d[c]&&(r||d[c].data)||!l||s!==t)return c||(h?e[a]=c=m.deletedIds.pop()||m.guid++:c=a),d[c]||(d[c]={},h||(d[c].toJSON=m.noop)),"object"!=typeof i&&"function"!=typeof i||(r?d[c]=m.extend(d[c],i):d[c].data=m.extend(d[c].data,i)),n=d[c],r||(n.data||(n.data={}),n=n.data),s!==t&&(n[m.camelCase(i)]=s),l?null==(o=n[i])&&(o=n[m.camelCase(i)]):o=n,o}},removeData:function(e,t,i){if(m.acceptData(e)){var s,r,n,o=e.nodeType,a=o?m.cache:e,l=o?e[m.expando]:m.expando;if(a[l]){if(t&&(s=i?a[l]:a[l].data)){m.isArray(t)||(t=t in s||(t=m.camelCase(t))in s?[t]:t.split(" "));for(r=0,n=t.length;r<n;r++)delete s[t[r]];if(!(i?z:m.isEmptyObject)(s))return}(i||(delete a[l].data,z(a[l])))&&(o?m.cleanData([e],!0):m.support.deleteExpando||a!=a.window?delete a[l]:a[l]=null)}}},_data:function(e,t,i){return m.data(e,t,i,!0)},acceptData:function(e){var t=e.nodeName&&m.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),m.fn.extend({data:function(e,i){var s,r,n,o,a,l=this[0],h=0,d=null;if(e===t){if(this.length&&(d=m.data(l),1===l.nodeType&&!m._data(l,"parsedAttrs"))){for(a=(n=l.attributes).length;h<a;h++)(o=n[h].name).indexOf("data-")||(o=m.camelCase(o.substring(5)),D(l,o,d[o]));m._data(l,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each((function(){m.data(this,e)})):((s=e.split(".",2))[1]=s[1]?"."+s[1]:"",r=s[1]+"!",m.access(this,(function(i){if(i===t)return(d=this.triggerHandler("getData"+r,[s[0]]))===t&&l&&(d=m.data(l,e),d=D(l,e,d)),d===t&&s[1]?this.data(s[0]):d;s[1]=i,this.each((function(){var t=m(this);t.triggerHandler("setData"+r,s),m.data(this,e,i),t.triggerHandler("changeData"+r,s)}))}),null,i,arguments.length>1,null,!1))},removeData:function(e){return this.each((function(){m.removeData(this,e)}))}}),m.extend({queue:function(e,t,i){var s;if(e)return t=(t||"fx")+"queue",s=m._data(e,t),i&&(!s||m.isArray(i)?s=m._data(e,t,m.makeArray(i)):s.push(i)),s||[]},dequeue:function(e,t){t=t||"fx";var i=m.queue(e,t),s=i.length,r=i.shift(),n=m._queueHooks(e,t);"inprogress"===r&&(r=i.shift(),s--),r&&("fx"===t&&i.unshift("inprogress"),delete n.stop,r.call(e,(function(){m.dequeue(e,t)}),n)),!s&&n&&n.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return m._data(e,i)||m._data(e,i,{empty:m.Callbacks("once memory").add((function(){m.removeData(e,t+"queue",!0),m.removeData(e,i,!0)}))})}}),m.fn.extend({queue:function(e,i){var s=2;return"string"!=typeof e&&(i=e,e="fx",s--),arguments.length<s?m.queue(this[0],e):i===t?this:this.each((function(){var t=m.queue(this,e,i);m._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&m.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){m.dequeue(this,e)}))},delay:function(e,t){return e=m.fx&&m.fx.speeds[e]||e,t=t||"fx",this.queue(t,(function(t,i){var s=setTimeout(t,e);i.stop=function(){clearTimeout(s)}}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var s,r=1,n=m.Deferred(),o=this,a=this.length,l=function(){--r||n.resolveWith(o,[o])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)(s=m._data(o[a],e+"queueHooks"))&&s.empty&&(r++,s.empty.add(l));return l(),n.promise(i)}});var E,A,M=/[\t\r\n]/g,O=/\r/g,N=/^(?:button|input)$/i,L=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,R=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,F=m.support.getSetAttribute;m.fn.extend({attr:function(e,t){return m.access(this,m.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){m.removeAttr(this,e)}))},prop:function(e,t){return m.access(this,m.prop,e,t,arguments.length>1)},removeProp:function(e){return e=m.propFix[e]||e,this.each((function(){try{this[e]=t,delete this[e]}catch(e){}}))},addClass:function(e){var t,i,s,r,n,o,a;if(m.isFunction(e))return this.each((function(t){m(this).addClass(e.call(this,t,this.className))}));if(e&&"string"==typeof e)for(t=e.split(v),i=0,s=this.length;i<s;i++)if(1===(r=this[i]).nodeType)if(r.className||1!==t.length){for(n=" "+r.className+" ",o=0,a=t.length;o<a;o++)n.indexOf(" "+t[o]+" ")<0&&(n+=t[o]+" ");r.className=m.trim(n)}else r.className=e;return this},removeClass:function(e){var i,s,r,n,o,a,l;if(m.isFunction(e))return this.each((function(t){m(this).removeClass(e.call(this,t,this.className))}));if(e&&"string"==typeof e||e===t)for(i=(e||"").split(v),a=0,l=this.length;a<l;a++)if(1===(r=this[a]).nodeType&&r.className){for(s=(" "+r.className+" ").replace(M," "),n=0,o=i.length;n<o;n++)for(;s.indexOf(" "+i[n]+" ")>=0;)s=s.replace(" "+i[n]+" "," ");r.className=e?m.trim(s):""}return this},toggleClass:function(e,t){var i=typeof e,s="boolean"==typeof t;return m.isFunction(e)?this.each((function(i){m(this).toggleClass(e.call(this,i,this.className,t),t)})):this.each((function(){if("string"===i)for(var r,n=0,o=m(this),a=t,l=e.split(v);r=l[n++];)a=s?a:!o.hasClass(r),o[a?"addClass":"removeClass"](r);else"undefined"!==i&&"boolean"!==i||(this.className&&m._data(this,"__className__",this.className),this.className=this.className||!1===e?"":m._data(this,"__className__")||"")}))},hasClass:function(e){for(var t=" "+e+" ",i=0,s=this.length;i<s;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(M," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,s,r,n=this[0];return arguments.length?(r=m.isFunction(e),this.each((function(s){var n,o=m(this);1===this.nodeType&&(null==(n=r?e.call(this,s,o.val()):e)?n="":"number"==typeof n?n+="":m.isArray(n)&&(n=m.map(n,(function(e){return null==e?"":e+""}))),(i=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&i.set(this,n,"value")!==t||(this.value=n))}))):n?(i=m.valHooks[n.type]||m.valHooks[n.nodeName.toLowerCase()])&&"get"in i&&(s=i.get(n,"value"))!==t?s:"string"==typeof(s=n.value)?s.replace(O,""):null==s?"":s:void 0}}),m.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,i,s=e.options,r=e.selectedIndex,n="select-one"===e.type||r<0,o=n?null:[],a=n?r+1:s.length,l=r<0?a:n?r:0;l<a;l++)if(((i=s[l]).selected||l===r)&&(m.support.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!m.nodeName(i.parentNode,"optgroup"))){if(t=m(i).val(),n)return t;o.push(t)}return o},set:function(e,t){var i=m.makeArray(t);return m(e).find("option").each((function(){this.selected=m.inArray(m(this).val(),i)>=0})),i.length||(e.selectedIndex=-1),i}}},attrFn:{},attr:function(e,i,s,r){var n,o,a,l=e.nodeType;if(e&&3!==l&&8!==l&&2!==l)return r&&m.isFunction(m.fn[i])?m(e)[i](s):void 0===e.getAttribute?m.prop(e,i,s):((a=1!==l||!m.isXMLDoc(e))&&(i=i.toLowerCase(),o=m.attrHooks[i]||(R.test(i)?A:E)),s!==t?null===s?void m.removeAttr(e,i):o&&"set"in o&&a&&(n=o.set(e,s,i))!==t?n:(e.setAttribute(i,s+""),s):o&&"get"in o&&a&&null!==(n=o.get(e,i))?n:null===(n=e.getAttribute(i))?t:n)},removeAttr:function(e,t){var i,s,r,n,o=0;if(t&&1===e.nodeType)for(s=t.split(v);o<s.length;o++)(r=s[o])&&(i=m.propFix[r]||r,(n=R.test(r))||m.attr(e,r,""),e.removeAttribute(F?r:i),n&&i in e&&(e[i]=!1))},attrHooks:{type:{set:function(e,t){if(N.test(e.nodeName)&&e.parentNode)m.error("type property can't be changed");else if(!m.support.radioValue&&"radio"===t&&m.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}},value:{get:function(e,t){return t in e?e.value:null},set:function(e,t,i){e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,i,s){var r,n,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!m.isXMLDoc(e))&&(i=m.propFix[i]||i,n=m.propHooks[i]),s!==t?n&&"set"in n&&(r=n.set(e,s,i))!==t?r:e[i]=s:n&&"get"in n&&null!==(r=n.get(e,i))?r:e[i]},propHooks:{tabIndex:{get:function(e){var i=e.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):L.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),A={get:function(e,i){var s,r=m.prop(e,i);return!0===r||"boolean"!=typeof r&&(s=e.getAttributeNode(i))&&!1!==s.nodeValue?i.toLowerCase():t},set:function(e,t,i){var s;return!1===t?m.removeAttr(e,i):((s=m.propFix[i]||i)in e&&(e[s]=!0),e.setAttribute(i,i.toLowerCase())),i}},m.support.enctype||(m.propFix.enctype="encoding");var V=/^([^\.]*|)(?:\.(.+)|)$/,U=/(?:^|\s)hover(\.\S+|)\b/,K=/^key/,G=/^(?:mouse|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=function(e){return m.event.special.hover?e:e.replace(U,"mouseenter$1 mouseleave$1")};function J(){return!1}function $(){return!0}m.event={add:function(e,i,s,r,n){var o,a,l,h,d,c,u,p,f,g,v;if(3!==e.nodeType&&8!==e.nodeType&&i&&s&&(o=m._data(e))){for(s.handler&&(s=(f=s).handler,n=f.selector),s.guid||(s.guid=m.guid++),(l=o.events)||(o.events=l={}),(a=o.handle)||(o.handle=a=function(e){return void 0===m||e&&m.event.triggered===e.type?t:m.event.dispatch.apply(a.elem,arguments)},a.elem=e),i=m.trim(Y(i)).split(" "),h=0;h<i.length;h++)c=(d=V.exec(i[h])||[])[1],u=(d[2]||"").split(".").sort(),v=m.event.special[c]||{},c=(n?v.delegateType:v.bindType)||c,v=m.event.special[c]||{},p=m.extend({type:c,origType:d[1],data:r,handler:s,guid:s.guid,selector:n,needsContext:n&&m.expr.match.needsContext.test(n),namespace:u.join(".")},f),(g=l[c])||((g=l[c]=[]).delegateCount=0,v.setup&&!1!==v.setup.call(e,r,u,a)||(e.addEventListener?r&&r.passive!==t?e.addEventListener(c,a,r):e.addEventListener(c,a,!1):e.attachEvent&&e.attachEvent("on"+c,a))),v.add&&(v.add.call(e,p),p.handler.guid||(p.handler.guid=s.guid)),n?g.splice(g.delegateCount++,0,p):g.push(p),m.event.global[c]=!0;e=null}},global:{},remove:function(e,t,i,s,r){var n,o,a,l,h,d,c,u,p,f,g,v=m.hasData(e)&&m._data(e);if(v&&(u=v.events)){for(t=m.trim(Y(t||"")).split(" "),n=0;n<t.length;n++)if(a=l=(o=V.exec(t[n])||[])[1],h=o[2],a){for(p=m.event.special[a]||{},d=(f=u[a=(s?p.delegateType:p.bindType)||a]||[]).length,h=h?new RegExp("(^|\\.)"+h.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,c=0;c<f.length;c++)g=f[c],!r&&l!==g.origType||i&&i.guid!==g.guid||h&&!h.test(g.namespace)||s&&s!==g.selector&&("**"!==s||!g.selector)||(f.splice(c--,1),g.selector&&f.delegateCount--,p.remove&&p.remove.call(e,g));0===f.length&&d!==f.length&&(p.teardown&&!1!==p.teardown.call(e,h,v.handle)||m.removeEvent(e,a,v.handle),delete u[a])}else for(a in u)m.event.remove(e,a+t[n],i,s,!0);m.isEmptyObject(u)&&(delete v.handle,m.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,s,n,o){if(!n||3!==n.nodeType&&8!==n.nodeType){var a,l,h,d,c,u,p,f,g,v,x=i.type||i,b=[];if(!X.test(x+m.event.triggered)&&(x.indexOf("!")>=0&&(x=x.slice(0,-1),l=!0),x.indexOf(".")>=0&&(b=x.split("."),x=b.shift(),b.sort()),n&&!m.event.customEvent[x]||m.event.global[x]))if((i="object"==typeof i?i[m.expando]?i:new m.Event(x,i):new m.Event(x)).type=x,i.isTrigger=!0,i.exclusive=l,i.namespace=b.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,u=x.indexOf(":")<0?"on"+x:"",n){if(i.result=t,i.target||(i.target=n),(s=null!=s?m.makeArray(s):[]).unshift(i),!(p=m.event.special[x]||{}).trigger||!1!==p.trigger.apply(n,s)){if(g=[[n,p.bindType||x]],!o&&!p.noBubble&&!m.isWindow(n)){for(v=p.delegateType||x,d=X.test(v+x)?n:n.parentNode,c=n;d;d=d.parentNode)g.push([d,v]),c=d;c===(n.ownerDocument||r)&&g.push([c.defaultView||c.parentWindow||e,v])}for(h=0;h<g.length&&!i.isPropagationStopped();h++)d=g[h][0],i.type=g[h][1],(f=(m._data(d,"events")||{})[i.type]&&m._data(d,"handle"))&&f.apply(d,s),(f=u&&d[u])&&m.acceptData(d)&&f.apply&&!1===f.apply(d,s)&&i.preventDefault();return i.type=x,o||i.isDefaultPrevented()||p._default&&!1!==p._default.apply(n.ownerDocument,s)||"click"===x&&m.nodeName(n,"a")||!m.acceptData(n)||u&&n[x]&&("focus"!==x&&"blur"!==x||0!==i.target.offsetWidth)&&!m.isWindow(n)&&((c=n[u])&&(n[u]=null),m.event.triggered=x,n[x](),m.event.triggered=t,c&&(n[u]=c)),i.result}}else for(h in a=m.cache)a[h].events&&a[h].events[x]&&m.event.trigger(i,s,a[h].handle.elem,!0)}},dispatch:function(i){i=m.event.fix(i||e.event);var s,r,n,o,a,l,d,c,u,p=(m._data(this,"events")||{})[i.type]||[],f=p.delegateCount,g=h.call(arguments),v=!i.exclusive&&!i.namespace,x=m.event.special[i.type]||{},b=[];if(g[0]=i,i.delegateTarget=this,!x.preDispatch||!1!==x.preDispatch.call(this,i)){if(f&&(!i.button||"click"!==i.type))for(n=i.target;n!=this;n=n.parentNode||this)if(!0!==n.disabled||"click"!==i.type){for(a={},d=[],s=0;s<f;s++)a[u=(c=p[s]).selector]===t&&(a[u]=c.needsContext?m(u,this).index(n)>=0:m.find(u,this,null,[n]).length),a[u]&&d.push(c);d.length&&b.push({elem:n,matches:d})}for(p.length>f&&b.push({elem:this,matches:p.slice(f)}),s=0;s<b.length&&!i.isPropagationStopped();s++)for(l=b[s],i.currentTarget=l.elem,r=0;r<l.matches.length&&!i.isImmediatePropagationStopped();r++)c=l.matches[r],(v||!i.namespace&&!c.namespace||i.namespace_re&&i.namespace_re.test(c.namespace))&&(i.data=c.data,i.handleObj=c,(o=((m.event.special[c.origType]||{}).handle||c.handler).apply(l.elem,g))!==t&&(i.result=o,!1===o&&(i.preventDefault(),i.stopPropagation())));return x.postDispatch&&x.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var s,n,o,a=i.button,l=i.fromElement;return null==e.pageX&&null!=i.clientX&&(n=(s=e.target.ownerDocument||r).documentElement,o=s.body,e.pageX=i.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=i.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&l&&(e.relatedTarget=l===e.target?i.toElement:l),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[m.expando])return e;var t,i,s=e,n=m.event.fixHooks[e.type]||{},o=n.props?this.props.concat(n.props):this.props;for(e=m.Event(s),t=o.length;t;)e[i=o[--t]]=s[i];return e.target||(e.target=s.srcElement||r),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,n.filter?n.filter(e,s):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,i){m.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,i,s){var r=m.extend(new m.Event,i,{type:e,isSimulated:!0,originalEvent:{}});s?m.event.trigger(r,null,t):m.event.dispatch.call(t,r),r.isDefaultPrevented()&&i.preventDefault()}},m.event.handle=m.event.dispatch,m.removeEvent=r.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var s="on"+t;e.detachEvent&&(void 0===e[s]&&(e[s]=null),e.detachEvent(s,i))},m.Event=function(e,t){if(!(this instanceof m.Event))return new m.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?$:J):this.type=e,t&&m.extend(this,t),this.timeStamp=e&&e.timeStamp||m.now(),this[m.expando]=!0},m.Event.prototype={preventDefault:function(){this.isDefaultPrevented=$;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=$;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=$,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},m.each({mouseenter:"mouseover",mouseleave:"mouseout"},(function(e,t){m.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,s=this,r=e.relatedTarget,n=e.handleObj;n.selector;return r&&(r===s||m.contains(s,r))||(e.type=n.origType,i=n.handler.apply(this,arguments),e.type=t),i}}})),m.fn.extend({on:function(e,i,s,r,n){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(s=s||i,i=t),e)this.on(a,i,s,e[a],n);return this}if(null==s&&null==r?(r=i,s=i=t):null==r&&("string"==typeof i?(r=s,s=t):(r=s,s=i,i=t)),!1===r)r=J;else if(!r)return this;return 1===n&&(o=r,r=function(e){return m().off(e),o.apply(this,arguments)},r.guid=o.guid||(o.guid=m.guid++)),this.each((function(){m.event.add(this,e,r,s,i)}))},off:function(e,i,s){var r,n;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,m(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(n in e)this.off(n,i,e[n]);return this}return!1!==i&&"function"!=typeof i||(s=i,i=t),!1===s&&(s=J),this.each((function(){m.event.remove(this,e,s,i)}))},delegate:function(e,t,i,s){return this.on(t,e,i,s)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)},trigger:function(e,t){return this.each((function(){m.event.trigger(e,t,this)}))},triggerHandler:function(e,t){if(this[0])return m.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,i=e.guid||m.guid++,s=0,r=function(i){var r=(m._data(this,"lastToggle"+e.guid)||0)%s;return m._data(this,"lastToggle"+e.guid,r+1),i.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=i;s<t.length;)t[s++].guid=i;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),(function(e,t){m.fn[t]=function(e,i){return null==i&&(i=e,e=null),arguments.length>0?this.on(t,null,e,i):this.trigger(t)},K.test(t)&&(m.event.fixHooks[t]=m.event.keyHooks),G.test(t)&&(m.event.fixHooks[t]=m.event.mouseHooks)})),
/*!
         * Sizzle CSS Selector Engine
         * Copyright 2012 JQXLite Foundation and other contributors
         * Released under the MIT license
         * http://sizzlejs.com/
         */
function(e,t){var i,s,r,n,o,a,l,h,d,c,u,p,f,g,v,x,b,y,w="undefined",_=("sizcache"+Math.random()).replace(".",""),q=String,j=e.document,T=j.documentElement,C=0,I=0,S=[].pop,k=[].push,P=[].slice,H=[].indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},B=function(e,t){return e[_]=null==t||t,e},D=function(){var e={},t=[];return B((function(i,s){return t.push(i)>r.cacheLength&&delete e[t.shift()],e[i+" "]=s}),e)},z=D(),E=D(),A=D(),M="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",N=O.replace("w","w#"),L="\\["+M+"*("+O+")"+M+"*(?:([*^$|!~]?=)"+M+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+N+")|)|)"+M+"*\\]",W=":("+O+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+L+")|[^:]|\\\\.)*|.*))\\)|)",R=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)",F=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),V=new RegExp("^"+M+"*,"+M+"*"),U=new RegExp("^"+M+"*([\\x20\\t\\r\\n\\f>+~])"+M+"*"),K=new RegExp(W),G=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,X=/[\x20\t\r\n\f]*[+~]/,Y=/h\d/i,J=/input|select|textarea|button/i,$=/\\(?!\\)/g,Q={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),NAME:new RegExp("^\\[name=['\"]?("+O+")['\"]?\\]"),TAG:new RegExp("^("+O.replace("w","w*")+")"),ATTR:new RegExp("^"+L),PSEUDO:new RegExp("^"+W),POS:new RegExp(R,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),needsContext:new RegExp("^"+M+"*[>+~]|"+R,"i")},Z=function(e){var t=j.createElement("div");try{return e(t)}catch(e){return!1}finally{t=null}},ee=Z((function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length})),te=Z((function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==w&&"#"===e.firstChild.getAttribute("href")})),ie=Z((function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t})),se=Z((function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!(!e.getElementsByClassName||!e.getElementsByClassName("e").length)&&(e.lastChild.className="e",2===e.getElementsByClassName("e").length)})),re=Z((function(e){e.id=_+0,e.innerHTML="<a name='"+_+"'></a><div name='"+_+"'></div>",T.insertBefore(e,T.firstChild);var t=j.getElementsByName&&j.getElementsByName(_).length===2+j.getElementsByName(_+0).length;return s=!j.getElementById(_),T.removeChild(e),t}));try{P.call(T.childNodes,0)[0].nodeType}catch(e){P=function(e){for(var t,i=[];t=this[e];e++)i.push(t);return i}}function ne(e,t,i,s){i=i||[];var r,n,l,h,d=(t=t||j).nodeType;if(!e||"string"!=typeof e)return i;if(1!==d&&9!==d)return[];if(!(l=o(t))&&!s&&(r=G.exec(e)))if(h=r[1]){if(9===d){if(!(n=t.getElementById(h))||!n.parentNode)return i;if(n.id===h)return i.push(n),i}else if(t.ownerDocument&&(n=t.ownerDocument.getElementById(h))&&a(t,n)&&n.id===h)return i.push(n),i}else{if(r[2])return k.apply(i,P.call(t.getElementsByTagName(e),0)),i;if((h=r[3])&&se&&t.getElementsByClassName)return k.apply(i,P.call(t.getElementsByClassName(h),0)),i}return ge(e.replace(F,"$1"),t,i,s,l)}function oe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ae(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function le(e){return B((function(t){return t=+t,B((function(i,s){for(var r,n=e([],i.length,t),o=n.length;o--;)i[r=n[o]]&&(i[r]=!(s[r]=i[r]))}))}))}function he(e,t,i){if(e===t)return i;for(var s=e.nextSibling;s;){if(s===t)return-1;s=s.nextSibling}return 1}function de(e,t){var i,s,n,o,a,l,h,d=E[_][e+" "];if(d)return t?0:d.slice(0);for(a=e,l=[],h=r.preFilter;a;){for(o in i&&!(s=V.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(n=[])),i=!1,(s=U.exec(a))&&(n.push(i=new q(s.shift())),a=a.slice(i.length),i.type=s[0].replace(F," ")),r.filter)!(s=Q[o].exec(a))||h[o]&&!(s=h[o](s))||(n.push(i=new q(s.shift())),a=a.slice(i.length),i.type=o,i.matches=s);if(!i)break}return t?a.length:a?ne.error(e):E(e,l).slice(0)}function ce(e,t,s){var r=t.dir,n=s&&"parentNode"===t.dir,o=I++;return t.first?function(t,i,s){for(;t=t[r];)if(n||1===t.nodeType)return e(t,i,s)}:function(t,s,a){if(a){for(;t=t[r];)if((n||1===t.nodeType)&&e(t,s,a))return t}else for(var l,h=C+" "+o+" ",d=h+i;t=t[r];)if(n||1===t.nodeType){if((l=t[_])===d)return t.sizset;if("string"==typeof l&&0===l.indexOf(h)){if(t.sizset)return t}else{if(t[_]=d,e(t,s,a))return t.sizset=!0,t;t.sizset=!1}}}}function ue(e){return e.length>1?function(t,i,s){for(var r=e.length;r--;)if(!e[r](t,i,s))return!1;return!0}:e[0]}function pe(e,t,i,s,r){for(var n,o=[],a=0,l=e.length,h=null!=t;a<l;a++)(n=e[a])&&(i&&!i(n,s,r)||(o.push(n),h&&t.push(a)));return o}function me(e,t,i,s,r,n){return s&&!s[_]&&(s=me(s)),r&&!r[_]&&(r=me(r,n)),B((function(n,o,a,l){var h,d,c,u=[],p=[],m=o.length,f=n||function(e,t,i){for(var s=0,r=t.length;s<r;s++)ne(e,t[s],i);return i}(t||"*",a.nodeType?[a]:a,[]),g=!e||!n&&t?f:pe(f,u,e,a,l),v=i?r||(n?e:m||s)?[]:o:g;if(i&&i(g,v,a,l),s)for(h=pe(v,p),s(h,[],a,l),d=h.length;d--;)(c=h[d])&&(v[p[d]]=!(g[p[d]]=c));if(n){if(r||e){if(r){for(h=[],d=v.length;d--;)(c=v[d])&&h.push(g[d]=c);r(null,v=[],h,l)}for(d=v.length;d--;)(c=v[d])&&(h=r?H.call(n,c):u[d])>-1&&(n[h]=!(o[h]=c))}}else v=pe(v===o?v.splice(m,v.length):v),r?r(null,o,v,l):k.apply(o,v)}))}function fe(e){for(var t,i,s,n=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],l=o?1:0,h=ce((function(e){return e===t}),a,!0),d=ce((function(e){return H.call(t,e)>-1}),a,!0),u=[function(e,i,s){return!o&&(s||i!==c)||((t=i).nodeType?h(e,i,s):d(e,i,s))}];l<n;l++)if(i=r.relative[e[l].type])u=[ce(ue(u),i)];else{if((i=r.filter[e[l].type].apply(null,e[l].matches))[_]){for(s=++l;s<n&&!r.relative[e[s].type];s++);return me(l>1&&ue(u),l>1&&e.slice(0,l-1).join("").replace(F,"$1"),i,l<s&&fe(e.slice(l,s)),s<n&&fe(e=e.slice(s)),s<n&&e.join(""))}u.push(i)}return ue(u)}function ge(e,t,i,s,n){var o,a,h,d,c,u=de(e);u.length;if(!s&&1===u.length){if((a=u[0]=u[0].slice(0)).length>2&&"ID"===(h=a[0]).type&&9===t.nodeType&&!n&&r.relative[a[1].type]){if(!(t=r.find.ID(h.matches[0].replace($,""),t,n)[0]))return i;e=e.slice(a.shift().length)}for(o=Q.POS.test(e)?-1:a.length-1;o>=0&&(h=a[o],!r.relative[d=h.type]);o--)if((c=r.find[d])&&(s=c(h.matches[0].replace($,""),X.test(a[0].type)&&t.parentNode||t,n))){if(a.splice(o,1),!(e=s.length&&a.join("")))return k.apply(i,P.call(s,0)),i;break}}return l(e,u)(s,t,n,i,X.test(e)),i}function ve(){}ne.matches=function(e,t){return ne(e,null,null,t)},ne.matchesSelector=function(e,t){return ne(t,null,null,[e]).length>0},n=ne.getText=function(e){var t,i="",s=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=n(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[s];s++)i+=n(t);return i},o=ne.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},a=ne.contains=T.contains?function(e,t){var i=9===e.nodeType?e.documentElement:e,s=t&&t.parentNode;return e===s||!!(s&&1===s.nodeType&&i.contains&&i.contains(s))}:T.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},ne.attr=function(e,t){var i,s=o(e);return s||(t=t.toLowerCase()),(i=r.attrHandle[t])?i(e):s||ie?e.getAttribute(t):(i=e.getAttributeNode(t))?"boolean"==typeof e[t]?e[t]?t:null:i.specified?i.value:null:null},r=ne.selectors={cacheLength:50,createPseudo:B,match:Q,attrHandle:te?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:s?function(e,t,i){if(typeof t.getElementById!==w&&!i){var s=t.getElementById(e);return s&&s.parentNode?[s]:[]}}:function(e,t,i){if(typeof t.getElementById!==w&&!i){var s=t.getElementById(e);return s?s.id===e||typeof s.getAttributeNode!==w&&s.getAttributeNode("id").value===e?[s]:undefined:[]}},TAG:ee?function(e,t){if(typeof t.getElementsByTagName!==w)return t.getElementsByTagName(e)}:function(e,t){var i=t.getElementsByTagName(e);if("*"===e){for(var s,r=[],n=0;s=i[n];n++)1===s.nodeType&&r.push(s);return r}return i},NAME:re&&function(e,t){if(typeof t.getElementsByName!==w)return t.getElementsByName(name)},CLASS:se&&function(e,t,i){if(typeof t.getElementsByClassName!==w&&!i)return t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,""),e[3]=(e[4]||e[5]||"").replace($,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||ne.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&ne.error(e[0]),e},PSEUDO:function(e){var t,i;return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(K.test(t)&&(i=de(t,!0))&&(i=t.indexOf(")",t.length-i)-t.length)&&(t=t.slice(0,i),e[0]=e[0].slice(0,i)),e[2]=t),e.slice(0,3))}},filter:{ID:s?function(e){return e=e.replace($,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace($,""),function(t){var i=typeof t.getAttributeNode!==w&&t.getAttributeNode("id");return i&&i.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace($,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=z[_][e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&z(e,(function(e){return t.test(e.className||typeof e.getAttribute!==w&&e.getAttribute("class")||"")}))},ATTR:function(e,t,i){return function(s,r){var n=ne.attr(s,e);return null==n?"!="===t:!t||(n+="","="===t?n===i:"!="===t?n!==i:"^="===t?i&&0===n.indexOf(i):"*="===t?i&&n.indexOf(i)>-1:"$="===t?i&&n.substr(n.length-i.length)===i:"~="===t?(" "+n+" ").indexOf(i)>-1:"|="===t&&(n===i||n.substr(0,i.length+1)===i+"-"))}},CHILD:function(e,t,i,s){return"nth"===e?function(e){var t,r,n=e.parentNode;if(1===i&&0===s)return!0;if(n)for(r=0,t=n.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return(r-=s)===i||r%i==0&&r/i>=0}:function(t){var i=t;switch(e){case"only":case"first":for(;i=i.previousSibling;)if(1===i.nodeType)return!1;if("first"===e)return!0;i=t;case"last":for(;i=i.nextSibling;)if(1===i.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,s=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ne.error("unsupported pseudo: "+e);return s[_]?s(t):s.length>1?(i=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?B((function(e,i){for(var r,n=s(e,t),o=n.length;o--;)e[r=H.call(e,n[o])]=!(i[r]=n[o])})):function(e){return s(e,0,i)}):s}},pseudos:{not:B((function(e){var t=[],i=[],s=l(e.replace(F,"$1"));return s[_]?B((function(e,t,i,r){for(var n,o=s(e,null,r,[]),a=e.length;a--;)(n=o[a])&&(e[a]=!(t[a]=n))})):function(e,r,n){return t[0]=e,s(t,null,n,i),!i.pop()}})),has:B((function(e){return function(t){return ne(e,t).length>0}})),contains:B((function(e){return function(t){return(t.textContent||t.innerText||n(t)).indexOf(e)>-1}})),enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},parent:function(e){return!r.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return Y.test(e.nodeName)},text:function(e){var t,i;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(i=e.getAttribute("type"))||i.toLowerCase()===t)},radio:oe("radio"),checkbox:oe("checkbox"),file:oe("file"),password:oe("password"),image:oe("image"),submit:ae("submit"),reset:ae("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return J.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:le((function(){return[0]})),last:le((function(e,t){return[t-1]})),eq:le((function(e,t,i){return[i<0?i+t:i]})),even:le((function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e})),odd:le((function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e})),lt:le((function(e,t,i){for(var s=i<0?i+t:i;--s>=0;)e.push(s);return e})),gt:le((function(e,t,i){for(var s=i<0?i+t:i;++s<t;)e.push(s);return e}))}},h=T.compareDocumentPosition?function(e,t){return e===t?(d=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return d=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var i,s,r=[],n=[],o=e.parentNode,a=t.parentNode,l=o;if(o===a)return he(e,t);if(!o)return-1;if(!a)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=a;l;)n.unshift(l),l=l.parentNode;i=r.length,s=n.length;for(var h=0;h<i&&h<s;h++)if(r[h]!==n[h])return he(r[h],n[h]);return h===i?he(e,n[h],-1):he(r[h],t,1)},[0,0].sort(h),u=!d,ne.uniqueSort=function(e){var t,i=[],s=1,r=0;if(d=u,e.sort(h),d){for(;t=e[s];s++)t===e[s-1]&&(r=i.push(s));for(;r--;)e.splice(i[r],1)}return e},ne.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},l=ne.compile=function(e,t){var s,n=[],o=[],a=A[_][e+" "];if(!a){for(t||(t=de(e)),s=t.length;s--;)(a=fe(t[s]))[_]?n.push(a):o.push(a);a=A(e,function(e,t){var s=t.length>0,n=e.length>0,o=function(a,l,h,d,u){var p,m,f,g=[],v=0,x="0",b=a&&[],y=null!=u,w=c,_=a||n&&r.find.TAG("*",u&&l.parentNode||l),q=C+=null==w?1:Math.E;for(y&&(c=l!==j&&l,i=o.el);null!=(p=_[x]);x++){if(n&&p){for(m=0;f=e[m];m++)if(f(p,l,h)){d.push(p);break}y&&(C=q,i=++o.el)}s&&((p=!f&&p)&&v--,a&&b.push(p))}if(v+=x,s&&x!==v){for(m=0;f=t[m];m++)f(b,g,l,h);if(a){if(v>0)for(;x--;)b[x]||g[x]||(g[x]=S.call(d));g=pe(g)}k.apply(d,g),y&&!a&&g.length>0&&v+t.length>1&&ne.uniqueSort(d)}return y&&(C=q,c=w),b};return o.el=0,s?B(o):o}(o,n))}return a},j.querySelectorAll&&(f=ge,g=/'|\\/g,v=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,x=[":focus"],b=[":active"],y=T.matchesSelector||T.mozMatchesSelector||T.webkitMatchesSelector||T.oMatchesSelector||T.msMatchesSelector,Z((function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||x.push("\\["+M+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||x.push(":checked")})),Z((function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&x.push("[*^$]="+M+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||x.push(":enabled",":disabled")})),x=new RegExp(x.join("|")),ge=function(e,t,i,s,r){if(!s&&!r&&!x.test(e)){var n,o,a=!0,l=_,h=t,d=9===t.nodeType&&e;if(1===t.nodeType&&"object"!==t.nodeName.toLowerCase()){for(n=de(e),(a=t.getAttribute("id"))?l=a.replace(g,"\\$&"):t.setAttribute("id",l),l="[id='"+l+"'] ",o=n.length;o--;)n[o]=l+n[o].join("");h=X.test(e)&&t.parentNode||t,d=n.join(",")}if(d)try{return k.apply(i,P.call(h.querySelectorAll(d),0)),i}catch(e){}finally{a||t.removeAttribute("id")}}return f(e,t,i,s,r)},y&&(Z((function(e){p=y.call(e,"div");try{y.call(e,"[test!='']:sizzle"),b.push("!=",W)}catch(e){}})),b=new RegExp(b.join("|")),ne.matchesSelector=function(e,t){if(t=t.replace(v,"='$1']"),!o(e)&&!b.test(t)&&!x.test(t))try{var i=y.call(e,t);if(i||p||e.document&&11!==e.document.nodeType)return i}catch(e){}return ne(t,null,null,[e]).length>0})),r.pseudos.nth=r.pseudos.eq,r.filters=ve.prototype=r.pseudos,r.setFilters=new ve,ne.attr=m.attr,m.find=ne,m.expr=ne.selectors,m.expr[":"]=m.expr.pseudos,m.unique=ne.uniqueSort,m.text=ne.getText,m.isXMLDoc=ne.isXML,m.contains=ne.contains}(e);var Q=/Until$/,Z=/^(?:parents|prev(?:Until|All))/,ee=/^.[^:#\[\.,]*$/,te=m.expr.match.needsContext,ie={children:!0,contents:!0,next:!0,prev:!0};function se(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function re(e,t){do{e=e[t]}while(e&&1!==e.nodeType);return e}function ne(e,t,i){if(t=t||0,m.isFunction(t))return m.grep(e,(function(e,s){return!!t.call(e,s,e)===i}));if(t.nodeType)return m.grep(e,(function(e,s){return e===t===i}));if("string"==typeof t){var s=m.grep(e,(function(e){return 1===e.nodeType}));if(ee.test(t))return m.filter(t,s,!i);t=m.filter(t,s)}return m.grep(e,(function(e,s){return m.inArray(e,t)>=0===i}))}function oe(e){var t=he.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}m.fn.extend({find:function(e){var t,i,s,r,n,o,a=this;if("string"!=typeof e)return m(e).filter((function(){for(t=0,i=a.length;t<i;t++)if(m.contains(a[t],this))return!0}));for(o=this.pushStack("","find",e),t=0,i=this.length;t<i;t++)if(s=o.length,m.find(e,this[t],o),t>0)for(r=s;r<o.length;r++)for(n=0;n<s;n++)if(o[n]===o[r]){o.splice(r--,1);break}return o},has:function(e){var t,i=m(e,this),s=i.length;return this.filter((function(){for(t=0;t<s;t++)if(m.contains(this,i[t]))return!0}))},not:function(e){return this.pushStack(ne(this,e,!1),"not",e)},filter:function(e){return this.pushStack(ne(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?te.test(e)?m(e,this.context).index(this[0])>=0:m.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var i,s=0,r=this.length,n=[],o=te.test(e)||"string"!=typeof e?m(e,t||this.context):0;s<r;s++)for(i=this[s];i&&i.ownerDocument&&i!==t&&11!==i.nodeType;){if(o?o.index(i)>-1:m.find.matchesSelector(i,e)){n.push(i);break}i=i.parentNode}return n=n.length>1?m.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?"string"==typeof e?m.inArray(this[0],m(e)):m.inArray(e.jqx?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var i="string"==typeof e?m(e,t):m.makeArray(e&&e.nodeType?[e]:e),s=m.merge(this.get(),i);return this.pushStack(se(i[0])||se(s[0])?s:m.unique(s))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),m.fn.andSelf=m.fn.addBack,m.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return m.dir(e,"parentNode")},parentsUntil:function(e,t,i){return m.dir(e,"parentNode",i)},next:function(e){return re(e,"nextSibling")},prev:function(e){return re(e,"previousSibling")},nextAll:function(e){return m.dir(e,"nextSibling")},prevAll:function(e){return m.dir(e,"previousSibling")},nextUntil:function(e,t,i){return m.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return m.dir(e,"previousSibling",i)},siblings:function(e){return m.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return m.sibling(e.firstChild)},contents:function(e){return m.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:m.merge([],e.childNodes)}},(function(e,t){m.fn[e]=function(i,s){var r=m.map(this,t,i);return Q.test(e)||(s=i),s&&"string"==typeof s&&(r=m.filter(s,r)),r=this.length>1&&!ie[e]?m.unique(r):r,this.length>1&&Z.test(e)&&(r=r.reverse()),this.pushStack(r,e,h.call(arguments).join(","))}})),m.extend({filter:function(e,t,i){return i&&(e=":not("+e+")"),1===t.length?m.find.matchesSelector(t[0],e)?[t[0]]:[]:m.find.matches(e,t)},dir:function(e,i,s){for(var r=[],n=e[i];n&&9!==n.nodeType&&(s===t||1!==n.nodeType||!m(n).is(s));)1===n.nodeType&&r.push(n),n=n[i];return r},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var ae,le,he="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",de=/ JQXLite\d+="(?:null|\d+)"/g,ce=/^\s+/,ue=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,pe=/<([\w:]+)/,me=/<tbody/i,fe=/<|&#?\w+;/,ge=/<(?:script|style|link)/i,ve=/<(?:script|object|embed|option|style)/i,xe=new RegExp("<(?:"+he+")[\\s/>]","i"),be=/^(?:checkbox|radio)$/,ye=/checked\s*(?:[^=]|=\s*.checked.)/i,we=/\/(java|ecma)script/i,_e=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},je=oe(r),Te=je.appendChild(r.createElement("div"));function Ce(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ie(e,t){if(1===t.nodeType&&m.hasData(e)){var i,s,r,n=m._data(e),o=m._data(t,n),a=n.events;if(a)for(i in delete o.handle,o.events={},a)for(s=0,r=a[i].length;s<r;s++)m.event.add(t,i,a[i][s]);o.data&&(o.data=m.extend({},o.data))}}function Se(e,t){var i;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),"object"===(i=t.nodeName.toLowerCase())?(t.parentNode&&(t.outerHTML=e.outerHTML),m.support.html5Clone&&e.innerHTML&&!m.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&be.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.selected=e.defaultSelected:"input"===i||"textarea"===i?t.defaultValue=e.defaultValue:"script"===i&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(m.expando))}function ke(e){return void 0!==e.getElementsByTagName?e.getElementsByTagName("*"):void 0!==e.querySelectorAll?e.querySelectorAll("*"):[]}function Pe(e){be.test(e.type)&&(e.defaultChecked=e.checked)}qe.optgroup=qe.option,qe.tbody=qe.tfoot=qe.colgroup=qe.caption=qe.thead,qe.th=qe.td,m.support.htmlSerialize||(qe._default=[1,"X<div>","</div>"]),m.fn.extend({text:function(e){return m.access(this,(function(e){return e===t?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||r).createTextNode(e))}),null,e,arguments.length)},wrapAll:function(e){if(m.isFunction(e))return this.each((function(t){m(this).wrapAll(e.call(this,t))}));if(this[0]){var t=m(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e})).append(this)}return this},wrapInner:function(e){return m.isFunction(e)?this.each((function(t){m(this).wrapInner(e.call(this,t))})):this.each((function(){var t=m(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)}))},wrap:function(e){var t=m.isFunction(e);return this.each((function(i){m(this).wrapAll(t?e.call(this,i):e)}))},unwrap:function(){return this.parent().each((function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)})).end()},append:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType||this.appendChild(e)}))},prepend:function(){return this.domManip(arguments,!0,(function(e){1!==this.nodeType&&11!==this.nodeType||this.insertBefore(e,this.firstChild)}))},before:function(){if(!se(this[0]))return this.domManip(arguments,!1,(function(e){this.parentNode.insertBefore(e,this)}));if(arguments.length){var e=m.clean(arguments);return this.pushStack(m.merge(e,this),"before",this.selector)}},after:function(){if(!se(this[0]))return this.domManip(arguments,!1,(function(e){this.parentNode.insertBefore(e,this.nextSibling)}));if(arguments.length){var e=m.clean(arguments);return this.pushStack(m.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var i,s=0;null!=(i=this[s]);s++)e&&!m.filter(e,[i]).length||(t||1!==i.nodeType||(m.cleanData(i.getElementsByTagName("*")),m.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&m.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return m.clone(this,e,t)}))},html:function(e){return m.access(this,(function(e){var i=this[0]||{},s=0,r=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(de,""):t;if("string"==typeof e&&!ge.test(e)&&(m.support.htmlSerialize||!xe.test(e))&&(m.support.leadingWhitespace||!ce.test(e))&&!qe[(pe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ue,"<$1></$2>");try{for(;s<r;s++)1===(i=this[s]||{}).nodeType&&(m.cleanData(i.getElementsByTagName("*")),i.innerHTML=e);i=0}catch(e){}}i&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(e){return se(this[0])?this.length?this.pushStack(m(m.isFunction(e)?e():e),"replaceWith",e):this:m.isFunction(e)?this.each((function(t){var i=m(this),s=i.html();i.replaceWith(e.call(this,t,s))})):("string"!=typeof e&&(e=m(e).detach()),this.each((function(){var t=this.nextSibling,i=this.parentNode;m(this).remove(),t?m(t).before(e):m(i).append(e)})))},detach:function(e){return this.remove(e,!0)},domManip:function(e,i,s){var r,n,o,a,l=0,h=(e=[].concat.apply([],e))[0],d=[],c=this.length;if(!m.support.checkClone&&c>1&&"string"==typeof h&&ye.test(h))return this.each((function(){m(this).domManip(e,i,s)}));if(m.isFunction(h))return this.each((function(r){var n=m(this);e[0]=h.call(this,r,i?n.html():t),n.domManip(e,i,s)}));if(this[0]){if(n=(o=(r=m.buildFragment(e,this,d)).fragment).firstChild,1===o.childNodes.length&&(o=n),n)for(i=i&&m.nodeName(n,"tr"),a=r.cacheable||c-1;l<c;l++)s.call(i&&m.nodeName(this[l],"table")?Ce(this[l],"tbody"):this[l],l===a?o:m.clone(o,!0,!0));o=n=null,d.length&&m.each(d,(function(e,t){t.src?m.ajax?m.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,throws:!0}):m.error("no ajax"):m.globalEval((t.text||t.textContent||t.innerHTML||"").replace(_e,"")),t.parentNode&&t.parentNode.removeChild(t)}))}return this}}),m.buildFragment=function(e,i,s){var n,o,a,l=e[0];return i=(i=!(i=i||r).nodeType&&i[0]||i).ownerDocument||i,!(1===e.length&&"string"==typeof l&&l.length<512&&i===r&&"<"===l.charAt(0))||ve.test(l)||!m.support.checkClone&&ye.test(l)||!m.support.html5Clone&&xe.test(l)||(o=!0,a=(n=m.fragments[l])!==t),n||(n=i.createDocumentFragment(),m.clean(e,i,n,s),o&&(m.fragments[l]=a&&n)),{fragment:n,cacheable:o}},m.fragments={},m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){m.fn[e]=function(i){var s,r=0,n=[],o=m(i),a=o.length,l=1===this.length&&this[0].parentNode;if((null==l||l&&11===l.nodeType&&1===l.childNodes.length)&&1===a)return o[t](this[0]),this;for(;r<a;r++)s=(r>0?this.clone(!0):this).get(),m(o[r])[t](s),n=n.concat(s);return this.pushStack(n,e,o.selector)}})),m.extend({clone:function(e,t,i){var s,r,n,o;if(m.support.html5Clone||m.isXMLDoc(e)||!xe.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Te.innerHTML=e.outerHTML,Te.removeChild(o=Te.firstChild)),!(m.support.noCloneEvent&&m.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||m.isXMLDoc(e)))for(Se(e,o),s=ke(e),r=ke(o),n=0;s[n];++n)r[n]&&Se(s[n],r[n]);if(t&&(Ie(e,o),i))for(s=ke(e),r=ke(o),n=0;s[n];++n)Ie(s[n],r[n]);return s=r=null,o},clean:function(e,t,i,s){var n,o,a,l,h,d,c,u,p,f,g,v=t===r&&je,x=[];for(t&&void 0!==t.createDocumentFragment||(t=r),n=0;null!=(a=e[n]);n++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(fe.test(a)){for(v=v||oe(t),c=t.createElement("div"),v.appendChild(c),a=a.replace(ue,"<$1></$2>"),l=(pe.exec(a)||["",""])[1].toLowerCase(),d=(h=qe[l]||qe._default)[0],c.innerHTML=h[1]+a+h[2];d--;)c=c.lastChild;if(!m.support.tbody)for(u=me.test(a),o=(p="table"!==l||u?"<table>"!==h[1]||u?[]:c.childNodes:c.firstChild&&c.firstChild.childNodes).length-1;o>=0;--o)m.nodeName(p[o],"tbody")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o]);!m.support.leadingWhitespace&&ce.test(a)&&c.insertBefore(t.createTextNode(ce.exec(a)[0]),c.firstChild),a=c.childNodes,c.parentNode.removeChild(c)}else a=t.createTextNode(a);a.nodeType?x.push(a):m.merge(x,a)}if(c&&(a=c=v=null),!m.support.appendChecked)for(n=0;null!=(a=x[n]);n++)m.nodeName(a,"input")?Pe(a):void 0!==a.getElementsByTagName&&m.grep(a.getElementsByTagName("input"),Pe);if(i)for(f=function(e){if(!e.type||we.test(e.type))return s?s.push(e.parentNode?e.parentNode.removeChild(e):e):i.appendChild(e)},n=0;null!=(a=x[n]);n++)m.nodeName(a,"script")&&f(a)||(i.appendChild(a),void 0!==a.getElementsByTagName&&(g=m.grep(m.merge([],a.getElementsByTagName("script")),f),x.splice.apply(x,[n+1,0].concat(g)),n+=g.length));return x},cleanData:function(e,t){for(var i,s,r,n,o=0,a=m.expando,l=m.cache,h=m.support.deleteExpando,d=m.event.special;null!=(r=e[o]);o++)if((t||m.acceptData(r))&&(i=(s=r[a])&&l[s])){if(i.events)for(n in i.events)d[n]?m.event.remove(r,n):m.removeEvent(r,n,i.handle);l[s]&&(delete l[s],h?delete r[a]:r.removeAttribute?r.removeAttribute(a):r[a]=null,m.deletedIds.push(s))}}}),m.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},le={},(ae=m.uaMatch(n.userAgent)).browser&&(le[ae.browser]=!0,le.version=ae.version),le.chrome?le.webkit=!0:le.webkit&&(le.safari=!0),m.browser=le,m.sub=function(){function e(t,i){return new e.fn.init(t,i)}m.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(i,s){return s&&s instanceof m&&!(s instanceof e)&&(s=e(s)),m.fn.init.call(this,i,s,t)},e.fn.init.prototype=e.fn;var t=e(r);return e};var He,Be,De,ze=/alpha\([^)]*\)/i,Ee=/opacity=([^)]*)/,Ae=/^(top|right|bottom|left)$/,Me=/^(none|table(?!-c[ea]).+)/,Oe=/^margin/,Ne=new RegExp("^("+f+")(.*)$","i"),Le=new RegExp("^("+f+")(?!px)[a-z%]+$","i"),We=new RegExp("^([-+])=("+f+")","i"),Re={BODY:"block"},Fe={position:"absolute",visibility:"hidden",display:"block"},Ve={letterSpacing:0,fontWeight:400},Ue=["Top","Right","Bottom","Left"],Ke=["Webkit","O","Moz","ms"],Ge=m.fn.toggle;function Xe(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),s=t,r=Ke.length;r--;)if((t=Ke[r]+i)in e)return t;return s}function Ye(e,t){return e=t||e,"none"===m.css(e,"display")||!m.contains(e.ownerDocument,e)}function Je(e,t){for(var i,s,r=[],n=0,o=e.length;n<o;n++)(i=e[n]).style&&(r[n]=m._data(i,"olddisplay"),t?(r[n]||"none"!==i.style.display||(i.style.display=""),""===i.style.display&&Ye(i)&&(r[n]=m._data(i,"olddisplay",et(i.nodeName)))):(s=He(i,"display"),r[n]||"none"===s||m._data(i,"olddisplay",s)));for(n=0;n<o;n++)(i=e[n]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?r[n]||"":"none"));return e}function $e(e,t,i){var s=Ne.exec(t);return s?Math.max(0,s[1]-(i||0))+(s[2]||"px"):t}function Qe(e,t,i,s){for(var r=i===(s?"border":"content")?4:"width"===t?1:0,n=0;r<4;r+=2)"margin"===i&&(n+=m.css(e,i+Ue[r],!0)),s?("content"===i&&(n-=parseFloat(He(e,"padding"+Ue[r]))||0),"margin"!==i&&(n-=parseFloat(He(e,"border"+Ue[r]+"Width"))||0)):(n+=parseFloat(He(e,"padding"+Ue[r]))||0,"padding"!==i&&(n+=parseFloat(He(e,"border"+Ue[r]+"Width"))||0));return n}function Ze(e,t,i){var s="width"===t?e.offsetWidth:e.offsetHeight,r=!0,n=m.support.boxSizing&&"border-box"===m.css(e,"boxSizing");if(s<=0||null==s){if(((s=He(e,t))<0||null==s)&&(s=e.style[t]),Le.test(s))return s;r=n&&(m.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+Qe(e,t,i||(n?"border":"content"),r)+"px"}function et(e){if(Re[e])return Re[e];var t=m("<"+e+">").appendTo(r.body),i=t.css("display");return t.remove(),"none"!==i&&""!==i||(Be=r.body.appendChild(Be||m.extend(r.createElement("iframe"),{frameBorder:0,width:0,height:0})),De&&Be.createElement||((De=(Be.contentWindow||Be.contentDocument).document).write("<!doctype html><html><body>"),De.close()),t=De.body.appendChild(De.createElement(e)),i=He(t,"display"),r.body.removeChild(Be)),Re[e]=i,i}m.fn.extend({css:function(e,i){return m.access(this,(function(e,i,s){return s!==t?m.style(e,i,s):m.css(e,i)}),e,i,arguments.length>1)},show:function(){return Je(this,!0)},hide:function(){return Je(this)},toggle:function(e,t){var i="boolean"==typeof e;return m.isFunction(e)&&m.isFunction(t)?Ge.apply(this,arguments):this.each((function(){(i?e:Ye(this))?m(this).show():m(this).hide()}))}}),m.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=He(e,"opacity");return""===i?"1":i}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:m.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,s,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var n,o,a,l=m.camelCase(i),h=e.style;if(i=m.cssProps[l]||(m.cssProps[l]=Xe(h,l)),a=m.cssHooks[i]||m.cssHooks[l],s===t)return a&&"get"in a&&(n=a.get(e,!1,r))!==t?n:h[i];if(!("string"===(o=typeof s)&&(n=We.exec(s))&&(s=(n[1]+1)*n[2]+parseFloat(m.css(e,i)),o="number"),null==s||"number"===o&&isNaN(s)||("number"!==o||m.cssNumber[l]||(s+="px"),a&&"set"in a&&(s=a.set(e,s,r))===t)))try{h[i]=s}catch(e){}}},css:function(e,i,s,r){var n,o,a,l=m.camelCase(i);return i=m.cssProps[l]||(m.cssProps[l]=Xe(e.style,l)),(a=m.cssHooks[i]||m.cssHooks[l])&&"get"in a&&(n=a.get(e,!0,r)),n===t&&(n=He(e,i)),"normal"===n&&i in Ve&&(n=Ve[i]),s||r!==t?(o=parseFloat(n),s||m.isNumeric(o)?o||0:n):n},swap:function(e,t,i){var s,r,n={};for(r in t)n[r]=e.style[r],e.style[r]=t[r];for(r in s=i.call(e),t)e.style[r]=n[r];return s}}),e.getComputedStyle?He=function(t,i){var s,r,n,o,a=e.getComputedStyle(t,null),l=t.style;return a&&(""!==(s=a.getPropertyValue(i)||a[i])||m.contains(t.ownerDocument,t)||(s=m.style(t,i)),Le.test(s)&&Oe.test(i)&&(r=l.width,n=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=s,s=a.width,l.width=r,l.minWidth=n,l.maxWidth=o)),s}:r.documentElement.currentStyle&&(He=function(e,t){var i,s,r=e.currentStyle&&e.currentStyle[t],n=e.style;return null==r&&n&&n[t]&&(r=n[t]),Le.test(r)&&!Ae.test(t)&&(i=n.left,(s=e.runtimeStyle&&e.runtimeStyle.left)&&(e.runtimeStyle.left=e.currentStyle.left),n.left="fontSize"===t?"1em":r,r=n.pixelLeft+"px",n.left=i,s&&(e.runtimeStyle.left=s)),""===r?"auto":r}),m.each(["height","width"],(function(e,t){m.cssHooks[t]={get:function(e,i,s){if(i)return 0===e.offsetWidth&&Me.test(He(e,"display"))?m.swap(e,Fe,(function(){return Ze(e,t,s)})):Ze(e,t,s)},set:function(e,i,s){return $e(0,i,s?Qe(e,t,s,m.support.boxSizing&&"border-box"===m.css(e,"boxSizing")):0)}}})),m.support.opacity||(m.cssHooks.opacity={get:function(e,t){return Ee.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,s=e.currentStyle,r=m.isNumeric(t)?"alpha(opacity="+100*t+")":"",n=s&&s.filter||i.filter||"";i.zoom=1,t>=1&&""===m.trim(n.replace(ze,""))&&i.removeAttribute&&(i.removeAttribute("filter"),s&&!s.filter)||(i.filter=ze.test(n)?n.replace(ze,r):n+" "+r)}}),m((function(){m.support.reliableMarginRight||(m.cssHooks.marginRight={get:function(e,t){return m.swap(e,{display:"inline-block"},(function(){if(t)return He(e,"marginRight")}))}}),!m.support.pixelPosition&&m.fn.position&&m.each(["top","left"],(function(e,t){m.cssHooks[t]={get:function(e,i){if(i){var s=He(e,t);return Le.test(s)?m(e).position()[t]+"px":s}}}}))})),m.expr&&m.expr.filters&&(m.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!m.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||He(e,"display"))},m.expr.filters.visible=function(e){return!m.expr.filters.hidden(e)}),m.each({margin:"",padding:"",border:"Width"},(function(e,t){m.cssHooks[e+t]={expand:function(i){var s,r="string"==typeof i?i.split(" "):[i],n={};for(s=0;s<4;s++)n[e+Ue[s]+t]=r[s]||r[s-2]||r[0];return n}},Oe.test(e)||(m.cssHooks[e+t].set=$e)}));var tt=/%20/g,it=/\[\]$/,st=/\r?\n/g,rt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,nt=/^(?:select|textarea)/i;function ot(e,t,i,s){var r;if(m.isArray(t))m.each(t,(function(t,r){i||it.test(e)?s(e,r):ot(e+"["+("object"==typeof r?t:"")+"]",r,i,s)}));else if(i||"object"!==m.type(t))s(e,t);else for(r in t)ot(e+"["+r+"]",t[r],i,s)}m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map((function(){return this.elements?m.makeArray(this.elements):this})).filter((function(){return this.name&&!this.disabled&&(this.checked||nt.test(this.nodeName)||rt.test(this.type))})).map((function(e,t){var i=m(this).val();return null==i?null:m.isArray(i)?m.map(i,(function(e,i){return{name:t.name,value:e.replace(st,"\r\n")}})):{name:t.name,value:i.replace(st,"\r\n")}})).get()}}),m.param=function(e,i){var s,r=[],n=function(e,t){t=m.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(e)||e.jqx&&!m.isPlainObject(e))m.each(e,(function(){n(this.name,this.value)}));else for(s in e)ot(s,e[s],i,n);return r.join("&").replace(tt,"+")},m.support.ajax&&m.ajaxTransport((function(i){var s;if(!i.crossDomain||m.support.cors)return{send:function(r,n){var o,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(a in r)l.setRequestHeader(a,r[a])}catch(e){}l.send(i.hasContent&&i.data||null),s=function(e,r){var a,h,d,c,u;try{if(s&&(r||4===l.readyState))if(s=t,o&&(l.onreadystatechange=m.noop,xhrOnUnloadAbort&&delete xhrCallbacks[o]),r)4!==l.readyState&&l.abort();else{a=l.status,d=l.getAllResponseHeaders(),c={},(u=l.responseXML)&&u.documentElement&&(c.xml=u);try{c.text=l.responseText}catch(e){}try{h=l.statusText}catch(e){h=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=c.text?200:404}}catch(e){r||n(-1,e)}c&&n(a,h,c,d)},i.async?4===l.readyState?setTimeout(s,0):(o=++xhrId,xhrOnUnloadAbort&&(xhrCallbacks||(xhrCallbacks={},m(e).unload(xhrOnUnloadAbort)),xhrCallbacks[o]=s),l.onreadystatechange=s):s()},abort:function(){s&&s(0,1)}}}));var at,lt,ht=/^(?:toggle|show|hide)$/,dt=new RegExp("^(?:([-+])=|)("+f+")([a-z%]*)$","i"),ct=/queueHooks$/,ut=[function(e,t,i){var s,r,n,o,a,l,h,d,c,u=this,p=e.style,f={},g=[],v=e.nodeType&&Ye(e);i.queue||(null==(d=m._queueHooks(e,"fx")).unqueued&&(d.unqueued=0,c=d.empty.fire,d.empty.fire=function(){d.unqueued||c()}),d.unqueued++,u.always((function(){u.always((function(){d.unqueued--,m.queue(e,"fx").length||d.empty.fire()}))})));1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],"inline"===m.css(e,"display")&&"none"===m.css(e,"float")&&(m.support.inlineBlockNeedsLayout&&"inline"!==et(e.nodeName)?p.zoom=1:p.display="inline-block"));i.overflow&&(p.overflow="hidden",m.support.shrinkWrapBlocks||u.done((function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]})));for(s in t)if(n=t[s],ht.exec(n)){if(delete t[s],l=l||"toggle"===n,n===(v?"hide":"show"))continue;g.push(s)}if(o=g.length){"hidden"in(a=m._data(e,"fxshow")||m._data(e,"fxshow",{}))&&(v=a.hidden),l&&(a.hidden=!v),v?m(e).show():u.done((function(){m(e).hide()})),u.done((function(){var t;for(t in m.removeData(e,"fxshow",!0),f)m.style(e,t,f[t])}));for(s=0;s<o;s++)r=g[s],h=u.createTween(r,v?a[r]:0),f[r]=a[r]||m.style(e,r),r in a||(a[r]=h.start,v&&(h.end=h.start,h.start="width"===r||"height"===r?1:0))}}],pt={"*":[function(e,t){var i,s,r=this.createTween(e,t),n=dt.exec(t),o=r.cur(),a=+o||0,l=1,h=20;if(n){if(i=+n[2],"px"!==(s=n[3]||(m.cssNumber[e]?"":"px"))&&a){a=m.css(r.elem,e,!0)||i||1;do{a/=l=l||".5",m.style(r.elem,e,a+s)}while(l!==(l=r.cur()/o)&&1!==l&&--h)}r.unit=s,r.start=a,r.end=n[1]?a+(n[1]+1)*i:i}return r}]};function mt(){return setTimeout((function(){at=t}),0),at=m.now()}function ft(e,t,i){var s,r=0,n=ut.length,o=m.Deferred().always((function(){delete a.elem})),a=function(){for(var t=at||mt(),i=Math.max(0,l.startTime+l.duration-t),s=1-(i/l.duration||0),r=0,n=l.tweens.length;r<n;r++)l.tweens[r].run(s);return o.notifyWith(e,[l,s,i]),s<1&&n?i:(o.resolveWith(e,[l]),!1)},l=o.promise({elem:e,props:m.extend({},t),opts:m.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:at||mt(),duration:i.duration,tweens:[],createTween:function(t,i,s){var r=m.Tween(e,l.opts,t,i,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){for(var i=0,s=t?l.tweens.length:0;i<s;i++)l.tweens[i].run(1);return t?o.resolveWith(e,[l,t]):o.rejectWith(e,[l,t]),this}}),h=l.props;for(!function(e,t){var i,s,r,n,o;for(i in e)if(r=t[s=m.camelCase(i)],n=e[i],m.isArray(n)&&(r=n[1],n=e[i]=n[0]),i!==s&&(e[s]=n,delete e[i]),(o=m.cssHooks[s])&&"expand"in o)for(i in n=o.expand(n),delete e[s],n)i in e||(e[i]=n[i],t[i]=r);else t[s]=r}(h,l.opts.specialEasing);r<n;r++)if(s=ut[r].call(l,e,h,l.opts))return s;return function(e,t){m.each(t,(function(t,i){for(var s=(pt[t]||[]).concat(pt["*"]),r=0,n=s.length;r<n;r++)if(s[r].call(e,t,i))return}))}(l,h),m.isFunction(l.opts.start)&&l.opts.start.call(e,l),m.fx.timer(m.extend(a,{anim:l,queue:l.opts.queue,elem:e})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function gt(e,t,i,s,r){return new gt.prototype.init(e,t,i,s,r)}function vt(e,t){var i,s={height:e},r=0;for(t=t?1:0;r<4;r+=2-t)s["margin"+(i=Ue[r])]=s["padding"+i]=e;return t&&(s.opacity=s.width=e),s}m.Animation=m.extend(ft,{tweener:function(e,t){m.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,s=0,r=e.length;s<r;s++)i=e[s],pt[i]=pt[i]||[],pt[i].unshift(t)},prefilter:function(e,t){t?ut.unshift(e):ut.push(e)}}),m.Tween=gt,gt.prototype={constructor:gt,init:function(e,t,i,s,r,n){this.elem=e,this.prop=i,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=s,this.unit=n||(m.cssNumber[i]?"":"px")},cur:function(){var e=gt.propHooks[this.prop];return e&&e.get?e.get(this):gt.propHooks._default.get(this)},run:function(e){var t,i=gt.propHooks[this.prop];return this.options.duration?this.pos=t=m.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):gt.propHooks._default.set(this),this}},gt.prototype.init.prototype=gt.prototype,gt.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=m.css(e.elem,e.prop,!1,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){m.fx.step[e.prop]?m.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[m.cssProps[e.prop]]||m.cssHooks[e.prop])?m.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},gt.propHooks.scrollTop=gt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},m.each(["toggle","show","hide"],(function(e,t){var i=m.fn[t];m.fn[t]=function(s,r,n){return null==s||"boolean"==typeof s||!e&&m.isFunction(s)&&m.isFunction(r)?i.apply(this,arguments):this.animate(vt(t,!0),s,r,n)}})),m.fn.extend({fadeTo:function(e,t,i,s){return this.filter(Ye).css("opacity",0).show().end().animate({opacity:t},e,i,s)},animate:function(e,t,i,s){var r=m.isEmptyObject(e),n=m.speed(t,i,s),o=function(){var t=ft(this,m.extend({},e),n);r&&t.stop(!0)};return r||!1===n.queue?this.each(o):this.queue(n.queue,o)},stop:function(e,i,s){var r=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof e&&(s=i,i=e,e=t),i&&!1!==e&&this.queue(e||"fx",[]),this.each((function(){var t=!0,i=null!=e&&e+"queueHooks",n=m.timers,o=m._data(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&ct.test(i)&&r(o[i]);for(i=n.length;i--;)n[i].elem!==this||null!=e&&n[i].queue!==e||(n[i].anim.stop(s),t=!1,n.splice(i,1));!t&&s||m.dequeue(this,e)}))}}),m.each({slideDown:vt("show"),slideUp:vt("hide"),slideToggle:vt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){m.fn[e]=function(e,i,s){return this.animate(t,e,i,s)}})),m.speed=function(e,t,i){var s=e&&"object"==typeof e?m.extend({},e):{complete:i||!i&&t||m.isFunction(e)&&e,duration:e,easing:i&&t||t&&!m.isFunction(t)&&t};return s.duration=m.fx.off?0:"number"==typeof s.duration?s.duration:s.duration in m.fx.speeds?m.fx.speeds[s.duration]:m.fx.speeds._default,null!=s.queue&&!0!==s.queue||(s.queue="fx"),s.old=s.complete,s.complete=function(){m.isFunction(s.old)&&s.old.call(this),s.queue&&m.dequeue(this,s.queue)},s},m.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},m.timers=[],m.fx=gt.prototype.init,m.fx.tick=function(){var e,i=m.timers,s=0;for(at=m.now();s<i.length;s++)(e=i[s])()||i[s]!==e||i.splice(s--,1);i.length||m.fx.stop(),at=t},m.fx.timer=function(e){e()&&m.timers.push(e)&&!lt&&(lt=setInterval(m.fx.tick,m.fx.interval))},m.fx.interval=13,m.fx.stop=function(){clearInterval(lt),lt=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fx.step={},m.expr&&m.expr.filters&&(m.expr.filters.animated=function(e){return m.grep(m.timers,(function(t){return e===t.elem})).length});var xt=/^(?:body|html)$/i;function bt(e){return m.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}m.fn.offset=function(e){if(arguments.length)return e===t?this:this.each((function(t){m.offset.setOffset(this,e,t)}));var i,s,r,n,o,a,l,h={top:0,left:0},d=this[0],c=d&&d.ownerDocument;return c?(s=c.body)===d?m.offset.bodyOffset(d):(i=c.documentElement,m.contains(i,d)?(void 0!==d.getBoundingClientRect&&(h=d.getBoundingClientRect()),r=bt(c),n=i.clientTop||s.clientTop||0,o=i.clientLeft||s.clientLeft||0,a=r.pageYOffset||i.scrollTop,l=r.pageXOffset||i.scrollLeft,{top:h.top+a-n,left:h.left+l-o}):h):void 0},m.offset={bodyOffset:function(e){var t=e.offsetTop,i=e.offsetLeft;return m.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(m.css(e,"marginTop"))||0,i+=parseFloat(m.css(e,"marginLeft"))||0),{top:t,left:i}},setOffset:function(e,t,i){var s=m.css(e,"position");"static"===s&&(e.style.position="relative");var r,n,o=m(e),a=o.offset(),l=m.css(e,"top"),h=m.css(e,"left"),d={},c={};("absolute"===s||"fixed"===s)&&m.inArray("auto",[l,h])>-1?(r=(c=o.position()).top,n=c.left):(r=parseFloat(l)||0,n=parseFloat(h)||0),m.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+n),"using"in t?t.using.call(e,d):o.css(d)}},m.fn.extend({isRendered:function(){var e=this[0];return null!=e.parentNode&&0!==e.offsetWidth&&0!==e.offsetHeight},getSizeFromStyle:function(){var t,i=null,s=null,r=this[0];return r.style.width&&(i=r.style.width),r.style.height&&(s=r.style.height),(t=e.getComputedStyle?getComputedStyle(r,null):r.currentStyle)&&(t.width&&(i=t.width),t.height&&(s=t.height)),"0px"===i&&(i=0),"0px"===s&&(s=0),null===i&&(i=0),null===s&&(s=0),{width:i,height:s}},initAnimate:function(){},sizeStyleChanged:function(e){var t,i=this;t={element:i[0],offsetWidth:i[0].offsetWidth,offsetHeight:i[0].offsetHeight,callback:e};try{i.elementStyleObserver||(i.elementStyleObserver=new MutationObserver((function(e){var s=t;e&&e[0]&&"style"===e[0].attributeName&&"attributes"===e[0].type&&(s.element.offsetWidth===s.offsetWidth&&s.element.offsetHeight===s.offsetHeight||(s.offsetWidth=s.element.offsetWidth,s.offsetHeight=s.element.offsetHeight,i.isRendered()&&s.callback()))})),i.elementStyleObserver.observe(i[0],{attributes:!0,childList:!1,characterData:!1}))}catch(e){}},position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),i=this.offset(),s=xt.test(t[0].nodeName)?{top:0,left:0}:t.offset();return i.top-=parseFloat(m.css(e,"marginTop"))||0,i.left-=parseFloat(m.css(e,"marginLeft"))||0,s.top+=parseFloat(m.css(t[0],"borderTopWidth"))||0,s.left+=parseFloat(m.css(t[0],"borderLeftWidth"))||0,{top:i.top-s.top,left:i.left-s.left}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent||r.body;e&&!xt.test(e.nodeName)&&"static"===m.css(e,"position");)e=e.offsetParent;return e||r.body}))}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,i){var s=/Y/.test(i);m.fn[e]=function(r){return m.access(this,(function(e,r,n){var o=bt(e);if(n===t)return o?i in o?o[i]:o.document.documentElement[r]:e[r];o?o.scrollTo(s?m(o).scrollLeft():n,s?n:m(o).scrollTop()):e[r]=n}),e,r,arguments.length,null)}})),m.each({Height:"height",Width:"width"},(function(e,i){m.each({padding:"inner"+e,content:i,"":"outer"+e},(function(s,r){m.fn[r]=function(r,n){var o=arguments.length&&(s||"boolean"!=typeof r),a=s||(!0===r||!0===n?"margin":"border");return m.access(this,(function(i,s,r){var n;return m.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(n=i.documentElement,Math.max(i.body["scroll"+e],n["scroll"+e],i.body["offset"+e],n["offset"+e],n["client"+e])):r===t?m.css(i,s,r,a):m.style(i,s,r,a)}),i,o?r:t,o,null)}}))})),e.JQXLite=e.jqxHelper=m,"function"==typeof define&&define.amd&&define.amd.JQXLite&&define("jqx",[],(function(){return m}))}(window),function(e){if(e.jqxCore)return e.$$=e.minQuery=e.JQXLite,void(e.$||(e.$=e.minQuery));e.jQuery?e.minQuery=e.JQXLite=e.jQuery:e.$?e.minQuery=e.JQXLite=e.$:e.$=e.minQuery=e.JQXLite}(window),JQXLite.generateID=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},t="";do{t="jqx"+e()+e()+e()}while($("#"+t).length>0);return t};var jqxBaseFramework=window.jqxBaseFramework=window.minQuery||window.jQuery;!function(e){e.jqx=e.jqx||{},window.jqx=e.jqx;var t,i,s,r,n={createInstance:function(t,i,s){if("jqxDataAdapter"==i){var r=s[0],n=s[1]||{};return new e.jqx.dataAdapter(r,n)}return e(t)[i](s||{}),e(t)[i]("getInstance")}};window.jqwidgets=n,e.jqx.define=function(e,t,i){e[t]=function(){this.baseType&&(this.base=new e[this.baseType],this.base.defineInstance()),this.defineInstance(),this.metaInfo()},e[t].prototype.defineInstance=function(){},e[t].prototype.metaInfo=function(){},e[t].prototype.base=null,e[t].prototype.baseType=void 0,i&&e[i]&&(e[t].prototype.baseType=i)},e.jqx.invoke=function(t,i){if(0!=i.length){for(var s=typeof i==Array||i.length>0?i[0]:i,r=typeof i==Array||i.length>1?Array.prototype.slice.call(i,1):e({}).toArray();null==t[s]&&null!=t.base;){if(null!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);var n;if("string"==typeof s)if(null!=t[n=s.toLowerCase()]&&e.isFunction(t[n]))return t[n].apply(t,r);t=t.base}if(null!=t[s]&&e.isFunction(t[s]))return t[s].apply(t,r);if("string"==typeof s)if(null!=t[n=s.toLowerCase()]&&e.isFunction(t[n]))return t[n].apply(t,r)}},e.jqx.getByPriority=function(e){for(var t=void 0,i=0;i<e.length&&null==t;i++)null==t&&null!=e[i]&&(t=e[i]);return t},e.jqx.hasProperty=function(e,t){if("object"==typeof t)for(var i in t){for(var s=e;s;){if(s.hasOwnProperty(i))return!0;if(s.hasOwnProperty(i.toLowerCase()))return!0;s=s.base}return!1}else for(;e;){if(e.hasOwnProperty(t))return!0;if(e.hasOwnProperty(t.toLowerCase()))return!0;e=e.base}return!1},e.jqx.hasFunction=function(t,i){if(0==i.length)return!1;if(null==t)return!1;var s=typeof i==Array||i.length>0?i[0]:i;for((typeof i==Array||i.length>1)&&Array.prototype.slice.call(i,1);null==t[s]&&null!=t.base;){if(t[s]&&e.isFunction(t[s]))return!0;var r;if("string"==typeof s)if(t[r=s.toLowerCase()]&&e.isFunction(t[r]))return!0;t=t.base}if(t[s]&&e.isFunction(t[s]))return!0;if("string"==typeof s&&(t[r=s.toLowerCase()]&&e.isFunction(t[r])))return!0;return!1},e.jqx.isPropertySetter=function(t,i){return 1==i.length&&"object"==typeof i[0]||2==i.length&&"string"==typeof i[0]&&!e.jqx.hasFunction(t,i)},e.jqx.validatePropertySetter=function(t,i,s){if(!e.jqx.propertySetterValidation)return!0;if(1==i.length&&"object"==typeof i[0]){for(var r in i[0]){for(var n=t;!n.hasOwnProperty(r)&&n.base;)n=n.base;if(!n||!n.hasOwnProperty(r)){if(!s){if(n.hasOwnProperty(r.toString().toLowerCase()))return!0;throw"Invalid property: "+r}return!1}}return!0}if(2!=i.length){if(!s)throw"Invalid property: "+i.length>=0?i[0]:"";return!1}for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(!t||!t.hasOwnProperty(i[0])){if(!s)throw"Invalid property: "+i[0];return!1}return!0},Object.keys||(Object.keys=(t=Object.prototype.hasOwnProperty,i=!{toString:null}.propertyIsEnumerable("toString"),r=(s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"]).length,function(e){if("object"!=typeof e&&("function"!=typeof e||null===e))throw new TypeError("Object.keys called on non-object");var n,o,a=[];for(n in e)t.call(e,n)&&a.push(n);if(i)for(o=0;o<r;o++)t.call(e,s[o])&&a.push(s[o]);return a})),e.jqx.set=function(t,i){var s=0;if(1==i.length&&"object"==typeof i[0]){if(t.isInitialized&&Object.keys&&Object.keys(i[0]).length>1){var r=t.base?t.base.element:t.element,n=e.data(r,t.widgetName).initArgs;if(n&&JSON&&JSON.stringify&&i[0]&&n[0])try{if(JSON.stringify(i[0])==JSON.stringify(n[0])){var o=!0;if(e.each(i[0],(function(e,i){if(t[e]!=i)return o=!1,!1})),o)return}}catch(e){}t.batchUpdate=i[0];var a={},l={};e.each(i[0],(function(e,i){for(var r=t;!r.hasOwnProperty(e)&&null!=r.base;)r=r.base;r.hasOwnProperty(e)?t[e]!=i&&(a[e]=t[e],l[e]=i,s++):r.hasOwnProperty(e.toLowerCase())&&t[e.toLowerCase()]!=i&&(a[e.toLowerCase()]=t[e.toLowerCase()],l[e.toLowerCase()]=i,s++)})),s<2&&(t.batchUpdate=null)}e.each(i[0],(function(i,s){for(var r=t;!r.hasOwnProperty(i)&&null!=r.base;)r=r.base;if(r.hasOwnProperty(i))e.jqx.setvalueraiseevent(r,i,s);else if(r.hasOwnProperty(i.toLowerCase()))e.jqx.setvalueraiseevent(r,i.toLowerCase(),s);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i+"'"})),null!=t.batchUpdate&&(t.batchUpdate=null,t.propertiesChangedHandler&&s>1&&t.propertiesChangedHandler(t,a,l))}else if(2==i.length){for(;!t.hasOwnProperty(i[0])&&t.base;)t=t.base;if(t.hasOwnProperty(i[0]))e.jqx.setvalueraiseevent(t,i[0],i[1]);else if(t.hasOwnProperty(i[0].toLowerCase()))e.jqx.setvalueraiseevent(t,i[0].toLowerCase(),i[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+i[0]+"'"}},e.jqx.setvalueraiseevent=function(e,t,i){var s=e[t];e[t]=i,e.isInitialized&&(null!=e.propertyChangedHandler&&e.propertyChangedHandler(e,t,s,i),null!=e.propertyChangeMap&&null!=e.propertyChangeMap[t]&&e.propertyChangeMap[t](e,t,s,i))},e.jqx.get=function(e,t){if(null!=t&&null!=t){if(e.propertyMap){var i=e.propertyMap(t);if(null!=i)return i}if(e.hasOwnProperty(t))return e[t];if(e.hasOwnProperty(t.toLowerCase()))return e[t.toLowerCase()];var s=void 0;if(typeof t==Array){if(1!=t.length)return;s=t[0]}else"string"==typeof t&&(s=t);for(;!e.hasOwnProperty(s)&&e.base;)e=e.base;return e?e[s]:void 0}},e.jqx.serialize=function(t){var i="";if(e.isArray(t)){i="[";for(var s=0;s<t.length;s++)s>0&&(i+=", "),i+=e.jqx.serialize(t[s]);i+="]"}else if("object"==typeof t){i="{";var r=0;for(var s in t)r++>0&&(i+=", "),i+=s+": "+e.jqx.serialize(t[s]);i+="}"}else i=t.toString();return i},e.jqx.propertySetterValidation=!0,e.jqx.jqxWidgetProxy=function(t,i,s){e(i);var r=e.data(i,t);if(null!=r){var n=r.instance;if(e.jqx.hasFunction(n,s))return e.jqx.invoke(n,s);if(e.jqx.isPropertySetter(n,s)){if(e.jqx.validatePropertySetter(n,s))return void e.jqx.set(n,s)}else{if("object"==typeof s&&0==s.length)return;if("object"==typeof s&&1==s.length&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s[0]);if("string"==typeof s&&e.jqx.hasProperty(n,s[0]))return e.jqx.get(n,s)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(s)+"' does not exist."}},e.jqx.applyWidget=function(t,i,s,r){var n=!1;try{n=null!=window.MSApp}catch(e){}var o=e(t);r?(r.host=o,r.element=t):r=new e.jqx["_"+i],""==t.id&&(t.id=e.jqx.utilities.createId());var a={host:o,element:t,instance:r,initArgs:s};r.widgetName=i,e.data(t,i,a),e.data(t,"jqxWidget",a.instance);var l=new Array;for(r=a.instance;r;)r.isInitialized=!1,l.push(r),r=r.base;for(var h in l.reverse(),l[0].theme=e.jqx.theme||"",e.jqx.jqxWidgetProxy(i,t,s),l)r=l[h],0==h&&(r.host=o,r.element=t,r.WinJS=n),null!=r&&(r.definedInstance&&r.definedInstance(),null!=r.createInstance&&(n?MSApp.execUnsafeLocalFunction((function(){r.createInstance(s)})):r.createInstance(s)));for(var h in l)null!=l[h]&&(l[h].isInitialized=!0);n?MSApp.execUnsafeLocalFunction((function(){a.instance.refresh(!0)})):a.instance.refresh(!0)},e.jqx.jqxWidget=function(t,i,s){try{Array.prototype.slice.call(s,0)}catch(e){}try{null!=window.MSApp}catch(e){}var r=t,o="";i&&(o="_"+i),e.jqx.define(e.jqx,"_"+r,o);var a=new Array;if(!window[r]){var l=function(t){if(null==t)return"";switch(e.type(t)){case"string":case"number":case"date":case"boolean":case"bool":return null===t?"":t.toString()}var i="";return e.each(t,(function(t,s){var r=s;t>0&&(i+=", "),i+="[";var n=0;if("object"==e.type(r))for(var o in r)n>0&&(i+=", "),i+="{"+o+":"+r[o]+"}",n++;else n>0&&(i+=", "),i+="{"+t+":"+r+"}",n++;i+="]"})),i};n[r]=window[r]=function(t,i){var s=[];i||(i={}),s.push(i);var n=t;if("object"===e.type(n)&&t[0]?""===(n=t[0].id)&&(n=t[0].id=e.jqx.utilities.createId()):"object"===e.type(t)&&t&&t.nodeName&&""===(n=t.id)&&(n=t.id=e.jqx.utilities.createId()),window.jqxWidgets&&window.jqxWidgets[n]){var o;if(i&&e.each(window.jqxWidgets[n],(function(t){var s=e(this.element).data();s&&s.jqxWidget&&e(this.element)[r](i)})),1==window.jqxWidgets[n].length)if((o=e(window.jqxWidgets[n][0].widgetInstance.element).data())&&o.jqxWidget)return window.jqxWidgets[n][0];if((o=e(window.jqxWidgets[n][0].widgetInstance.element).data())&&o.jqxWidget)return window.jqxWidgets[n]}var h=e(t);0===h.length&&(h=e("<div></div>"),"jqxInput"!==r&&"jqxPasswordInput"!==r&&"jqxMaskedInput"!==r||(h=e("<input/>")),"jqxTextArea"===r&&(h=e("<textarea></textarea>")),"jqxButton"!==r&&"jqxRepeatButton"!==r&&"jqxToggleButton"!==r||(h=e("<button/>")),"jqxSplitter"===r&&(h=e("<div><div>Panel 1</div><div>Panel 2</div></div>")),"jqxTabs"===r&&(h=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div>Content 1</div><div>Content 2</div></div>")),"jqxRibbon"===r&&(h=e("<div><ul><li>Tab 1</li><li>Tab 2</li></ul><div><div>Content 1</div><div>Content 2</div></div></div>")),"jqxDocking"===r&&(h=e("<div><div><div><div>Title 1</div><div>Content 1</div></div></div></div>")),"jqxWindow"===r&&(h=e("<div><div>Title 1</div><div>Content 1</div></div>")));var d=[];return e.each(h,(function(t){var i=h[t];if(e.jqx.applyWidget(i,r,s,void 0),!a[r]){var o=e.data(i,"jqxWidget"),c=e.jqx["_"+r].prototype.defineInstance();e.jqx["_"+r].prototype.metaInfo&&e.jqx["_"+r].prototype.metaInfo(),"jqxDockingLayout"==r&&(c=e.extend(c,e.jqx._jqxLayout.prototype.defineInstance())),"jqxToggleButton"!=r&&"jqxRepeatButton"!=r||(c=e.extend(c,e.jqx._jqxButton.prototype.defineInstance())),"jqxTreeGrid"==r&&(c=e.extend(c,e.jqx._jqxDataTable.prototype.defineInstance()));var u=function(t){var i=e.data(t,"jqxWidget");this.widgetInstance=i;var s=e.extend(this,i);for(var r in s.on=s.addEventListener=function(e,t){s.addHandler(s.base?s.base.host:s.host,e,t)},s.off=s.removeEventListener=function(e){s.removeHandler(s.base?s.base.host:s.host,e)},i)"function"==e.type(i[r])&&(s[r]=e.proxy(i[r],i));return s};a[r]=u,e.each(c,(function(t,i){Object.defineProperty(u.prototype,t,{get:function(){return this.widgetInstance?this.widgetInstance[t]:i},set:function(i){if(this.widgetInstance&&(this.widgetInstance[t]!=i||"width"===t||"height"===t)){var s=this.widgetInstance[t],n=i,o=!1;if(e.type(s)==e.type(n)&&"source"!==t&&"width"!==t&&"height"!==t||(o=!0),o||l(s)!=l(n)){var a={};a[t]=i,this.widgetInstance.host?this.widgetInstance.host[r](a):this.widgetInstance.base.host[r](a),this.widgetInstance[t]=i,this.widgetInstance.propertyUpdated&&this.widgetInstance.propertyUpdated(t,s,i)}}}})}))}o=new a[r](i);d.push(o),window.jqxWidgets||(window.jqxWidgets=new Array),window.jqxWidgets[n]||(window.jqxWidgets[n]=new Array),window.jqxWidgets[n].push(o)})),1===d.length?d[0]:d}}e.fn[r]=function(){var t=Array.prototype.slice.call(arguments,0);if(0==t.length||1==t.length&&"object"==typeof t[0]){if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");return this.each((function(){e(this);null==e.data(this,r)?e.jqx.applyWidget(this,r,t,void 0):e.jqx.jqxWidgetProxy(r,this,t)}))}if(0==this.length)throw this.selector?new Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct."):new Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");var i=null,s=0;return this.each((function(){var n=e.jqx.jqxWidgetProxy(r,this,t);if(0==s)i=n,s++;else{if(1==s){var o=[];o.push(i),i=o}i.push(n)}})),i};try{e.extend(e.jqx["_"+r].prototype,Array.prototype.slice.call(s,0)[0])}catch(e){}e.extend(e.jqx["_"+r].prototype,{toThemeProperty:function(t,i){return e.jqx.toThemeProperty(this,t,i)},isMaterialized:function(){return!!this.theme&&("fluent"===this.theme||("light"===this.theme||("dark"===this.theme||("deepblue"===this.theme||(this.theme.indexOf("material")>=0||void 0)))))},isModern:function(){return!!this.theme&&(this.theme.indexOf("light")>=0||("dark"===this.theme||void 0))},_addBarAndLabel:function(t){var i=this,s=e("<label></label");s[0].innerHTML=this.placeHolder,s.addClass(i.toThemeProperty("jqx-input-label")),t.after(s),i.label=s;var r=e("<span></span>");t.after(r),r.addClass(i.toThemeProperty("jqx-input-bar")),i.bar=r,i.bar.css("top",this.host.height())}}),e.jqx["_"+r].prototype.refresh=function(){this.base&&this.base.refresh(!0)},e.jqx["_"+r].prototype.createInstance=function(){},e.jqx.isPassiveSupported=function(){var e=this;if(void 0!==e.supportsPassive)return e.supportsPassive;e.supportsPassive=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e.supportsPassive=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e.supportsPassive},e.jqx["_"+r].prototype.addEventHandler=function(e,t){this.base?this.base.host.on(e,t):this.host.on(e,t)},e.jqx["_"+r].prototype.removeEventHandler=function(e,t){this.base?this.base.host.off(e):this.host.off(e)},e.jqx["_"+r].prototype.applyTo=function(t,i){if(!(i instanceof Array)){var s=[];s.push(i),i=s}e.jqx.applyWidget(t,r,i,this)},e.jqx["_"+r].prototype.getInstance=function(){return this},e.jqx["_"+r].prototype.propertyChangeMap={},e.jqx["_"+r].prototype.addHandler=function(t,i,s,r){e.jqx.addHandler(e(t),i,s,r)},e.jqx["_"+r].prototype.removeHandler=function(t,i,s){e.jqx.removeHandler(e(t),i,s)},e.jqx["_"+r].prototype.setOptions=function(){if(this.host&&this.host.length&&1==this.host.length)return e.jqx.jqxWidgetProxy(r,this.host[0],arguments)}},e.jqx.toThemeProperty=function(e,t,i){if(""==e.theme)return t;for(var s=t.split(" "),r="",n=0;n<s.length;n++){n>0&&(r+=" ");var o=s[n];r+=null!=i&&i?o+"-"+e.theme:o+" "+o+"-"+e.theme}return r},e.jqx.addHandler=function(t,i,s,r){for(var n=i.split(" "),o=0;o<n.length;o++){var a=n[o];if(window.addEventListener&&t[0])switch(a){case"mousewheel":e.jqx.browser.mozilla?t[0].addEventListener("DOMMouseScroll",s,!!e.jqx.isPassiveSupported()&&{passive:!1}):t[0].addEventListener("mousewheel",s,!!e.jqx.isPassiveSupported()&&{passive:!1});continue;case"mousemove":if(!r){t[0].addEventListener("mousemove",s,!1);continue}break;case"touchmove":if(!r){t[0].addEventListener("touchmove",s,!1);continue}if(r&&r.passive){t[0].addEventListener("touchmove",s,r);continue}}null==r||null==r?t.on?t.on(a,s):t.bind(a,s):t.on?t.on(a,r,s):t.bind(a,r,s)}},e.jqx.removeHandler=function(t,i,s){if(i)for(var r=i.split(" "),n=0;n<r.length;n++){var o=r[n];if(window.removeEventListener)switch(o){case"mousewheel":e.jqx.browser.mozilla?t[0].removeEventListener("DOMMouseScroll",s,!1):t[0].removeEventListener("mousewheel",s,!1);continue;case"mousemove":if(s){t[0].removeEventListener("mousemove",s,!1);continue}break;case"touchmove":if(s){t[0].removeEventListener("touchmove",s,!1);continue}}null!=o?null==s?t.off?t.off(o):t.unbind(o):t.off?t.off(o,s):t.unbind(o,s):t.off?t.off():t.unbind()}else t.off?t.off():t.unbind()},e.jqx.credits=e.jqx.credits||"",e.jqx.theme=e.jqx.theme||"",e.jqx.scrollAnimation=e.jqx.scrollAnimation||!1,e.jqx.resizeDelay=e.jqx.resizeDelay||10,e.jqx.ready=function(){e(window).trigger("jqxReady")},e.jqx.init=function(){e.each(arguments[0],(function(t,i){"theme"==t&&(e.jqx.theme=i),"scrollBarSize"==t&&(e.jqx.utilities.scrollBarSize=i),"touchScrollBarSize"==t&&(e.jqx.utilities.touchScrollBarSize=i),"scrollBarButtonsVisibility"==t&&(e.jqx.utilities.scrollBarButtonsVisibility=i)}))},e.jqx.utilities=e.jqx.utilities||{},e.extend(e.jqx.utilities,{scrollBarSize:13,touchScrollBarSize:8,scrollBarButtonsVisibility:"visible",createId:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return"jqxWidget"+e()+e()+e()},setTheme:function(t,i,s){if(void 0!==s&&s[0].className.split){void 0===t&&(t=""),void 0===i&&(i="");for(var r=s[0].className.split(" "),n=[],o=[],a=s.children(),l=0;l<r.length;l+=1)r[l].indexOf(t)>=0&&(t.length>0?(n.push(r[l]),o.push(r[l].replace(t,i))):o.push(r[l].replace("-"+i,"")+"-"+i));this._removeOldClasses(n,s),this._addNewClasses(o,s);for(l=0;l<a.length;l+=1)this.setTheme(t,i,e(a[l]))}},_removeOldClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.removeClass(e[i])},_addNewClasses:function(e,t){for(var i=0;i<e.length;i+=1)t.addClass(e[i])},getOffset:function(t){var i=e.jqx.mobile.getLeftPos(t[0]);return{top:e.jqx.mobile.getTopPos(t[0]),left:i}},resize:function(t,i,s,r){void 0===r&&(r=!0);var n=-1,o=this,a=function(e){if(!o.hiddenWidgets)return-1;for(var t=-1,i=0;i<o.hiddenWidgets.length;i++)if(e.id){if(o.hiddenWidgets[i].id==e.id){t=i;break}}else if(o.hiddenWidgets[i].id==e[0].id){t=i;break}return t};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(t.id){if(this.resizeHandlers[l].id==t.id){n=l;break}}else if(this.resizeHandlers[l].id==t[0].id){n=l;break}if(!0===s){if(-1!=n&&(this.resizeHandlers.splice(n,1),this.watchedElementData&&this.watchedElementData.length>0&&this.watchedElementData.splice(n,1)),0==this.resizeHandlers.length)(d=e(window)).off?(d.off("resize.jqx"),d.off("orientationchange.jqx"),d.off("orientationchanged.jqx")):(d.unbind("resize.jqx"),d.unbind("orientationchange.jqx"),d.unbind("orientationchanged.jqx")),this.resizeHandlers=null;return void(-1!=(h=a(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1))}}else{var h;if(!0===s)return void(-1!=(h=a(t))&&this.hiddenWidgets&&this.hiddenWidgets.splice(h,1))}o=this;var d,c=function(t,i){if(o.resizeHandlers){var s=function(e){for(var t=-1,i=e.parentNode;i;)t++,i=i.parentNode;return t},r=function(e,t){if(!e.widget||!t.widget)return 0;var i=s(e.widget[0]),r=s(t.widget[0]);try{if(i<r)return-1;if(i>r)return 1}catch(e){}return 0},n=function(t){if(o.hiddenWidgets.length>0){o.hiddenWidgets.sort(r);var s=function(){for(var t=!1,s=new Array,r=0;r<o.hiddenWidgets.length;r++){var n=o.hiddenWidgets[r];e.jqx.isHidden(n.widget)?(t=!0,s.push(n)):n.callback&&n.callback(i)}o.hiddenWidgets=s,t||clearInterval(o.__resizeInterval)};if(0==t)return s(),void(o.__resizeInterval&&clearInterval(o.__resizeInterval));o.__resizeInterval&&clearInterval(o.__resizeInterval),o.__resizeInterval=setInterval((function(){s()}),100)}};o.hiddenWidgets&&o.hiddenWidgets.length>0&&n(!1),o.hiddenWidgets=new Array,o.resizeHandlers.sort(r);for(var l=0;l<o.resizeHandlers.length;l++){var h=o.resizeHandlers[l],d=h.widget,c=h.data;if(c&&c.jqxWidget){var u=c.jqxWidget.width,p=c.jqxWidget.height;c.jqxWidget.base&&(null==u&&(u=c.jqxWidget.base.width),null==p&&(p=c.jqxWidget.base.height)),void 0===u&&void 0===p&&(u=c.jqxWidget.element.style.width,p=c.jqxWidget.element.style.height);var m=!1;if(null!=u&&-1!=u.toString().indexOf("%")&&(m=!0),null!=p&&-1!=p.toString().indexOf("%")&&(m=!0),e.jqx.isHidden(d))-1===a(d)&&(m||!0===t)&&!0!==h.data.nestedWidget&&o.hiddenWidgets.push(h);else if(void 0===t||!0!==t){if(m){if(h.callback(i),o.watchedElementData)for(var f=0;f<o.watchedElementData.length;f++)if(o.watchedElementData[f].element==c.jqxWidget.element){o.watchedElementData[f].offsetWidth=c.jqxWidget.element.offsetWidth,o.watchedElementData[f].offsetHeight=c.jqxWidget.element.offsetHeight;break}o.hiddenWidgets.indexOf(h)>=0&&o.hiddenWidgets.splice(o.hiddenWidgets.indexOf(h),1)}if(c.jqxWidget.element){var g=c.jqxWidget.element.className;if(g.indexOf("dropdownlist")>=0||g.indexOf("datetimeinput")>=0||g.indexOf("combobox")>=0||g.indexOf("menu")>=0)if(c.jqxWidget.isOpened)if(c.jqxWidget.isOpened()){if(i&&"resize"==i&&e.jqx.mobile.isTouchDevice())continue;c.jqxWidget.close()}}}}}n()}};this.resizeHandlers||(this.resizeHandlers=new Array,(d=e(window)).on?(this._resizeTimer=null,this._initResize=null,d.on("resize.jqx",(function(t){null!=o._resizeTimer&&clearTimeout(o._resizeTimer),o._initResize?o._resizeTimer=setTimeout((function(){c(null,"resize")}),e.jqx.resizeDelay):(o._initResize=!0,c(null,"resize"))})),d.on("orientationchange.jqx",(function(e){c(null,"orientationchange")})),d.on("orientationchanged.jqx",(function(e){c(null,"orientationchange")}))):(d.bind("resize.jqx",(function(e){c(null,"orientationchange")})),d.bind("orientationchange.jqx",(function(e){c(null,"orientationchange")})),d.bind("orientationchanged.jqx",(function(e){c(null,"orientationchange")}))));var u=t.data();r&&-1===n&&this.resizeHandlers.push({id:t[0].id,widget:t,callback:i,data:u});try{var p=u.jqxWidget.width,m=u.jqxWidget.height;u.jqxWidget.base&&(null==p&&(p=u.jqxWidget.base.width),null==m&&(m=u.jqxWidget.base.height)),void 0===p&&void 0===m&&(p=u.jqxWidget.element.style.width,m=u.jqxWidget.element.style.height);var f=!1;if(null!=p&&-1!=p.toString().indexOf("%")&&(f=!0),null!=m&&-1!=m.toString().indexOf("%")&&(f=!0),f){this.watchedElementData||(this.watchedElementData=[]);(o=this).watchedElementData.push({element:t[0],offsetWidth:t[0].offsetWidth,offsetHeight:t[0].offsetHeight,callback:i}),o.observer||(o.observer=new MutationObserver((function(t){o.watchedElementData.forEach&&o.watchedElementData.forEach((function(t){t.element.offsetWidth===t.offsetWidth&&t.element.offsetHeight===t.offsetHeight||(t.offsetWidth=t.element.offsetWidth,t.offsetHeight=t.element.offsetHeight,t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){e.jqx.isHidden(e(t.element))?t.timer=setInterval((function(){e.jqx.isHidden(e(t.element))||(clearInterval(t.timer),t.callback())}),100):t.callback()})))}))})),o.observer.observe(document.body,{attributes:!0,childList:!0,characterData:!0}))}}catch(e){}e.jqx.isHidden(t)&&!0===r&&c(!0),e.jqx.resize=function(){c(null,"resize")}},parseJSON:function(t){if(!t||"string"!=typeof t)return null;if(t=e.trim(t),window.JSON&&window.JSON.parse)return window.JSON.parse(t);if(/^[\],:{}\s]*$/.test(t.replace(/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,"@").replace(/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return new Function("return "+t)();throw new Error("Invalid JSON: "+t)},html:function(t,i){if(!e(t).on)return e(t).html(i);try{return e.access(t,(function(i){var s=t[0]||{},r=0,n=t.length;if(void 0===i)return 1===s.nodeType?s.innerHTML.replace(rinlinejQuery,""):void 0;var o=new RegExp("<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\\s/>]","i");if("string"==typeof i&&!/<(?:script|style|link)/i.test(i)&&(e.support.htmlSerialize||!o.test(i))&&(e.support.leadingWhitespace||!/^\s+/.test(i))&&!{option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]}[(/<([\w:]+)/.exec(i)||["",""])[1].toLowerCase()]){i=i.replace(/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,"<$1></$2>");try{for(;r<n;r++)1===(s=this[r]||{}).nodeType&&(e.cleanData(s.getElementsByTagName("*")),s.innerHTML=i);s=0}catch(e){}}s&&t.empty().append(i)}),null,i,arguments.length)}catch(s){return e(t).html(i)}},hasTransform:function(t){var i="";if(""==(i=t.css("transform"))||"none"==i){if(""!=(i=t.parents().css("transform"))&&"none"!=i)return""!=i&&"none"!=i;var s=e.jqx.utilities.getBrowser();"msie"==s.browser?""!=(i=t.css("-ms-transform"))&&"none"!=i||(i=t.parents().css("-ms-transform")):"chrome"==s.browser?""!=(i=t.css("-webkit-transform"))&&"none"!=i||(i=t.parents().css("-webkit-transform")):"opera"==s.browser?""!=(i=t.css("-o-transform"))&&"none"!=i||(i=t.parents().css("-o-transform")):"mozilla"==s.browser&&(""!=(i=t.css("-moz-transform"))&&"none"!=i||(i=t.parents().css("-moz-transform")))}return""!=i&&"none"!=i||(i=e(document.body).css("transform")),""!=i&&"none"!=i&&null!=i},getBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],i={browser:t[1]||"",version:t[2]||"0"};return e.indexOf("rv:11.0")>=0&&e.indexOf(".net4.0c")>=0&&(i.browser="msie",i.version="11",t[1]="msie"),e.indexOf("edge")>=0&&(i.browser="msie",i.version="12",t[1]="msie"),i[t[1]]=t[1],i}}),e.jqx.browser=e.jqx.utilities.getBrowser(),e.jqx.isHidden=function(e){if(!e||!e[0])return!1;var t=e[0].offsetWidth,i=e[0].offsetHeight;return 0===t||0===i},e.jqx.ariaEnabled=!0,e.jqx.aria=function(t,i,s){if(e.jqx.ariaEnabled)if(null==i)e.each(t.aria,(function(i,s){if(null==(r=t.base?t.base.host.attr(i):t.host.attr(i))||e.isFunction(r)){var r=t[s.name];e.isFunction(r)&&(r=t[s.name]()),null==r&&(r="");try{t.base?t.base.host.attr(i,r.toString()):t.host.attr(i,r.toString())}catch(e){}}else{var n=r;switch(s.type){case"number":n=new Number(r),isNaN(n)&&(n=r);break;case"boolean":n="true"==r;break;case"date":("Invalid Date"==(n=new Date(r))||isNaN(n))&&(n=r)}t[s.name]=n}}));else try{t.host?t.base?t.base.host?t.base.host.attr(i,s.toString()):t.attr(i,s.toString()):t.host?t.element.setAttribute?t.element.setAttribute(i,s.toString()):t.host.attr(i,s.toString()):t.attr(i,s.toString()):t.setAttribute&&t.setAttribute(i,s.toString())}catch(e){}},Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1}),e.jqx.mobile=e.jqx.mobile||{},e.jqx.position=function(t){var i=parseInt(t.pageX),s=parseInt(t.pageY);if(e.jqx.mobile.isTouchDevice()){var r=e.jqx.mobile.getTouches(t)[0];i=parseInt(r.pageX),s=parseInt(r.pageY)}return{left:i,top:s}},e.extend(e.jqx.mobile,{_touchListener:function(e,t){var i,s,r,n={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},o=(i=n[e.type],s=e,(r=document.createEvent("MouseEvents")).initMouseEvent(i,s.bubbles,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget),r._pageX=s.pageX,r._pageY=s.pageY,r);e.target.dispatchEvent(o);var a=e.target["on"+n[e.type]];"function"==typeof a&&a(e)},setMobileSimulator:function(t,i){if(!this.isTouchDevice()){this.simulatetouches=!0,0==i&&(this.simulatetouches=!1);var s={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},r=this;if(window.addEventListener){var n=function(){for(var e in s)t.addEventListener&&(t.removeEventListener(e,r._touchListener),t.addEventListener(e,r._touchListener,!1))};e.jqx.browser.msie,n()}}},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var e="Browser CodeName: "+navigator.appCodeName;if(e+="Browser Name: "+navigator.appName,e+="Browser Version: "+navigator.appVersion,e+="Platform: "+navigator.platform,e+="User-agent header: "+navigator.userAgent,navigator.maxTouchPoints,-1!=e.indexOf("Android"))return!0;if(-1!=e.indexOf("IEMobile"))return!0;if(-1!=e.indexOf("Windows Phone"))return!0;if(-1!=e.indexOf("WPDesktop"))return!0;if(-1!=e.indexOf("ZuneWP7"))return!0;if(-1!=e.indexOf("BlackBerry")&&-1!=e.indexOf("Mobile Safari"))return!0;if(-1!=e.indexOf("ipod"))return!0;if(-1!=e.indexOf("nokia")||-1!=e.indexOf("Nokia"))return!0;if(-1!=e.indexOf("Chrome/17"))return!1;if(-1!=e.indexOf("CrOS"))return!1;if(-1!=e.indexOf("Opera")&&-1==e.indexOf("Mobi")&&-1==e.indexOf("Mini")&&-1!=e.indexOf("Platform: Win"))return!1;if(-1!=e.indexOf("HybridDeviceTouch"))return!0;if(-1!=e.indexOf("HybridDeviceMouse"))return!1;if(-1!=e.indexOf("Opera")&&-1!=e.indexOf("Mobi")&&-1!=e.indexOf("Opera Mobi"))return!0;if(-1!=e.indexOf("Mozilla/5.0 (X11; Linux x86_64)"))return!1;var t={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(null!=this.touchDevice)return this.touchDevice;for(var i in this.touchDevice=!1,t)if(t.hasOwnProperty(i)){var s=t[i];if(e.match(new RegExp("(?:"+s+")([^\\s;]+)")))return"blackberry"==i.toString()?(this.touchDevice=!1,!1):(this.touchDevice=!0,!0)}var r=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(r.indexOf("Windows Phone")>=0||r.indexOf("WPDesktop")>=0||r.indexOf("IEMobile")>=0||r.indexOf("ZuneWP7")>=0)return this.touchDevice=!0,!0;if(r.indexOf("Touch")>=0)return"MSPointerDown"in window||"pointerdown"in window||r.indexOf("ARM")>=0?(this.touchDevice=!0,!0):(this.touchDevice=!1,!1)}return-1!=navigator.platform.toLowerCase().indexOf("win")?(this.touchDevice=!1,!1):(("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(this.touchDevice=!0),this.touchDevice)}catch(e){return this.touchDevice=!1,!1}},getLeftPos:function(e){for(var t=e.offsetLeft;null!=(e=e.offsetParent);)"HTML"!=e.tagName&&(t+=e.offsetLeft,document.all&&(t+=e.clientLeft));return t},getTopPos:function(t){for(var i=t.offsetTop,s=e(t).coord();null!=(t=t.offsetParent);)"HTML"!=t.tagName&&(i+=t.offsetTop-t.scrollTop,document.all&&(i+=t.clientTop));var r=navigator.userAgent.toLowerCase();return(-1!=r.indexOf("windows phone")||-1!=r.indexOf("WPDesktop")||-1!=r.indexOf("ZuneWP7")||-1!=r.indexOf("msie 9")||-1!=r.indexOf("msie 11")||-1!=r.indexOf("msie 10"))&&-1!=r.indexOf("touch")?s.top:this.isSafariMobileBrowser()?this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser()?i:-1!=r.indexOf("version/7")?s.top:(-1==r.indexOf("version/6")&&-1==r.indexOf("version/5")||(i+=e(window).scrollTop()),/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)?i:s.top):i},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("opera mini")||-1!=e.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/5")},isSafari4MobileBrowser:function(){var e=navigator.userAgent.toLowerCase(),t=-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod");return t=t&&-1!=e.indexOf("version/4")},isWindowsPhone:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("windows phone")||-1!=e.indexOf("WPDesktop")||-1!=e.indexOf("ZuneWP7")||-1!=e.indexOf("msie 9")||-1!=e.indexOf("msie 11")||-1!=e.indexOf("msie 10")&&-1!=e.indexOf("touch")},isSafariMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return!!/(Android.*Chrome\/[.0-9]* (!?Mobile))/.exec(navigator.userAgent)||(!!/(Android.*Chrome\/[.0-9]* Mobile)/.exec(navigator.userAgent)||(-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("ipod")||-1!=e.indexOf("mobile safari")))},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var e=navigator.userAgent.toLowerCase();return-1!=e.indexOf("ipad")||-1!=e.indexOf("iphone")||-1!=e.indexOf("android")},getTouches:function(e){if(e.originalEvent){if(e.originalEvent.touches&&e.originalEvent.touches.length)return e.originalEvent.touches;if(e.originalEvent.changedTouches&&e.originalEvent.changedTouches.length)return e.originalEvent.changedTouches}return e.touches||(e.touches=new Array,e.touches[0]=null!=e.originalEvent?e.originalEvent:e,null!=e.originalEvent&&e.pageX&&(e.touches[0]=e),"mousemove"==e.type&&(e.touches[0]=e)),e.touches},getTouchEventName:function(e){if(!this.isWindowsPhone())return e;if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 7")){if(-1!=e.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=e.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=e.toLowerCase().indexOf("end"))return"MSPointerUp"}return-1!=e.toLowerCase().indexOf("start")?"pointerdown":-1!=e.toLowerCase().indexOf("move")?"pointermove":-1!=e.toLowerCase().indexOf("end")?"pointerup":void 0},dispatchMouseEvent:function(e,t,i){if(!this.simulatetouches){var s=document.createEvent("MouseEvent");s.initMouseEvent(e,!0,!0,t.view,1,t.screenX,t.screenY,t.clientX,t.clientY,!1,!1,!1,!1,0,null),null!=i&&i.dispatchEvent(s)}},getRootNode:function(e){for(;1!==e.nodeType;)e=e.parentNode;return e},setTouchScroll:function(e,t){this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[t]=e},touchScroll:function(t,i,s,r,n,o){if(null!=t){var a=this,l=0,h=0,d=0,c=0;this.scrolling||(this.scrolling=[]),this.scrolling[r]=!1;var u=!1,p=e(t),m=["select","input","textarea"];this.enableScrolling||(this.enableScrolling=[]),this.enableScrolling[r]=!0;r=r;var f,g,v,x,b,y,w,_,q,j,T,C,I,S,k=this.getTouchEventName("touchstart")+".touchScroll",P=this.getTouchEventName("touchend")+".touchScroll",H=this.getTouchEventName("touchmove")+".touchScroll";v=i;var B=0,D=0,z=0,E=0,A=n.jqxScrollBar("max"),M=function(){var e,t,i;t=(e=Date.now())-q,q=e,i=B-_;var s=D-f;_=B,f=D,b=!0,y=.8*(1e3*i/(1+t))+.2*y,w=.8*(1e3*s/(1+t))+.2*w},O=!1,N=function(t){if(!a.enableScrolling[r])return!0;if(-1===e.inArray(t.target.tagName.toLowerCase(),m)){B=o.jqxScrollBar("value"),D=n.jqxScrollBar("value");var i,s=a.getTouches(t),p=s[0];return 1==s.length&&a.dispatchMouseEvent("mousedown",p,a.getRootNode(p.target)),A=n.jqxScrollBar("max"),v=o.jqxScrollBar("max"),O=!1,b=!0,x=G(i=t),S=X(i),y=T=w=0,_=B,f=D,q=Date.now(),clearInterval(j),j=setInterval(M,100),z=B,E=D,B>0&&B<v&&o[0].style.visibility,u=!1,h=p.pageY,c=p.pageX,a.simulatetouches&&null!=p._pageY&&(h=p._pageY,c=p._pageX),a.scrolling[r]=!0,l=0,d=0,!0}};p.on?p.on(k,N):p.bind(k,N);var L=function(e,t){return B=e>v?v:e<0?0:e,s(null,e,0,0,t),e>v?"max":e<0?"min":"value"},W=function(e,t){return D=e>A?A:e<0?0:e,s(e,null,0,0,t),e>A?"max":e<0?"min":"value"},R=function(e){if(!a.enableScrolling[r])return!0;if(!a.scrolling[r])return!0;O&&(e.preventDefault(),e.stopPropagation());var t=a.getTouches(e);if(t.length>1)return!0;var i=t[0].pageY,s=t[0].pageX;a.simulatetouches&&null!=t[0]._pageY&&(i=t[0]._pageY,s=t[0]._pageX);var p=i-h,m=s-c;i;p-l,m-d,u=!0,l=p,d=m;var f=null==n||"hidden"!=n[0].style.visibility,y=null==o||"hidden"!=o[0].style.visibility;(f||y)&&(f||y)&&function(e){var t,i,s;if(b){t=G(e),s=X(e),g=S-s;var r="value";if((i=x-t)>2||i<-2)return x=t,r=L(B+i,e),M(),"min"==r&&0===z||"max"==r&&z===v||!y||(e.preventDefault(),e.stopPropagation(),O=!0,!1);if(g>2||g<-2)return S=s,r=W(D+g,e),M(),"min"==r&&0===E||"max"==r&&E===A||!f||(O=!0,e.preventDefault(),e.stopPropagation(),!1);e.preventDefault()}}(e)};p.on?p.on(H,R):p.bind(H,R);var F=function(e){if(!a.enableScrolling[r])return!0;var t=a.getTouches(e)[0];if(!a.scrolling[r])return!0;if(b=!1,clearInterval(j),y>10||y<-10?(T=.8*y,C=Math.round(B+T),q=Date.now(),requestAnimationFrame(Y)):(w>10||w<-10)&&(T=.8*w,I=Math.round(D+T),q=Date.now(),requestAnimationFrame(J)),a.scrolling[r]=!1,!u){t=a.getTouches(e)[0];var i=a.getRootNode(t.target);return a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i),!0}a.dispatchMouseEvent("mouseup",t,e.target)};if(this.simulatetouches){null!=e(window).on||e(window).bind;var V=function(e){try{F(e)}catch(e){}a.scrolling[r]=!1};if(null!=e(window).on?e(document).on("mouseup.touchScroll",V):e(document).bind("mouseup.touchScroll",V),window.frameElement&&null!=window.top){var U=function(e){try{F(e)}catch(e){}a.scrolling[r]=!1};window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",U):e(window.top.document).bind("mouseup",U))}null!=e(document).on||e(document).bind;var K=function(e){if(!a.scrolling[r])return!0;a.scrolling[r]=!1;var t=a.getTouches(e)[0],i=a.getRootNode(t.target);a.dispatchMouseEvent("mouseup",t,i),a.dispatchMouseEvent("click",t,i)};null!=e(document).on?e(document).on("touchend",K):e(document).bind("touchend",K)}p.on&&(p.on("dragstart",(function(e){e.preventDefault()})),p.on("selectstart",(function(e){e.preventDefault()}))),p.on?p.on(P+" touchcancel.touchScroll",F):p.bind(P+" touchcancel.touchScroll",F)}function G(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.originalEvent&&void 0!==e.originalEvent.clientY?e.originalEvent.clientY:a.getTouches(e)[0].clientY}function X(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.originalEvent&&void 0!==e.originalEvent.clientX?e.originalEvent.clientX:a.getTouches(e)[0].clientX}function Y(){var e,t;T&&(e=Date.now()-q,(t=-T*Math.exp(-e/325))>.5||t<-.5?(L(C+t),requestAnimationFrame(Y)):L(C))}function J(){var e,t;T&&(e=Date.now()-q,(t=-T*Math.exp(-e/325))>.5||t<-.5?(W(I+t),requestAnimationFrame(J)):W(I))}}}),e.jqx.cookie=e.jqx.cookie||{},e.extend(e.jqx.cookie,{cookie:function(t,i,s){if(arguments.length>1&&"[object Object]"!==String(i)){if(s=e.extend({},s),null==i&&(s.expires=-1),"number"==typeof s.expires){var r=s.expires,n=s.expires=new Date;n.setDate(n.getDate()+r)}return i=String(i),document.cookie=[encodeURIComponent(t),"=",s.raw?i:encodeURIComponent(i),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}var o,a=(s=i||{}).raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(t)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}}),e.jqx.string=e.jqx.string||{},e.extend(e.jqx.string,{replace:function(e,t,i){if(t===i)return this;for(var s=e,r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s},contains:function(e,t){return null!=e&&null!=t&&-1!=e.indexOf(t)},containsIgnoreCase:function(e,t){return null!=e&&null!=t&&-1!=e.toString().toUpperCase().indexOf(t.toString().toUpperCase())},equals:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.slice(0,t.length)==t)},equalsIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e),t.length==e.length&&e.toUpperCase().slice(0,t.length)==t.toUpperCase())},startsWith:function(e,t){return null!=e&&null!=t&&e.slice(0,t.length)==t},startsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&e.toUpperCase().slice(0,t.length)==t.toUpperCase()},normalize:function(e){return 65279==e.charCodeAt(e.length-1)&&(e=e.substring(0,e.length-1)),e},endsWith:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).slice(-t.length)==t},endsWithIgnoreCase:function(e,t){return null!=e&&null!=t&&(e=this.normalize(e)).toUpperCase().slice(-t.length)==t.toUpperCase()}}),e.extend(e.easing,{easeOutBack:function(e,t,i,s,r,n){return null==n&&(n=1.70158),s*((t=t/r-1)*t*((n+1)*t+n)+1)+i},easeInQuad:function(e,t,i,s,r){return s*(t/=r)*t+i},easeInOutCirc:function(e,t,i,s,r){return(t/=r/2)<1?-s/2*(Math.sqrt(1-t*t)-1)+i:s/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i},easeInCubic:function(e,t,i,s,r){return s*(t/=r)*t*t+i},easeOutCubic:function(e,t,i,s,r){return s*((t=t/r-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,s,r){return(t/=r/2)<1?s/2*t*t*t+i:s/2*((t-=2)*t*t+2)+i},easeInSine:function(e,t,i,s,r){return-s*Math.cos(t/r*(Math.PI/2))+s+i},easeOutSine:function(e,t,i,s,r){return s*Math.sin(t/r*(Math.PI/2))+i},easeInOutSine:function(e,t,i,s,r){return-s/2*(Math.cos(Math.PI*t/r)-1)+i}})}(jqxBaseFramework),function(e){e.event&&e.event.special&&e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}}),e.fn.extend&&e.fn.extend({ischildof:function(t){if(!e(this).parents)return t.element.contains(this.element);for(var i=e(this).parents().get(),s=0;s<i.length;s++)if("string"!=typeof t){var r=i[s];if(void 0!==t&&r==t[0])return!0}else if(void 0!==t&&e(i[s]).is(t))return!0;return!1}}),e.fn.jqxProxy=function(){var t=e(this).data().jqxWidget,i=Array.prototype.slice.call(arguments,0),s=t.element;return s||(s=t.base.element),e.jqx.jqxWidgetProxy(t.widgetName,s,i)};var t=e.originalVal=e.fn.val;e.fn.val=function(i){if(void 0===i){if(e(this).hasClass("jqx-widget")||e(this).hasClass("jqx-input-group"))if((s=e(this).data().jqxWidget)&&s.val)return s.val();if(this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0)if((s=e(this).find(".jqx-widget").data().jqxWidget)&&s.val)return s.val();return t.call(this)}var s;return(e(this).hasClass("jqx-widget")||e(this).hasClass("jqx-input-group"))&&(s=e(this).data().jqxWidget)&&s.val||this[0]&&this[0].tagName.toLowerCase().indexOf("angular")>=0&&(s=e(this).find(".jqx-widget").data().jqxWidget)&&s.val?2!=arguments.length?s.val(i):s.val(i,arguments[1]):t.call(this,i)},e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(t){if(this.$element[0]!==t.target&&!this.$element.has(t.target).length){if(e(t.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}}),this))}),e.fn.coord=function(t){var i,s,r={top:0,left:0},n=this[0],o=n&&n.ownerDocument;if(o){if(i=o.documentElement,!e.contains(i,n))return r;void 0!==typeof n.getBoundingClientRect&&(r=n.getBoundingClientRect());var a;a=o,s=e.isWindow(a)?a:9===a.nodeType&&(a.defaultView||a.parentWindow);var l=0,h=0,d=navigator.userAgent.toLowerCase();if((-1!=d.indexOf("ipad")||-1!=d.indexOf("iphone"))&&(l=2),1==t&&"static"!=document.body.style.position&&""!=document.body.style.position){var c=e(document.body).coord();l=-c.left,h=-c.top}return{top:h+r.top+(s.pageYOffset||i.scrollTop)-(i.clientTop||0),left:l+r.left+(s.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}}},e.jqx.ripplers=[],e.jqx.ripple=function(t,i,s){i||(i=t);var r=e(t);r.append("<span class='ink'></span>");for(var n=r.find(".ink"),o=!1,a=0;a<e.jqx.ripplers.length;a++){if(e.jqx.ripplers[a].element[0]===t[0]){o=!0;break}}if(o||e.jqx.ripplers.push({ink:n,element:t,hostElement:i,hostElementType:s}),"checkbox"===s||"radiobutton"===s){var l=Math.max(r.outerWidth(),r.outerHeight());n.css({height:l,width:l});var h=r.width()/2-n.width()/2,d=r.height()/2-n.height()/2;n.css({top:d+"px",left:h+"px"})}1===e.jqx.ripplers.length&&e(document).on("mouseup",(function(t){e.jqx.ripple.mouseCaptured=!1;for(var i=0;i<e.jqx.ripplers.length;i++){var r=e.jqx.ripplers[i];r.ink.removeClass("active"),r.element.removeClass("active"),"checkbox"!==s&&"radiobutton"!==s&&r.ink.hasClass("animate")&&r.ink.removeClass("animate")}})),i.off("mousedown.ripple"),i.on("mousedown.ripple",(function(r){var n=e(t);e.jqx.ripple.mouseCaptured=!0,setTimeout((function(){0==n.find(".ink").length&&n.append("<span class='ink'></span>");var o=n.find(".ink");if(o.removeClass("animate"),!o.height()&&!o.width()){var a=Math.max(n.outerWidth(),n.outerHeight());o.css({height:a,width:a})}if("checkbox"===s||"radiobutton"===s){if("checkbox"===s&&i.jqxCheckBox("disabled"))return;if("radiobutton"===s&&i.jqxRadioButton("disabled"))return;var l=n.width()/2-o.width()/2,h=n.height()/2-o.height()/2;return o.css({top:h+"px",left:l+"px"}).addClass("animate"),void o.on("animationend",(function(){e.jqx.ripple.mouseCaptured&&(o.removeClass("animate"),o.addClass("active"),t.addClass("active"))}))}l=r.pageX-n.offset().left-o.width()/2,h=r.pageY-n.offset().top-o.height()/2;o.css({top:h+"px",left:l+"px"}).addClass("animate")}))}))}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxCheckBox","",{}),e.extend(e.jqx._jqxCheckBox.prototype,{defineInstance:function(){var t={animationShowDelay:300,animationHideDelay:300,width:null,height:null,boxSize:"16px",checked:!1,hasThreeStates:!1,disabled:!1,enableContainerClick:!0,locked:!1,groupName:"",keyboardCheck:!0,enableHover:!0,hasInput:!0,rtl:!1,updated:null,disabledContainer:!1,changeType:null,_canFocus:!0,rippleEffect:!0,aria:{"aria-checked":{name:"checked",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}},events:["checked","unchecked","indeterminate","change"]};return this===e.jqx._jqxCheckBox.prototype||e.extend(!0,this,t),t},createInstance:function(e){this._createFromInput("CheckBox"),this.render()},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};i.field.value&&(s.value=i.field.value),i.field.checked&&(s.checked=!0),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var r=i.element.nextSibling,n=!1;!r||"#text"!=r.nodeName&&"span"!=r.nodeName||(n=!0);var o=0,a=e("<div></div>",s);if(n){a.append(r);var l=e("<span>"+e(r).text()+"</span>");l.appendTo(e(document.body)),o+=l.width(),l.remove()}a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()+o+10),i.height||(i.height=e(i.field).outerHeight()+10),e(i.field).hide().after(a);var h=i.host.data();if(i.host=a,i.host.data(h),i.element=a[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var d=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=d}}},_addInput:function(){if(this.hasInput){this.input&&this.input.remove();var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t),this.input.val(this.checked),this.host.attr("role","checkbox"),e.jqx.aria(this)}},render:function(){this.init=!0;var t=this;this.setSize(),this.propertyChangeMap.width=function(e,i,s,r){t.setSize()},this.propertyChangeMap.height=function(e,i,s,r){t.setSize()},this._removeHandlers(),this.width||this.host.css("overflow-x","visible"),this.height||this.host.css("overflow-y","visible"),this.checkbox&&(this.checkbox.remove(),this.checkbox=null),this.checkMark&&(this.checkMark.remove(),this.checkMark=null),this.box&&(this.box.remove(),this.box=null),this.clear&&(this.clear.remove(),this.clear=null),null==this.boxSize&&(this.boxSize=16);var i=parseInt(this.boxSize)+"px",s="16px",r=Math.floor((parseInt(this.boxSize)-16)/2),n=r;r+="px",n+="px",16!=parseInt(this.boxSize)?this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="position: relative; left: '+r+"; top: "+n+"; width: "+s+"; height: "+s+';"></span></div></div>'):this.checkbox=e('<div><div style="width: '+i+"; height: "+i+';"><span style="width: '+i+"; height: "+i+';"></span></div></div>'),this.host.prepend(this.checkbox),this.disabledContainer||(this.host.attr("tabIndex")||this.host.attr("tabIndex",0),this.clear=e('<div style="clear: both;"></div>'),this.host.append(this.clear)),this.checkMark=e(this.checkbox[0].firstChild.firstChild),this.box=this.checkbox,this.box.addClass(this.toThemeProperty("jqx-checkbox-default")+" "+this.toThemeProperty("jqx-fill-state-normal")+" "+this.toThemeProperty("jqx-rc-all")),this.disabled&&this.disable(),this.disabledContainer||(this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-checkbox"))),this.locked&&!this.disabledContainer&&this.host.css("cursor","auto");var o=this.element.getAttribute("checked");"checked"!=o&&"true"!=o&&1!=o||(this.checked=!0),this._addInput(),this._render(),this._addHandlers(),this.init=!1,this._centerBox(),this.isMaterialized()&&this.rippleEffect&&(e(this.checkbox).addClass("ripple"),e.jqx.ripple(e(this.checkbox),this.host,"checkbox"))},_centerBox:function(){if(this.height&&-1==this.height.toString().indexOf("%")&&this.box){var e=parseInt(this.height);this.host.css("line-height",e+"px");var t=e-parseInt(this.boxSize)-1;t/=2,this.box.css("margin-top",parseInt(t))}},refresh:function(e){e||(this.setSize(),this._render())},resize:function(e,t){this.width=e,this.height=t,this.refresh()},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)?null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.element.style.width=this.width):this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)?null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.element.style.height=this.height):this.host.height(this.height),this._centerBox()},_addHandlers:function(){var t=this,i="mousedown";e.jqx.mobile.isTouchDevice()&&(i=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.box,i,(function(e){if(!t.disabled&&!t.enableContainerClick&&!t.locked)return t.changeType="mouse",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1})),this.disabledContainer||(this.addHandler(this.host,"keydown",(function(e){if(!t.disabled&&!t.locked&&t.keyboardCheck&&32==e.keyCode)return!t._canFocus||(t.changeType="keyboard",t.toggle(),t.updated&&(e.owner=t,t.updated(e,t.checked,t.oldChecked)),e.preventDefault&&e.preventDefault(),!1)})),this.addHandler(this.host,i,(function(e){if(!t.disabled&&t.enableContainerClick&&!t.locked)return t.clickTime=new Date,t.changeType="mouse",t.toggle(),e.preventDefault&&e.preventDefault(),t._canFocus&&t.focus(),!1})),this.addHandler(this.host,"selectstart",(function(e){if(!t.disabled&&t.enableContainerClick)return e.preventDefault&&e.preventDefault(),!1})),this.addHandler(this.host,"mouseup",(function(e){!t.disabled&&t.enableContainerClick&&e.preventDefault&&e.preventDefault()})),this.addHandler(this.host,"focus",(function(i){if(!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-focus")),i.preventDefault&&i.preventDefault(),e(t.checkbox).removeClass("active"),(!t.clickTime||t.clickTime&&new Date-t.clickTime>300)&&e(t.checkbox).addClass("active"),t.hovered=!0,!1)})),this.addHandler(this.host,"blur",(function(i){if(e(t.checkbox).removeClass("active"),!t.disabled&&!t.locked)return!t._canFocus||(t.enableHover&&t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-focus")),i.preventDefault&&i.preventDefault(),t.hovered=!1,!1)})),this.addHandler(this.host,"mouseenter",(function(e){if(t.locked&&t.host.css("cursor","arrow"),t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!0,!1})),this.addHandler(this.host,"mouseleave",(function(e){if(t.enableHover&&!t.disabled&&t.enableContainerClick&&!t.locked)return t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.preventDefault&&e.preventDefault(),t.hovered=!1,!1})),this.addHandler(this.box,"mouseenter",(function(){t.locked||t.disabled||t.enableContainerClick||(t.box.addClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.addClass(t.toThemeProperty("jqx-fill-state-hover")))})),this.addHandler(this.box,"mouseleave",(function(){t.disabled||t.enableContainerClick||(t.box.removeClass(t.toThemeProperty("jqx-checkbox-hover")),t.box.removeClass(t.toThemeProperty("jqx-fill-state-hover")))})))},focus:function(){try{this.host.focus()}catch(e){}},_removeHandlers:function(){var t="mousedown";e.jqx.mobile.isTouchDevice()&&(t="touchend"),this.box&&(this.removeHandler(this.box,t),this.removeHandler(this.box,"mouseenter"),this.removeHandler(this.box,"mouseleave")),this.removeHandler(this.host,t),this.removeHandler(this.host,"mouseup"),this.removeHandler(this.host,"selectstart"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus")},_render:function(){this.disabled?this.disable():this.enableContainerClick?this.host.css("cursor","pointer"):this.init||this.host.css("cursor","auto"),this.rtl&&(this.box.addClass(this.toThemeProperty("jqx-checkbox-rtl")),this.host.addClass(this.toThemeProperty("jqx-rtl"))),this.updateStates(),this.host.attr("checked",this.checked)},_setState:function(e,t){this.checked!=e&&(this.checked=e,this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-checked"):null==this.checked?this.checkMark[0].className=this.toThemeProperty("jqx-checkbox-check-indeterminate"):this.checkMark[0].className=""),!1!==t&&!0!==t||(this.locked=t),e?this.element.setAttribute("checked",!0):this.element.removeAttribute("checked")},val:function(e){return 0==arguments.length||null!=e&&"object"==typeof e||("string"==typeof e?("true"==e&&this.check(),"false"==e&&this.uncheck(),""==e&&this.indeterminate()):(1==e&&this.check(),0==e&&this.uncheck(),null==e&&this.indeterminate())),this.checked},check:function(){this.checked=!0;var t=this;if(this.checkMark.removeClass(),this.element.setAttribute("checked",!0),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-checked")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,(function(){}))),null!=this.groupName&&this.groupName.length>0){var i=e.find(this.toThemeProperty(".jqx-checkbox",!0));e.each(i,(function(){e(this).jqxCheckBox("groupName")==t.groupName&&this!=t.element&&e(this).jqxCheckBox("uncheck")}))}var s=this.changeType;this._raiseEvent("0",{checked:!0}),this.changeType=s,this._raiseEvent("3",{checked:!0}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked))},uncheck:function(){this.checked=!1;var t=this;this.element.removeAttribute("checked"),e.jqx.browser.msie||0==this.animationHideDelay?""!=t.checkMark[0].className&&(t.checkMark[0].className=""):(this.checkMark.css("opacity",1),this.checkMark.stop().animate({opacity:0},this.animationHideDelay,(function(){""!=t.checkMark[0].className&&(t.checkMark[0].className="")})));var i=this.changeType;this._raiseEvent("1"),this.changeType=i,this._raiseEvent("3",{checked:!1}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked",this.checked),this.host.attr("checked",this.checked))},indeterminate:function(){this.checked=null,this.checkMark.removeClass(),e.jqx.browser.msie||0==this.animationShowDelay?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")):(this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate")),this.checkMark.css("opacity",0),this.checkMark.stop().animate({opacity:1},this.animationShowDelay,(function(){})));this.changeType;this._raiseEvent("2"),this._raiseEvent("3",{checked:null}),null!=this.input&&(this.input.val(this.checked),e.jqx.aria(this,"aria-checked","undefined"),this.host.attr("checked","undefined"))},toggle:function(){this.disabled||this.locked||(null!=this.groupName&&this.groupName.length>0?1!=this.checked&&(this.checked=!0,this.updateStates()):(this.oldChecked=this.checked,1==this.checked?this.checked=!!this.hasThreeStates&&null:this.checked=null!=this.checked,this.updateStates(),null!=this.input&&this.input.val(this.checked)))},updateStates:function(){this.checked?this.check():0==this.checked?this.uncheck():null==this.checked&&this.indeterminate()},disable:function(){this.disabled=!0,1==this.checked?this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.addClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.addClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.addClass(this.toThemeProperty("jqx-checkbox-disabled")),e.jqx.aria(this,"aria-disabled",this.disabled)},enable:function(){1==this.checked?this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-disabled")):null==this.checked&&this.checkMark.removeClass(this.toThemeProperty("jqx-checkbox-check-indeterminate-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled-box")),this.host.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.box.removeClass(this.toThemeProperty("jqx-checkbox-disabled")),this.disabled=!1,e.jqx.aria(this,"aria-disabled",this.disabled)},destroy:function(){this.host.remove()},_raiseEvent:function(t,i){if(!this.init){var s=this.events[t],r=new e.Event(s);r.owner=this,i||(i={}),i.type=this.changeType,this.changeType=null,r.args=i;try{var n=this.host.trigger(r)}catch(e){}return n}},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.setSize()},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("enableContainerClick"!=i||t.disabled||t.locked||(r?t.host.css("cursor","pointer"):t.host.css("cursor","auto")),"rtl"==i&&(r?(t.box.addClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.addClass(t.toThemeProperty("jqx-rtl"))):(t.box.removeClass(t.toThemeProperty("jqx-checkbox-rtl")),t.host.removeClass(t.toThemeProperty("jqx-rtl")))),"boxSize"==i&&t.render(),"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host),"checked"==i&&r!=s)switch(r){case!0:t.check();break;case!1:t.uncheck();break;case null:t.indeterminate()}"disabled"==i&&r!=s&&(r?t.disable():t.enable())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxColorPicker","",{}),e.extend(e.jqx._jqxColorPicker.prototype,{defineInstance:function(){var t={disabled:!1,height:null,width:null,color:new e.jqx.color({hex:"ff0000"}),redString:"R:",greenString:"G:",blueString:"B:",showTransparent:!1,colorMode:"saturation",_delayLoading:!1,events:["colorchange"]};return this===e.jqx._jqxColorPicker.prototype||e.extend(!0,this,t),t},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};if(i.field.getAttribute("value")){var r=i.field.getAttribute("value");i.color=new e.jqx.color({hex:r})}i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var n=e("<div></div>",s);n[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(n);var o=i.host.data();if(i.host=n,i.host.data(o),i.element=n[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var a=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=a}}},createInstance:function(t){this._createFromInput("jqxColorPicker"),this.render();var i=this;e.jqx.utilities.resize(this.host,(function(){i._setSize(),i.refresh()}),!1,!this._delayLoading)},render:function(){this.element.innerHTML="";this._isTouchDevice=e.jqx.mobile.isTouchDevice(),"string"==typeof this.color&&(this.color=new e.jqx.color({hex:this.color})),this._setSize(),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-color-picker")),this.container=e("<div style='width: 100%; height: 100%; position: relative;'></div>"),this.container.appendTo(this.host),this.colorMap=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorMap.appendTo(this.container),this.colorBar=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorBar.appendTo(this.container),this.colorPanel=e("<div style='left: 0; top: 0; position: absolute;'></div>"),this.colorPanel.appendTo(this.container),this.hexPanel=e("<div style='float: left;'></div>"),this.hexPanel.appendTo(this.colorPanel),this.hexPanel.append('<span style="text-align: left;" >#</span>'),this.hex=e("<input maxlength='6' style='height: 18px;'/>"),this.hex.addClass(this.toThemeProperty("jqx-input")),this.hex.addClass(this.toThemeProperty("jqx-widget-content")),this.hex.appendTo(this.hexPanel),this.colorPanel.append('<div style="font-size: 1px; clear: both;"></div>'),this.rgb=e("<div style='margin-top: 2px;'></div>"),this.rgb.appendTo(this.colorPanel),this.red=e("<input style='width: 25px; height: 18px;' maxlength='3'/>"),this.red.addClass(this.toThemeProperty("jqx-input")),this.red.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.redString+"</span>"),this.red.appendTo(this.rgb),this.green=e("<input style='margin-right: 2px; height: 18px; width: 25px;' maxlength='3'/>"),this.green.addClass(this.toThemeProperty("jqx-input")),this.green.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.greenString+"</span>"),this.green.appendTo(this.rgb),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this._mapImageOverlayURL=this._getImageUrl(this.colorPanel),this.colorPanel.removeClass(this.toThemeProperty("jqx-color-picker-map-overlay")),this.blue=e("<input style='height: 18px; width: 25px;' maxlength='3'/>"),this.blue.addClass(this.toThemeProperty("jqx-input")),this.blue.addClass(this.toThemeProperty("jqx-widget-content")),this.rgb.append('<span style="text-align: left;">'+this.blueString+"</span>"),this.blue.appendTo(this.rgb),this.preview=e("<div style='background: red; position: absolute;'></div>"),this.preview.addClass(this.toThemeProperty("jqx-widget-content")),this.preview.appendTo(this.colorPanel),this.colorBarPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorBarPointer.addClass(this.toThemeProperty("jqx-color-picker-bar-pointer")),this.colorMapPointer=e("<div style='top: 0; left: 0; position: absolute; width: 100%;'></div>"),this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")),this.transparent=e("<div style='text-align: center; clear: both;'><a style='text-align: center;' href='#'>transparent</a></div>"),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.element.disabled=!0),this._addHandlers()},val:function(e){return 0==arguments.length?"#"+this.color.hex:(this.setColor(e),this.color.hex)},_setPositionFromValue:function(){var e=this,t=e.color.h,i=100-e.color.v,s=e.colorMap.height(),r=e.colorMap.width(),n=t*r/360,o=i*s/100;if("saturation"==this.colorMode){a=(a=100-e.color.s)*s/100,e._saturation=100-e.color.s,e.colorMapPointer.css("margin-left",n-8),e.colorMapPointer.css("margin-top",o-8),e.colorBarPointer.css("margin-top",a-8),e.colorMapImageOverlay.css("opacity",(100-e.color.s)/100)}else{var a;n=(t=e.color.s)*r/100,o=i*s/100;a=(a=360-e.color.h)*s/360,e._hue=e.color.h,e.colorMapPointer.css("margin-left",n-8),e.colorMapPointer.css("margin-top",o-8),e.colorBarPointer.css("margin-top",a-8)}},updateRGB:function(){var e=this;e.color.setRgb(e.red.val(),e.green.val(),e.blue.val()),e._updateUI(),e._raiseEvent("0",{color:e.color}),e.color.transparent=!1},_setPosition:function(t,i,s){var r=parseInt(t.pageX),n=parseInt(i.offset().left),o=parseInt(t.pageY),a=parseInt(i.offset().top);if(this._isTouchDevice){var l=e.jqx.position(t);r=l.left,o=l.top}-1==s[0].className.indexOf("jqx-color-picker-bar")&&s.css("margin-left",r-8-n),o>=a&&o<=a+i.height()&&s.css("margin-top",o-8-a)},_handleKeyInput:function(e,t,i){if(!e.disabled){if(!e._validateKey(t))return t;i.val(e._setValueInRange(i.val(),0,255)),this.updateRGB(),this._setPositionFromValue()}},_addHandlers:function(){var t=this;this.addHandler(this.colorMapPointer,"dragStart",(function(e){return e.preventDefault(),!1})),this.addHandler(this.colorBarPointer,"dragStart",(function(e){return e.preventDefault(),!1})),this.addHandler(this.transparent,"click",(function(e){t._raiseEvent("0",{color:"transparent"}),e.preventDefault(),t.color.transparent=!0})),this.addHandler(this.host,"selectionstart",(function(e){return e.preventDefault(),!1})),this.addHandler(this.blue,"keyup blur",(function(e){t._handleKeyInput(t,e,t.blue)})),this.addHandler(this.green,"keyup blur",(function(e){t._handleKeyInput(t,e,t.green)})),this.addHandler(this.red,"keyup blur",(function(e){t._handleKeyInput(t,e,t.red)})),this.addHandler(this.hex,"keyup blur",(function(e){if(!t.disabled)return t._validateKey(e)?void(6==t.hex.val().toString().length&&(t.hex.val(t.color.validateHex(t.hex.val())),t.color.setHex(t.hex.val()),t._updateUI(),t._setPositionFromValue(),t._raiseEvent("0",{color:t.color}))):e})),this.addHandler(this.colorMap,"dragstart",(function(e){return e.preventDefault(),!1}));var i=function(e){var i;(t._setPosition(e,t.colorMap,t.colorMapPointer),"saturation"==t.colorMode)?((i=t._valuesFromMouse(e,t.colorMap,360,100)).x>360&&(i.x=360),t.color.setHsv(i.x,null!=t._saturation?100-t._saturation:100,100-i.y)):((i=t._valuesFromMouse(e,t.colorMap,100,100)).x>100&&(i.x=100),t.color.setHsv(null!=t._hue?t._hue:360,i.x,100-i.y));t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},s="mousedown.picker"+this.element.id;this._isTouchDevice&&(s=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+this.element.id),this.addHandler(this.colorMap,s,(function(e){t.disabled||(t.beginDrag=!0,i(e))}));var r="mousemove.picker"+this.element.id;this._isTouchDevice&&(r=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+this.element.id),this.addHandler(e(document),r,(function(e){t.disabled||1==t.beginDrag&&(i(e),t._isTouchDevice&&e.preventDefault())})),this._isTouchDevice||this.addHandler(this.colorBar,"dragstart",(function(e){return e.preventDefault(),!1}));var n=function(e){if(t._setPosition(e,t.colorBar,t.colorBarPointer),"saturation"==t.colorMode){var i=t._valuesFromMouse(e,t.colorBar,100,100);t.color.s=i.y,t._saturation=i.y,t.colorMapImageOverlay.css("opacity",t.color.s/100),t.color.setHsv(t.color.h,100-t.color.s,t.color.v)}else{i=t._valuesFromMouse(e,t.colorBar,100,360);t.color.h=360-i.y,t._hue=t.color.h,t.color.setHsv(t.color.h,t.color.s,t.color.v)}t._updateUI(),t._raiseEvent("0",{color:t.color}),t.color.transparent=!1},o="mousemove.colorBar"+this.element.id,a="mousedown.colorBar"+this.element.id,l="mouseup.colorBar"+this.element.id;this._isTouchDevice&&(o=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+this.element.id,l=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+this.element.id),this.addHandler(this.colorBar,a,(function(e){t.disabled||(t.beginDragBar=!0,n(e))})),this.addHandler(e(document),o,(function(e){t.disabled||1==t.beginDragBar&&(n(e),t._isTouchDevice&&e.preventDefault())})),this.addHandler(e(document),l,(function(e){t.disabled||(t.beginDrag=!1,t.beginDragBar=!1)}))},_removeHandlers:function(){this.removeHandler(this.transparent,"click"),this.removeHandler(this.host,"selectionstart"),this.removeHandler(this.blue,"keyup blur"),this.removeHandler(this.green,"keyup blur"),this.removeHandler(this.red,"keyup blur"),this.removeHandler(this.hex,"keyup blur"),this.removeHandler(this.colorMap,"dragstart"),this.removeHandler(this.colorBar,"dragstart"),this.removeHandler(this.colorMapPointer,"dragStart"),this.removeHandler(this.colorBarPointer,"dragStart");var t=this.element.id,i="mousemove.colorBar"+t,s="mousedown.colorBar"+t,r="mouseup.colorBar"+t,n="mousedown.picker"+t,o="mousemove.picker"+t;this._isTouchDevice&&(i=e.jqx.mobile.getTouchEventName("touchmove")+".colorBar"+t,s=e.jqx.mobile.getTouchEventName("touchstart")+".colorBar"+t,r=e.jqx.mobile.getTouchEventName("touchend")+".colorBar"+t,n=e.jqx.mobile.getTouchEventName("touchstart")+".picker"+t,o=e.jqx.mobile.getTouchEventName("touchmove")+".picker"+t),this.removeHandler(this.colorMap,n),this.removeHandler(this.colorMap,o),this.removeHandler(this.colorBar,s),this.removeHandler(this.colorBar,i),this.removeHandler(e(document),o),this.removeHandler(e(document),i),this.removeHandler(e(document),r)},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i||{};r.owner=this;var n=new e.Event(s);return n.owner=this,n.args=r,this.host.trigger(n)},setColor:function(t){t&&("transparent"==t?(this.color.transparent=!0,this.color.hex="000",this.color.r=0,this.color.g=0,this.color.b=0):t.r?this.color=new e.jqx.color({rgb:t}):"#"==t.substring(0,1)?this.color=new e.jqx.color({hex:t.substring(1)}):this.color=new e.jqx.color({hex:t}),this._updateUI(),this._setPositionFromValue(),this._raiseEvent("0",{color:this.color}))},getColor:function(){return this.color},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this.refresh()},propertyChangedHandler:function(e,t,i,s){null!=e.isInitialized&&0!=e.isInitialized&&("colorMode"==t&&e.refresh(),"color"==t&&(e._updateUI(),e._setPositionFromValue(),e._raiseEvent("0",{color:s})),"width"!=t&&"height"!=t||(e._setSize(),e.refresh()),"showTransparent"==t&&e.refresh(),"disabled"==t&&(this.element.disabled=s,s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled"))))},_valuesFromMouse:function(t,i,s,r){var n=0,o=0,a=i.offset(),l=i.height(),h=i.width(),d=t.pageX,c=t.pageY;if(this._isTouchDevice){var u=e.jqx.position(t);d=u.left,c=u.top}return n=d<a.left?0:d>a.left+h?h:d-a.left+1,o=c<a.top?0:c>a.top+l?l:c-a.top+1,{x:parseInt(n/h*s),y:parseInt(o/l*r)}},_validateKey:function(e){return 9!=e.keyCode&&16!=e.keyCode&&38!=e.keyCode&&29!=e.keyCode&&40!=e.keyCode&&17!=e.keyCode&&37!=e.keyCode&&(!e.ctrlKey||e.keyCode!="c".charCodeAt()&&e.keyCode!="v".charCodeAt())&&(!e.ctrlKey||e.keyCode!="C".charCodeAt()&&e.keyCode!="V".charCodeAt())&&(!e.ctrlKey&&!e.shiftKey)},_setValueInRange:function(e,t,i){return""==e||isNaN(e)?t:(e=parseInt(e))>i?i:e<t?t:e},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.host.removeClass(),this._removeHandlers(),this.host.remove()},setPointerStyle:function(e){this.colorMapPointer.removeClass(),"transparent"!=e&&""!=e.hex||this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer"));"Black"==(255-(.299*e.r+.587*e.g+.114*e.b)<105?"Black":"White")?this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer")):this.colorMapPointer.addClass(this.toThemeProperty("jqx-color-picker-pointer-alt"))},_updateUI:function(){var t=this;t.red.val(t.color.r),t.green.val(t.color.g),t.blue.val(t.color.b),t.hex.val(t.color.hex);var i=new e.jqx.color({hex:"fff"});"saturation"==this.colorMode?(i.setHsv(this.color.h,100,this.color.v),t.colorBar.css("background","#"+i.hex)):(i.setHsv(this.color.h,100,100),t.colorMap.css("background-color","#"+i.hex)),t.preview.css("background","#"+this.color.hex),t.setPointerStyle(this.color)},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.host.width()<130&&this.host.width(150),this.host.height()<70&&this.host.height(70),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height)},_arrange:function(){var e=this.host.height(),t=this.host.width(),i=e-44;if(this.showTransparent&&(i=e-64),!(i<=0)){this.colorMap.width(85*t/100),this.colorMap.height(i),this.colorBar.height(i),this.colorBar.css("left",this.colorMap.width()+4),this.colorBar.width(8*t/100),this.colorBarPointer.width(this.colorBar.width()),this.colorPanel.width(t),this.colorPanel.height(40),this.showTransparent&&this.colorPanel.height(60),this.colorPanel.css("top",i+4),this.colorPanel.css("text-align","left"),this.hex.width(this.colorMap.width()-this.colorBar.width()-4);var s=this.red.prev().outerWidth()-this.hex.prev().outerWidth();s<4&&(s=4),this.hex.css("margin-left",s+"px"),this.preview.width(this.colorBar.width()+7),this.preview.height(25),this.preview.addClass(this.toThemeProperty("jqx-rc-all")),this.preview.addClass(this.toThemeProperty("jqx-color-picker-preview")),this.preview.css("left",this.colorMap.width()-2),this.preview.css("top","5px");var r=this.hex.width()-this.blue.prev().outerWidth()-this.green.prev().outerWidth()-6;return r>0?(this.blue.width(r/3),this.green.width(r/3),void this.red.width(r/3)):void 0}},_getColorPointer:function(){var t=e("<div></div>");return t.addClass(this.toThemeProperty("jqx-color-picker-pointer")),t},_getImageUrl:function(e){var t=e.css("backgroundImage");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},refresh:function(){this._delayLoading||(this._saturation=null,this._hue=null,this.colorMap.removeClass(),this.colorBar.removeClass(),this.colorMap.addClass(this.toThemeProperty("jqx-disableselect")),this.colorBar.addClass(this.toThemeProperty("jqx-disableselect")),this.colorPanel.addClass(this.toThemeProperty("jqx-color-picker-panel")),this.colorBar.css("background-image",""),this.colorMap.css("background-image",""),"saturation"==this.colorMode?(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar"))):(this.colorMap.addClass(this.toThemeProperty("jqx-color-picker-map-hue")),this.colorBar.addClass(this.toThemeProperty("jqx-color-picker-bar-hue"))),this._barImageURL=this._getImageUrl(this.colorBar),this._mapImageURL=this._getImageUrl(this.colorMap),this._arrange(),this.colorBar.children().remove(),this.colorBarImageContainer=e("<div style='overflow: hidden;'></div>"),this.colorBarImageContainer.width(this.colorBar.width()),this.colorBarImageContainer.height(this.colorBar.height()),this.colorBarImageContainer.appendTo(this.colorBar),this.colorBarImage=e("<img/>"),this.colorBarImage.appendTo(this.colorBarImageContainer),this.colorBarImage.attr("src",this._barImageURL),this.colorBar.css("background-image","none"),this.colorBarImage.attr("width",this.colorBar.width()),this.colorBarImage.attr("height",this.colorBar.height()),this.colorBarPointer.appendTo(this.colorBar),this.colorMap.children().remove(),this.colorMapImage=e("<img/>"),this.colorMapImage.appendTo(this.colorMap),this.colorMapImage.attr("src",this._mapImageURL),this.colorMap.css("background-image","none"),this.colorMapImage.attr("width",this.colorMap.width()),this.colorMapImage.attr("height",this.colorMap.height()),this.colorMapImageOverlay=e("<img style='position: absolute; left: 0; top: 0;'/>"),this.colorMapImageOverlay.prependTo(this.colorMap),this.colorMapImageOverlay.attr("src",this._mapImageOverlayURL),this.colorMapImageOverlay.attr("width",this.colorMap.width()),this.colorMapImageOverlay.attr("height",this.colorMap.height()),this.colorMapImageOverlay.css("opacity",0),this.colorMapPointer.appendTo(this.colorMap),this.showTransparent&&this.transparent.appendTo(this.colorPanel),this._updateUI(),this._setPositionFromValue())}}),e.jqx.color=function(e){var t={r:0,g:0,b:0,h:0,s:0,v:0,hex:"",hexToRgb:function(e){var t="00",i="00",s="00";return 6==(e=this.validateHex(e)).length?(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)):(e.length>4&&(t=e.substring(4,e.length),e=e.substring(0,4)),e.length>2&&(i=e.substring(2,e.length),e=e.substring(0,2)),e.length>0&&(s=e.substring(0,e.length))),{r:this.hexToInt(t),g:this.hexToInt(i),b:this.hexToInt(s)}},validateHex:function(e){return(e=(e=new String(e).toUpperCase()).replace(/[^A-F0-9]/g,"0")).length>6&&(e=e.substring(0,6)),e},webSafeDec:function(e){return e=Math.round(e/51),e*=51},hexToWebSafe:function(e){var t,i,s;return 3==e.length?(t=e.substring(0,1),i=e.substring(1,1),s=e.substring(2,1)):(t=e.substring(0,2),i=e.substring(2,4),s=e.substring(4,6)),this.intToHex(this.webSafeDec(this.hexToInt(t)))+this.intToHex(this.webSafeDec(this.hexToInt(i)))+this.intToHex(this.webSafeDec(this.hexToInt(s)))},rgbToWebSafe:function(e){return{r:this.webSafeDec(e.r),g:this.webSafeDec(e.g),b:this.webSafeDec(e.b)}},rgbToHex:function(e){return this.intToHex(e.r)+this.intToHex(e.g)+this.intToHex(e.b)},intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},hexToInt:function(e){return parseInt(e,16)},hslToRgb:function(e){var t=parseInt(e.h)/360,i=parseInt(e.s)/100,s=parseInt(e.l)/100;if(s<=.5)var r=s*(1+i);else r=s+i-s*i;var n=2*s-r,o=t+1/3,a=t,l=t-1/3;return{r:Math.round(255*this.hueToRgb(n,r,o)),g:Math.round(255*this.hueToRgb(n,r,a)),b:Math.round(255*this.hueToRgb(n,r,l))}},hueToRgb:function(e,t,i){return i<0?i+=1:i>1&&(i-=1),6*i<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e},rgbToHsv:function(e){var t=e.r/255,i=e.g/255,s=e.b/255,r={h:0,s:0,v:0},n=0,o=0;if(t>=i&&t>=s?(o=t,n=i>s?s:i):i>=s&&i>=t?(o=i,n=t>s?s:t):(o=s,n=i>t?t:i),r.v=o,r.s=o?(o-n)/o:0,r.s){var a=o-n;r.h=t==o?(i-s)/a:i==o?2+(s-t)/a:4+(t-i)/a,r.h=parseInt(60*r.h),r.h<0&&(r.h+=360)}else r.h=0;return r.s=parseInt(100*r.s),r.v=parseInt(100*r.v),r},hsvToRgb:function(e){var t={r:0,g:0,b:0},i=e.h,s=e.s,r=e.v;if(0==s)t.r=t.g=t.b=0==r?0:parseInt(255*r/100);else{360==i&&(i=0),i/=60,s/=100,r/=100;var n=parseInt(i),o=i-n,a=r*(1-s),l=r*(1-s*o),h=r*(1-s*(1-o));switch(n){case 0:t.r=r,t.g=h,t.b=a;break;case 1:t.r=l,t.g=r,t.b=a;break;case 2:t.r=a,t.g=r,t.b=h;break;case 3:t.r=a,t.g=l,t.b=r;break;case 4:t.r=h,t.g=a,t.b=r;break;case 5:t.r=r,t.g=a,t.b=l}t.r=parseInt(255*t.r),t.g=parseInt(255*t.g),t.b=parseInt(255*t.b)}return t},setRgb:function(e,t,i){var s=function(e){return e<0||e>255||isNaN(parseInt(e))?0:e};this.r=s(e),this.g=s(t),this.b=s(i);var r=this.rgbToHsv(this);this.h=r.h,this.s=r.s,this.v=r.v,this.hex=this.rgbToHex(this)},setHsl:function(e,t,i){this.h=e,this.s=t,this.l=i;var s=this.hslToRgb(this);this.r=s.r,this.g=s.g,this.b=s.b,this.hex=this.rgbToHex(s)},setHsv:function(e,t,i){this.h=e,this.s=t,this.v=i;var s=this.hsvToRgb(this);this.r=s.r,this.g=s.g,this.b=s.b,this.hex=this.rgbToHex(s)},setHex:function(e){this.hex=e;var t=this.hexToRgb(this.hex);this.r=t.r,this.g=t.g,this.b=t.b;var i=this.rgbToHsv(t);this.h=i.h,this.s=i.s,this.v=i.v}};if(e)if(e.hex){var i=t.validateHex(e.hex);t.setHex(i)}else e.r?t.setRgb(e.r,e.g,e.b):e.h?t.setHsv(e.h,e.s,e.v):e.rgb&&t.setRgb(e.rgb.r,e.rgb.g,e.rgb.b);return t}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxMaterialColorPicker","",{}),e.extend(e.jqx._jqxMaterialColorPicker.prototype,{defineInstance:function(){var t={events:["colorchange"]};return this===e.jqx._jqxMaterialColorPicker.prototype||e.extend(!0,this,t),t},createInstance:function(){this._renderGrid(),this._addHandlers()},_renderGrid:function(){var e=this,t=document.createElement("div");e._renderShades(),e._renderColorPalette(),e._renderColorLabels(),t.classList="jqx-labels-and-palette",t.appendChild(e._colorLabelsContainer),t.appendChild(e._paletteContainer),e.element.appendChild(t)},_renderColorPalette:function(){for(var e=[["#ffebee","#ffcdd2","#ef9a9a","#e57373","#ef5350","#f44336","#e53935","#d32f2f","#c62828","#b71c1c","#ff8a80","#ff5252","#ff1744","#d50000"],["#fce4ec","#f8bbd0","#f48fb1","#f06292","#ec407a","#e91e63","#d81b60","#c2185b","#ad1457","#880e4f","#ff80ab","#ff4081","#f50057","#c51162"],["#f3e5f5","#e1bee7","#ce93d8","#ba68c8","#ab47bc","#9c27b0","#8e24aa","#7b1fa2","#6a1b9a","#4a148c","#ea80fc","#e040fb","#d500f9","#aa00ff"],["#ede7f6","#d1c4e9","#b39ddb","#9575cd","#7e57c2","#673ab7","#5e35b1","#512da8","#4527a0","#311b92","#b388ff","#7c4dff","#651fff","#6200ea"],["#e8eaf6","#c5cae9","#9fa8da","#7986cb","#5c6bc0","#3f51b5","#3949ab","#303f9f","#283593","#1a237e","#8c9eff","#536dfe","#3d5afe","#304ffe"],["#e3f2fd","#bbdefb","#90caf9","#64b5f6","#42a5f5","#2196f3","#1e88e5","#1976d2","#1565c0","#0d47a1","#82b1ff","#448aff","#2979ff","#2962ff"],["#e1f5fe","#b3e5fc","#81d4fa","#4fc3f7","#29b6f6","#03a9f4","#039be5","#0288d1","#0277bd","#01579b","#80d8ff","#40c4ff","#00b0ff","#0091ea"],["#e0f7fa","#b2ebf2","#80deea","#4dd0e1","#26c6da","#00bcd4","#00acc1","#0097a7","#00838f","#006064","#84ffff","#18ffff","#00e5ff","#00b8d4"],["#e0f2f1","#b2dfdb","#80cbc4","#4db6ac","#26a69a","#009688","#00897b","#00796b","#00695c","#004d40","#a7ffeb","#64ffda","#1de9b6","#00bfa5"],["#e8f5e9","#c8e6c9","#a5d6a7","#81c784","#66bb6a","#4caf50","#43a047","#388e3c","#2e7d32","#1b5e20","#b9f6ca","#69f0ae","#00e676","#00c853"],["#f1f8e9","#dcedc8","#c5e1a5","#aed581","#9ccc65","#8bc34a","#7cb342","#689f38","#558b2f","#33691e","#ccff90","#b2ff59","#76ff03","#64dd17"],["#f9fbe7","#f0f4c3","#e6ee9c","#dce775","#d4e157","#cddc39","#c0ca33","#afb42b","#9e9d24","#827717","#f4ff81","#eeff41","#c6ff00","#aeea00"],["#fffde7","#fff9c4","#fff59d","#fff176","#ffee58","#ffeb3b","#fdd835","#fbc02d","#f9a825","#f57f17","#ffff8d","#ffff00","#ffea00","#ffd600"],["#fff8e1","#ffecb3","#ffe082","#ffd54f","#ffca28","#ffc107","#ffb300","#ffa000","#ff8f00","#ff6f00","#ffe57f","#ffd740","#ffc400","#ffab00"],["#fff3e0","#ffe0b2","#ffcc80","#ffb74d","#ffa726","#ff9800","#fb8c00","#f57c00","#ef6c00","#e65100","#ffd180","#ffab40","#ff9100","#ff6d00"],["#fbe9e7","#ffccbc","#ffab91","#ff8a65","#ff7043","#ff5722","#f4511e","#e64a19","#d84315","#bf360c","#ff9e80","#ff6e40","#ff3d00","#dd2c00"],["#efebe9","#d7ccc8","#bcaaa4","#a1887f","#8d6e63","#795548","#6d4c41","#5d4037","#4e342e","#3e2723"],["#fafafa","#f5f5f5","#eeeeee","#e0e0e0","#bdbdbd","#9e9e9e","#757575","#616161","#424242","#212121"],["#eceff1","#cfd8dc","#b0bec5","#90a4ae","#78909c","#607d8b","#546e7a","#455a64","#37474f","#263238"]],t=document.createElement("div"),i=0,s=e.length;i<s;i++){var r=e[i],n=this._renderRow(r,"jqx-color-cell",!1);t.appendChild(n)}t.className="jqx-palette",this._paletteContainer=t},_renderShades:function(){var e=document.createElement("div"),t=this._renderRow([50,100,200,300,400,500,600,700,800,900,"A 100","A 200","A 400","A 700"],"jqx-shade-cell",!0);e.className="jqx-shades",e.appendChild(t),this.element.appendChild(e)},_renderColorLabels:function(){var e=document.createElement("div"),t=this._renderRow(["Red","Pink","Purple","Deep Purple","Indigo","Blue","Light Blue","Cyan","Teal","Green","Light Green","Lime","Yellow","Amber","Orange","Deep Orange","Brown","Grey","Blue Grey"],"jqx-color-label",!0);e.className="jqx-color-labels",e.appendChild(t),this._colorLabelsContainer=e},_renderRow:function(e,t,i){for(var s=document.createElement("ul"),r=0,n=e.length;r<n;r++){var o=e[r],a=document.createElement("li");i?a.innerHTML=o:(a.style.background=o,a.setAttribute("data-color",o)),a.className=t,s.appendChild(a)}return s},_addHandlers:function(){var e=this;this.host.find(".jqx-color-cell").on("click",(function(){e._currentColorHex=event.target.getAttribute("data-color"),e._currentColorRgb=event.target.style.background,e._raiseEvent(0,{color:e.getColor()})}))},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i||{};r.owner=this;var n=new e.Event(s);return n.owner=this,n.args=r,this.host.trigger(n)},getColor:function(){var e=this._currentColorRgb.match(/\d+/g);return{hex:this._currentColorHex.substring(1),r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2])}},destroy:function(){this.host.remove()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownButton","",{}),e.extend(e.jqx._jqxDropDownButton.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,arrowSize:17,enableHover:!0,openDelay:250,closeDelay:300,animationType:"default",placeHolder:"",enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",popupZIndex:1500,dropDownContainer:"default",autoOpen:!1,rtl:!1,initContent:null,dropDownWidth:null,dropDownHeight:null,focusable:!0,template:"default",touchMode:!1,hint:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","opening","closing"]};return this===e.jqx._jqxDropDownButton.prototype||e.extend(!0,this,t),t},createInstance:function(t){var i=this;i.width||(i.width=200),i.height||(i.height=25),i.isanimating=!1;var s=e("<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropDownButtonWrapper' style='outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropDownButtonContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropDownButtonArrow' unselectable='on'  style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>");if(i.isMaterialized()){var r=window.getComputedStyle(this.element),n=r.getPropertyValue("--jqx-dropdown-animation"),o=r.getPropertyValue("--jqx-action-button-size");this.arrowSize=o?parseInt(o):25,n&&"default"==this.animationType&&(this.animationType=n.trim())}i.host.attr("tabindex")?(s.attr("tabindex",i.host.attr("tabindex")),i.host.removeAttr("tabindex")):s.attr("tabindex",0),i.focusable||s.removeAttr("tabIndex"),e.jqx.aria(this),i.popupContent=i.host.children(),i.host.attr("role","button"),i.host.addClass(i.toThemeProperty("jqx-dropdownbutton")),0==i.popupContent.length?(i.popupContent=e("<div>"+i.host.text()+"</div>"),i.popupContent.css("display","block"),i.element.innerHTML=""):i.popupContent.detach();var a=this;i.addHandler(i.host,"loadContent",(function(e){a._arrange()}));try{var l="dropDownButtonPopup"+i.element.id,h=e(e.find("#"+l));h.length>0&&h.remove(),e.jqx.aria(this,"aria-haspopup",!0),e.jqx.aria(this,"aria-owns",l);var d=e("<div class='dropDownButton' style='overflow: hidden; left: -1000px; top: -1000px; position: absolute;' id='dropDownButtonPopup"+i.element.id+"'></div>");d.addClass(i.toThemeProperty("jqx-widget-content")),d.addClass(i.toThemeProperty("jqx-dropdownbutton-popup")),d.addClass(i.toThemeProperty("jqx-popup")),d.addClass(i.toThemeProperty("jqx-rc-all")),"element"!=i.dropDownContainer&&d.css("z-index",i.popupZIndex),d.addClass(i.toThemeProperty("jqx-listbox-container")),e.jqx.browser.msie&&d.addClass(i.toThemeProperty("jqx-noshadow")),i.popupContent.appendTo(d),"element"==i.dropDownContainer?d.appendTo(i.host):d.appendTo(document.body),i.container=d,i.container.css("visibility","hidden")}catch(e){}i.touch=e.jqx.mobile.isTouchDevice(),i.dropDownButtonStructure=s,i.host.append(s),i.dropDownButtonWrapper=i.host.find("#dropDownButtonWrapper"),i.firstDiv=i.dropDownButtonWrapper.parent(),i.dropDownButtonArrow=i.host.find("#dropDownButtonArrow"),i.arrow=e(i.dropDownButtonArrow.children()[0]),i.dropDownButtonContent=i.host.find("#dropDownButtonContent"),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content")),i.dropDownButtonWrapper.addClass(i.toThemeProperty("jqx-disableselect")),i.rtl&&i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-rtl"));var c=this;i.host.parents()&&i.addHandler(i.host.parents(),"scroll.dropdownbutton"+i.element.id,(function(e){c.isOpened()&&c.close()})),i.addHandler(i.dropDownButtonWrapper,"selectstart",(function(){return!1})),i.dropDownButtonWrapper[0].id="dropDownButtonWrapper"+i.element.id,i.dropDownButtonArrow[0].id="dropDownButtonArrow"+i.element.id,i.dropDownButtonContent[0].id="dropDownButtonContent"+i.element.id;c=this;i.propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.addClass(c.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled")),t.dropDownButtonContent.removeClass(c.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},i.disabled&&(i.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-disabled")),i.host.addClass(i.toThemeProperty("jqx-fill-state-disabled")),i.dropDownButtonContent.addClass(i.toThemeProperty("jqx-dropdownlist-content-disabled")));var u=i.toThemeProperty("jqx-rc-all")+" "+i.toThemeProperty("jqx-fill-state-normal")+" "+i.toThemeProperty("jqx-widget")+" "+i.toThemeProperty("jqx-widget-content")+" "+i.toThemeProperty("jqx-dropdownlist-state-normal");if(i.host.addClass(u),i.arrow.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i.arrow.addClass(i.toThemeProperty("jqx-icon")),i.template&&i.host.addClass(i.toThemeProperty("jqx-"+i.template)),i._setSize(),i.render(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(i.container.css("display","none"),i.host.parents(".jqx-window").length>0)){var p=i.host.parents(".jqx-window").css("z-index");d.css("z-index",p+10),i.container.css("z-index",p+10)}},setContent:function(e){var t=this;t.dropDownButtonContent.children().remove(),t.dropDownButtonContent[0].innerHTML="",t.dropDownButtonContent.append(e)},val:function(e){var t=this;if(0==arguments.length||"object"==typeof e)return t.dropDownButtonContent.text();t.dropDownButtonContent.html(e)},getContent:function(){var e=this;return e.dropDownButtonContent.children().length>0?e.dropDownButtonContent.children():e.dropDownButtonContent.text()},_setSize:function(){var t=this,i=window.getComputedStyle(this.element),s=2*parseInt(i.borderLeftWidth);("border-box"===i.boxSizing||isNaN(s))&&(s=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-s+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-s+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-s+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-s+"px");var r=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(r=!0,t.host.width(t.width),s>0&&this.host.css("box-sizing","border-box")),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(r=!0,t.host.height(t.height));var n=this;r&&t.refresh(!1),e.jqx.utilities.resize(t.host,(function(){n._arrange()}))},isOpened:function(){var t=e.data(document.body,"openedJQXButton"+this.element.id);return null!=t&&t==this.popupContent},focus:function(){try{this.host.focus()}catch(e){}},render:function(){(s=this).removeHandlers();var t=this;s.touch||(s.addHandler(s.host,"mouseenter",(function(){!t.disabled&&t.enableHover&&(!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))})),s.addHandler(s.host,"mouseleave",(function(){!t.disabled&&t.enableHover&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),!1)}))),t.autoOpen&&(s.addHandler(s.host,"mouseenter",(function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())})),s.addHandler(e(document),"mousemove."+t.element.id,(function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,r=i.left,n=t.container.coord(),o=n.left,a=n.top,l=!0;e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=r&&e.pageX<r+t.host.width()&&(l=!1),e.pageY>=a&&e.pageY<=a+t.container.height()&&e.pageX>=o&&e.pageX<o+t.container.width()&&(l=!1),l&&t.close()}}))),s.addHandler(s.dropDownButtonWrapper,"mousedown",(function(e){if(!t.disabled){var i="visible"==t.container.css("visibility");if(!t.isanimating){if(i)return t.close(),!1;t.open(),t.focusable||e.preventDefault&&e.preventDefault()}}})),s.touch&&s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+s.element.id,t.closeOpenedDropDown,{me:this,popup:s.container,id:s.element.id}),s.addHandler(e(document),"mousedown."+s.element.id,t.closeOpenedDropDown,{me:this,popup:s.container,id:s.element.id}),s.addHandler(s.host,"keydown",(function(e){var i="visible"==t.container.css("visibility");return"none"==t.host.css("display")||("13"==e.keyCode&&(t.isanimating||i&&t.close()),115==e.keyCode?(t.isanimating||(t.isOpened()?t.isOpened()&&t.close():t.open()),!1):(e.altKey&&"block"==t.host.css("display")&&(38==e.keyCode?t.isOpened()&&t.close():40==e.keyCode&&(t.isOpened()||t.open())),void("27"==e.keyCode&&(t.ishiding||(t.close(),null!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex))))))})),s.addHandler(s.firstDiv,"focus",(function(){t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.bar&&(t.bar.addClass("focused"),t.label.addClass("focused"))})),s.addHandler(s.firstDiv,"blur",(function(){t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.bar&&(t.bar.removeClass("focused"),t.label.removeClass("focused"))}));var i=e("<label></label");this.hint&&(i[0].innerHTML=this.placeHolder),i.addClass(t.toThemeProperty("jqx-input-label")),t.dropDownButtonWrapper.append(i),t.label=i;var s,r=e("<span></span>");t.dropDownButtonWrapper.append(r),r.addClass(t.toThemeProperty("jqx-input-bar")),t.bar=r,t.bar.css("top",this.host.height()),(s=this).template&&(s.bar.addClass(s.toThemeProperty("jqx-"+s.template)),s.label.addClass(s.toThemeProperty("jqx-"+s.template)))},removeHandlers:function(){var t=this;t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.removeHandler(t.firstDiv,"focus"),t.removeHandler(t.firstDiv,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.autoOpen&&(t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave")),t.removeHandler(e(document),"mousemove."+this.element.id)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=this,n=t.outerWidth(),o=t.outerHeight(),a=e(window).width()+e(window).scrollLeft(),l=e(window).height()+e(window).scrollTop();if(i.left+n>a&&n>r.host.width()){var h=r.host.coord().left,d=n-r.host.width();i.left=h-d+2}return i.left<0&&(i.left=parseInt(r.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+o>l&&l>o?Math.abs(o+s+22):0),i},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},open:function(){e.jqx.aria(this,"aria-expanded",!0);var t=this,i=this;if((null==t.dropDownWidth||"auto"==t.dropDownWidth)&&null!=t.width&&t.width.indexOf&&-1!=t.width.indexOf("%")){var s=t.host.width();t.container.width(parseInt(s))}i._raiseEvent("2");var r,n=t.popupContent,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(t._findPos(t.host[0])[1])+parseInt(t.host.outerHeight())-1+"px"),a=parseInt(Math.round(t.host.coord(!0).left));r=a+"px";t.ishiding=!1,t.tempSelectedIndex=t.selectedIndex,n.stop(),t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected"));var l=!1;e.jqx.browser.msie&&e.jqx.browser.version<8&&(l=!0),l&&t.container.css("display","block"),t.container.css("left",r),t.container.css("top",o);var h=!1,d=function(){if("right"==t.dropDownHorizontalAlignment||t.rtl){var e=t.container.width(),i=Math.abs(e-t.host.width());e>t.host.width()?t.container.css("left",parseInt(Math.round(a))-i+"px"):t.container.css("left",parseInt(Math.round(a))+i+"px")}};if(d.call(this),"top"==t.dropDownVerticalAlignment){var c=n.height();h=!0,t.container.height(n.outerHeight()),n.addClass(this.toThemeProperty("jqx-popup-up"));var u=parseInt(t.host.outerHeight()),p=parseInt(o)-Math.abs(c+u);t.interval&&clearInterval(t.interval),t.interval=setInterval((function(){if(n.outerHeight()!=t.container.height()){t.container.height(n.outerHeight());var e=parseInt(o)-Math.abs(n.height()+u);t.container.css("top",e)}}),50),n.css("top",23),t.container.css("top",p)}if(t.enableBrowserBoundsDetection){var m=t.testOffset(n,{left:parseInt(t.container.css("left")),top:parseInt(o)},parseInt(t.host.outerHeight()));parseInt(t.container.css("top"))!=m.top?(h=!0,t.container.height(n.outerHeight()),n.css("top",23),t.interval&&clearInterval(t.interval),t.interval=setInterval((function(){if(n.outerHeight()!=i.container.height()){var e=i.testOffset(n,{left:parseInt(t.container.css("left")),top:parseInt(o)},parseInt(t.host.outerHeight()));t.container.css("top",e.top),t.container.height(n.outerHeight())}}),50)):n.css("top",0),t.container.css("top",m.top),parseInt(t.container.css("left"))!=m.left&&t.container.css("left",m.left)}if("none"==t.animationType)t.container.css("visibility","visible"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,n),n.css("margin-top",0),n.css("opacity",1),t._raiseEvent("0"),d.call(i);else if("transform"===t.animationType)t.container.css("visibility","visible"),t.container.css("display","block"),e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+t.element.id,n),n.css("margin-top",0),n.css("opacity",1),t._raiseEvent("0"),d.call(i);else{t.container.css("visibility","visible");var f=n.outerHeight();i.isanimating=!0,"fade"==t.animationType?(n.css("margin-top",0),n.css("opacity",0),n.animate({opacity:1},t.openDelay,(function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,n),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")})),d.call(i)):(n.css("opacity",1),h?n.css("margin-top",f):n.css("margin-top",-f),d.call(i),n.animate({"margin-top":0},t.openDelay,(function(){e.data(document.body,"openedJQXButtonParent",i),e.data(document.body,"openedJQXButton"+i.element.id,n),i.ishiding=!1,i.isanimating=!1,i._raiseEvent("0")})))}h?(t.host.addClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-b-expanded"))):(t.host.addClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.addClass(t.toThemeProperty("jqx-rc-t-expanded"))),t.focusable&&(t.firstDiv.focus(),setTimeout((function(){i.firstDiv.focus()}),10)),t.container.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.addClass(i.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(i.toThemeProperty("jqx-fill-state-focus")),t.container.addClass("jqx-popup-show")},close:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this,i=t.popupContent,s=t.container,r=this;r._raiseEvent("3");var n=!1;if(e.jqx.browser.msie&&e.jqx.browser.version<8&&(n=!0),t.isOpened()){if(s.removeClass("jqx-popup-show"),e.data(document.body,"openedJQXButton"+t.element.id,null),"none"==t.animationType)t.container.css("visibility","hidden"),n&&t.container.css("display","none"),i.css({opacity:0});else if("transform"===t.animationType)setTimeout((function(){r.isanimating=!1,t.container.css("visibility","hidden"),t.container.css("display","none")}),this.closeDelay);else if(!r.ishiding){r.isanimating=!0,i.stop();var o=i.outerHeight();i.css("margin-top",0);var a=-o;parseInt(t.container.coord().top)<parseInt(t.host.coord().top)&&(a=o),"fade"==t.animationType?(i.css({opacity:1}),i.animate({opacity:0},t.closeDelay,(function(){s.css("visibility","hidden"),r.isanimating=!1,r.ishiding=!1,n&&s.css("display","none")}))):i.animate({"margin-top":a},t.closeDelay,(function(){s.css("visibility","hidden"),r.isanimating=!1,r.ishiding=!1,n&&s.css("display","none")}))}t.ishiding=!0,t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-selected")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),t.host.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.host.removeClass(t.toThemeProperty("jqx-rc-t-expanded")),t.container.removeClass(t.toThemeProperty("jqx-rc-b-expanded")),t.container.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t._raiseEvent("1")}},closeOpenedDropDown:function(t){var i=t.data.me,s=e(t.target);if(e(t.target).ischildof(t.data.me.host))return!0;if(e(t.target).ischildof(t.data.me.popupContent))return!0;var r=!1;return e.each(s.parents(),(function(){if("undefined"!=this.className){if(this.className.indexOf&&-1!=this.className.indexOf("dropDownButton"))return r=!0,!1;if(this.className.indexOf&&-1!=this.className.indexOf("jqx-popup"))return r=!0,!1}})),r||i.close(),!0},refresh:function(){this._arrange()},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;if(r>0&&(e.dropDownButtonContent[0].style.width=r+"px"),e.dropDownButtonContent[0].style.height=parseInt(i)+"px",e.dropDownButtonContent[0].style.left="0px",e.dropDownButtonContent[0].style.top="0px",e.dropDownButtonArrow[0].style.width=parseInt(s)+"px",e.dropDownButtonArrow[0].style.height=parseInt(i)+"px",e.rtl&&(e.dropDownButtonArrow.css("float","left"),e.dropDownButtonContent.css("float","right"),e.dropDownButtonContent.css("left",-3)),null!=e.dropDownWidth)if(e.dropDownWidth.toString().indexOf("%")>=0){t=parseInt(e.dropDownWidth)*e.host.width()/100;e.container.width(t)}else e.container.width(e.dropDownWidth);null!=e.dropDownHeight&&e.container.height(e.dropDownHeight)},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);var t=this;t.interval&&clearInterval(t.interval),t.removeHandler(t.dropDownButtonWrapper,"selectstart"),t.removeHandler(t.dropDownButtonWrapper,"mousedown"),t.removeHandler(t.host,"keydown"),t.host.removeClass(),t.removeHandler(e(document),"mousedown."+t.element.id,t.closeOpenedDropDown),t.host.remove(),t.container.remove()},_raiseEvent:function(t,i){var s=this;null==i&&(i={owner:null}),2!=t||s.contentInitialized||s.initContent&&(s.initContent(),s.contentInitialized=!0);var r=s.events[t];i.owner=this;var n=new e.Event(r);return n.owner=this,2!=t&&3!=t&&4!=t||(n.args=i),s.host.trigger(n)},resize:function(e,t){var i=this;i.width=e,i.height=t,i._setSize(),i._arrange()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e._arrange(),e.close())},propertyChangedHandler:function(t,i,s,r){null!=this.isInitialized&&0!=this.isInitialized&&(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length||("dropDownVerticalAlignment"===i&&t.close(),"template"==i&&(t.host.removeClass(t.toThemeProperty("jqx-"+s)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"rtl"==i&&(r?(t.dropDownButtonArrow.css("float","left"),t.dropDownButtonContent.css("float","right")):(t.dropDownButtonArrow.css("float","right"),t.dropDownButtonContent.css("float","left"))),"autoOpen"==i&&t.render(),"theme"==i&&null!=r&&e.jqx.utilities.setTheme(s,r,t.host),"width"!=i&&"height"!=i||(t._setSize(),t._arrange())))}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxTree","",{}),e.extend(e.jqx._jqxTree.prototype,{defineInstance:function(){var t={items:new Array,width:null,height:null,easing:"easeInOutCirc",animationShowDuration:"fast",animationHideDuration:"fast",treeElements:new Array,disabled:!1,itemsMember:"",displayMember:"",valueMember:"",enableHover:!0,keyboardNavigation:!0,enableKeyboardNavigation:!0,toggleMode:"dblclick",source:null,checkboxes:!1,checkSize:16,toggleIndicatorSize:18,hasThreeStates:!1,selectedItem:null,touchMode:"auto",allowDrag:!0,allowDrop:!0,searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,animationHideDelay:0,submitCheckedItems:!1,dragStart:null,dragEnd:null,rtl:!1,dropAction:"default",events:["expand","collapse","select","initialized","added","removed","checkChange","dragEnd","dragStart","itemClick"],aria:{"aria-activedescendant":{name:"getActiveDescendant",type:"string"},"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxTree.prototype||e.extend(!0,this,t),t},createInstance:function(t){var i=this;(this.host.attr("role","tree"),this.host.attr("data-role","treeview"),this.enableKeyboardNavigation=this.keyboardNavigation,this.propertyChangeMap.disabled=function(t,s,r,n){i.disabled?i.host.addClass(i.toThemeProperty("jqx-tree-disabled")):i.host.removeClass(i.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(i,"aria-disabled",n)},null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&this.host.height(this.height),this.host.attr("tabindex")||this.host.attr("tabIndex",1),this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-tree-disabled")),e.jqx.aria(this,"aria-disabled",!0)),this.host.jqxDragDrop&&window.jqxTreeDragDrop(),this.originalInnerHTML=this.element.innerHTML,this.createdTree=!1,this.element.innerHTML.indexOf("UL"))&&((s=this.host.find("ul:first")).length>0&&(this.createTree(s[0]),this.createdTree=!0));if(null!=this.source){var s,r=this.loadItems(this.source);this.element.innerHTML=r,(s=this.host.find("ul:first")).length>0&&(this.createTree(s[0]),this.createdTree=!0)}(this._itemslength=this.items.length,this.createdTree)||0==this.host.find("ul").length&&(this.host.append(e("<ul></ul>")),(s=this.host.find("ul:first")).length>0&&(this.createTree(s[0]),this.createdTree=!0),this.createdTree=!0);1==this.createdTree&&(this._render(),this._handleKeys()),this._updateCheckLayout()},checkItems:function(t,i){var s=this;if(null!=t){var r,n=0;if(r=(a=e(t.element).find("li")).length,e.each(a,(function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&!0,n++)})),t!=i)n==r?this.checkItem(t.element,!0,"tree"):n>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree");else{var o=i.checked,a=e(i.element).find("li");e.each(a,(function(){s.itemMapping["id"+this.id].item;s.checkItem(this,o,"tree")}))}this.checkItems(this._parentItem(t),i)}else{o=i.checked,a=e(i.element).find("li");e.each(a,(function(){s.itemMapping["id"+this.id].item;s.checkItem(this,o,"tree")}))}},_getMatches:function(t,i){if(null==t||0==t.length)return-1;for(var s=this.items,r=new Array,n=0;n<s.length;n++)this._isVisible(s[n])&&!s[n].disabled&&r.push(s[n]);s=r,null!=i&&(s=s.slice(i));var o=new Array;return e.each(s,(function(i){var s=this.label;s||(s=""),e.jqx.string.startsWithIgnoreCase(s.toString(),t)&&o.push({id:this.id,element:this.element})})),o},_handleKeys:function(){var t=this;this.addHandler(this.host,"keydown",(function(i){var s=i.keyCode;if((t.keyboardNavigation||t.enableKeyboardNavigation)&&null!=t.selectedItem){var r=t.selectedItem.element;if(t.incrementalSearch&&!(s>=33&&s<=40)){t._searchString||(t._searchString=""),(8==s||46==s)&&t._searchString.length>=1&&(t._searchString=t._searchString.substr(0,t._searchString.length-1));var n=String.fromCharCode(s),o=!isNaN(parseInt(n));if(s>=65&&s<=97||o||8==s||32==s||46==s){if(i.shiftKey||(n=n.toLocaleLowerCase()),8!=s&&32!=s&&46!=s&&(t._searchString.length>0&&t._searchString.substr(0,1)==n||(t._searchString+=n)),32==s&&(t._searchString+=" "),t._searchTime=new Date,c=t.selectedItem){for(var a=c.id,l=-1,h=0;h<t.items.length;h++)if(t.items[h].id==a){l=h+1;break}if(0==(d=t._getMatches(t._searchString,l)).length||d.length>0&&d[0].id==a)var d=t._getMatches(t._searchString)}else d=t._getMatches(t._searchString);if(d.length>0){var c=t.selectedItem;t.selectedItem&&t.selectedItem.id!=d[0].id&&(t.clearSelection(),t.selectItem(d[0].element,"keyboard")),t._lastSearchString=t._searchString}}null!=t._searchTimer&&clearTimeout(t._searchTimer),27!=s&&13!=s||(t._searchString="",t._lastSearchString=""),t._searchTimer=setTimeout((function(){t._searchString="",t._lastSearchString=""}),500)}switch(s){case 32:if(t.checkboxes){t.fromKey=!0;var u=e(t.selectedItem.checkBoxElement).jqxCheckBox("checked");return t.checkItem(t.selectedItem.element,!u,"tree"),t.hasThreeStates&&t.checkItems(t.selectedItem,t.selectedItem),!1}return!0;case 33:var p=t._getItemsOnPage(),m=t.selectedItem;for(h=0;h<p;h++)m=t._prevVisibleItem(m);return null!=m?(t.selectItem(m.element,"keyboard"),t.ensureVisible(m.element)):(t.selectItem(t._firstItem().element,"keyboard"),t.ensureVisible(t._firstItem().element)),!1;case 34:p=t._getItemsOnPage();var f=t.selectedItem;for(h=0;h<p;h++)f=t._nextVisibleItem(f);return null!=f?(t.selectItem(f.element,"keyboard"),t.ensureVisible(f.element)):(t.selectItem(t._lastItem().element,"keyboard"),t.ensureVisible(t._lastItem().element)),!1;case 37:case 39:if(37==s&&!t.rtl||39==s&&t.rtl)if(t.selectedItem.hasItems&&t.selectedItem.isExpanded)t.collapseItem(r);else{var g=t._parentItem(t.selectedItem);null!=g&&(t.selectItem(g.element,"keyboard"),t.ensureVisible(g.element))}if(39==s&&!t.rtl||37==s&&t.rtl)if(t.selectedItem.hasItems)if(t.selectedItem.isExpanded)null!=(f=t._nextVisibleItem(t.selectedItem))&&(t.selectItem(f.element,"keyboard"),t.ensureVisible(f.element));else t.expandItem(r);return!1;case 13:return t.selectedItem.hasItems&&(t.selectedItem.isExpanded?t.collapseItem(r):t.expandItem(r)),!1;case 36:return t.selectItem(t._firstItem().element,"keyboard"),t.ensureVisible(t._firstItem().element),!1;case 35:return t.selectItem(t._lastItem().element,"keyboard"),t.ensureVisible(t._lastItem().element),!1;case 38:return null!=(m=t._prevVisibleItem(t.selectedItem))&&(t.selectItem(m.element,"keyboard"),t.ensureVisible(m.element)),!1;case 40:return null!=(f=t._nextVisibleItem(t.selectedItem))&&(t.selectItem(f.element,"keyboard"),t.ensureVisible(f.element)),!1}}}))},_firstItem:function(){for(var t=null,i=this.host.find("ul:first"),s=e(i).find("li"),r=0;r<=s.length-1;r++){var n=s[r];if(t=this.itemMapping["id"+n.id].item,this._isVisible(t))return t}return null},_lastItem:function(){for(var t=null,i=this.host.find("ul:first"),s=e(i).find("li"),r=s.length-1;r>=0;r--){var n=s[r];if(t=this.itemMapping["id"+n.id].item,this._isVisible(t))return t}return null},_parentItem:function(t){if(null==t||null==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,(function(){if(this.element==i)return s=this,!1})),s},_nextVisibleItem:function(e){if(null==e||null==e)return null;for(var t=e;null!=t;)if(t=t.nextItem,this._isVisible(t)&&!t.disabled)return t;return null},_prevVisibleItem:function(e){if(null==e||null==e)return null;for(var t=e;null!=t;)if(t=t.prevItem,this._isVisible(t)&&!t.disabled)return t;return null},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isExpanded)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isExpanded)return!1}}return!0},_getItemsOnPage:function(){var t=0,i=(this.panel.jqxPanel("getVScrollPosition"),parseInt(this.host.height())),s=0,r=this._firstItem();if(parseInt(e(r.element).height())>0)for(;s<=i;)s+=parseInt(e(r.element).outerHeight()),t++;return t},_isElementVisible:function(t){return null!=t&&("none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility"))},refresh:function(t){if(null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),this.panel){if(null!=this.width&&-1!=this.width.toString().indexOf("%")){var i=this;this.panel.jqxPanel("width","100%"),i.removeHandler(e(window),"resize.jqxtree"+i.element.id),i.addHandler(e(window),"resize.jqxtree"+i.element.id,(function(){i._calculateWidth()}))}else this.panel.jqxPanel("width",this.host.width());this.panel.jqxPanel("_arrange")}if(this._calculateWidth(),e.jqx.isHidden(this.host)){i=this;this._hiddenTimer&&clearInterval(this._hiddenTimer),this._hiddenTimer=setInterval((function(){e.jqx.isHidden(i.host)||(clearInterval(i._hiddenTimer),i._calculateWidth())}),100)}1!=t&&this.checkboxes&&this._updateCheckLayout(null)},resize:function(e,t){this.width=e,this.height=t,this.refresh()},loadItems:function(t){if(null!=t){var i=this;this.items=new Array;var s="<ul>";return e.map(t,(function(e){if(null==e)return null;s+=i._parseItem(e)})),s+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label,s=e.value;!e.label&&e.html&&(i=e.html),null!=this.displayMember&&""!=this.displayMember&&(i=e[this.displayMember]),null!=this.valueMember&&""!=this.valueMember&&(s=e[this.valueMember]),i||(i="Item"),"string"==typeof e&&(i=e);var r=!1;null!=e.expanded&&e.expanded&&(r=!0);var n=!1;null!=e.locked&&e.locked&&(n=!0);var o=!1;null!=e.selected&&e.selected&&(o=!0);var a=!1;null!=e.disabled&&e.disabled&&(a=!0);var l=!1;null!=e.checked&&e.checked&&(l=!0);var h=e.icon;t+="<li",r&&(t+=' item-expanded="true" '),n&&(t+=' item-locked="true" '),a&&(t+=' item-disabled="true" '),o&&(t+=' item-selected="true" '),e.iconsize&&(t+=' item-iconsize="'+e.iconsize+'" '),null!=h&&null!=h&&(t+=' item-icon="'+h+'" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=s&&(t+=' item-value="'+s+'" '),null!=e.checked&&(t+=' item-checked="'+l+'" ');var d="";return null!=e.id?t+=' id="'+(d=e.id)+'" ':t+=' id="'+(d=this.createID())+'" ',t+=">"+i,e.items?t+=this.loadItems(e.items):null!=this.itemsMember&&""!=this.itemsMember&&e[this.itemsMember]&&(t+=this.loadItems(e[this.itemsMember])),this._valueList||(this._valueList=new Array),this._valueList[d]=e.value,t+="</li>"},ensureVisible:function(t){if(null!=t&&null!=t&&this.panel){var i=this.panel.jqxPanel("getVScrollPosition"),s=this.panel.jqxPanel("getHScrollPosition"),r=parseInt(this.host.height()),n=e(t).find(".jqx-tree-item:first"),o=e(n).position().top;if(0===i&&0===o)return;var a=this.panel.jqxPanel("hScrollBar").outerHeight();(o<=i||o>=r+i)&&this.panel.jqxPanel("scrollTo",s,o-r+e(n).outerHeight()+a)}},_syncItems:function(t){this._visibleItems=new Array;var i=this;e.each(t,(function(){var t=e(this);if("none"!=t.css("display")){var s=t.outerHeight();if(t.height()>0){var r=parseInt(t.offset().top);i._visibleItems[i._visibleItems.length]={element:this,top:r,height:s,bottom:r+s}}}}))},hitTest:function(t,i){var s=this,r=null,n=this.host.find(".jqx-item");if(this._syncItems(n),s._visibleItems){var o=parseInt(s.host.offset().left),a=s.host.outerWidth();e.each(s._visibleItems,(function(n){if(t>=o&&t<o+a&&this.top+5<i&&i<this.top+this.height){var l=e(this.element).parents("li:first");if(l.length>0&&null!=(r=s.getItem(l[0])))return r.height=this.height,r.top=this.top,!1}}))}return r},addBefore:function(e,t,i){return this.addBeforeAfter(e,t,!0,i)},addAfter:function(e,t,i){return this.addBeforeAfter(e,t,!1,i)},addBeforeAfter:function(t,i,s,r){var n=new Array;i&&null!=i.treeInstance&&(i=i.element),e.isArray(t)?n=t:n[0]=t;var o="",a=this;e.each(n,(function(){o+=a._parseItem(this)}));var l=e(o);if(this.element.innerHTML.indexOf("UL"))var h=this.host.find("ul:first");null==i&&null==i?h.append(l):s?e(i).before(l):e(i).after(l);for(var d=l,c=0;c<d.length;c++){this._createItem(d[c]);var u=e(d[c]).find("li");if(u.length>0)for(var p=0;p<u.length;p++)this._createItem(u[p])}var m=function(t){a._refreshMapping(!1),a._updateItemsNavigation(),t&&a.allowDrag&&a._enableDragDrop&&a._enableDragDrop(),null!=a.selectedItem&&(e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-fill-state-pressed")),e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-tree-item-selected")))};if(0==r)return m(!0),void this._raiseEvent("4",{items:this.getItems()});m(!1),a._render(),this._raiseEvent("4",{items:this.getItems()}),a.checkboxes&&a._updateCheckLayout(null)},addTo:function(t,i,s){var r=this,n=new Array;i&&null!=i.treeInstance&&(i=i.element),e.isArray(t)?n=t:n[0]=t;var o="",a=this;e.each(n,(function(){o+=a._parseItem(this)}));var l=e(o);if(r.element.innerHTML.indexOf("UL"))var h=r.host.find("ul:first");if(null==i&&null==i)h.append(l);else{var d=(i=e(i)).find("ul:first");if(0==d.length){var c=e("<ul></ul>");e(i).append(c),d=i.find("ul:first");var u=r.itemMapping["id"+i[0].id].item;u.subtreeElement=d[0],u.hasItems=!0,d.addClass(r.toThemeProperty("jqx-tree-dropdown")),a.rtl&&d.addClass(r.toThemeProperty("jqx-tree-dropdown-rtl")),d.append(l);var p=d.find("li:first");u.parentElement=p}else d.append(l)}for(var m=l,f=0;f<m.length;f++){this._createItem(m[f]);var g=e(m[f]).find("li");if(g.length>0)for(var v=0;v<g.length;v++)this._createItem(g[v])}var x=function(t){a._refreshMapping(!1),a._updateItemsNavigation(),t&&a.allowDrag&&a._enableDragDrop&&a._enableDragDrop(),null!=a.selectedItem&&(e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-fill-state-pressed")),e(a.selectedItem.titleElement).addClass(a.toThemeProperty("jqx-tree-item-selected")))};if(0==s)return x(!0),void this._raiseEvent("4",{items:this.getItems()});x(!1),a._render(),a.checkboxes&&a._updateCheckLayout(null),this._raiseEvent("4",{items:this.getItems()})},updateItem:function(t,i){if(!(r=null!=t.treeInstance?t:this.getItem(t))){var s=t;t=i,i=s;var r=null!=t.treeInstance?t:this.getItem(t)}if(r){if("string"==typeof i&&(i={label:i}),i.value&&(r.value=i.value),i.label)if(r.label=i.label,e.jqx.utilities.html(e(r.titleElement),i.label),e.jqx.browser.msie&&e.jqx.browser.version<8){e(document.body).append(this._measureItem),this._measureItem.html(e(r.titleElement).text());var n=this._measureItem.width();r.icon&&(n+=20),e(e(r.titleElement).find("img")).length>0&&(n+=20),e(r.titleElement).css("max-width",n+"px"),this._measureItem.remove()}if(i.icon)if(e(r.element).children(".itemicon").length>0)e(r.element).find(".itemicon")[0].src=i.icon;else{var o=i.iconsize;o||(o=16);var a=e('<img width="'+o+'" height="'+o+'" style="float: left;" class="itemicon" src="'+i.icon+'"/>');e(r.titleElement).prepend(a),a.css("margin-right","6px"),this.rtl&&(a.css("margin-right","0px"),a.css("margin-left","6px"),a.css("float","right"))}return i.expanded&&this.expandItem(r),i.disabled&&this.disableItem(r),i.selected&&this.selectItem(r),!0}return!1},removeItem:function(t,i){if(null!=t&&null!=t){null!=t.treeInstance&&(t=t.element);var s=this,r=(t.id,this.getItem(t));r&&-1!=this.items.indexOf(r)&&function t(i){var s;-1!=(s=this.items.indexOf(i))&&this.items.splice(s,1);var r=e(i.element).find("li"),n=r.length,o=this,a=new Array;if(n>0){e.each(r,(function(e){var t=o.itemMapping["id"+this.id].item;a.push(t)}));for(var l=0;l<a.length;l++)t.apply(this,[a[l]])}}.apply(this,[r]),this.host.find("#"+t.id).length>0&&e(t).remove(),0!=i?(s._updateItemsNavigation(),s.allowDrag&&s._enableDragDrop?s._render(!0,!1):s._render(),null!=s.selectedItem&&s.selectedItem.element==t&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=null),this._raiseEvent("5"),s.checkboxes&&s._updateCheckLayout(null)):this._raiseEvent("5")}},clear:function(){this.items=new Array,this.itemMapping=new Array;var e=this.host.find("ul:first");e.length>0&&(e[0].innerHTML=""),this.selectedItem=null},disableItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,(function(){var s=this;if(s.element==t)return s.disabled=!0,e(s.titleElement).addClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).addClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!0}),!1}))},_updateInputSelection:function(){if(this.input){if(null==this.selectedItem)this.input.val("");else{var e=this.selectItem.value;null==e&&(e=this.selectedItem.label),this.input.val(e)}if(this.checkboxes){var t=this.getCheckedItems();if(this.submitCheckedItems){for(var i="",s=0;s<t.length;s++){var r=t[s].value;null==r&&(r=t[s].label),s==t.length-1?i+=r:i+=r+","}this.input.val(i)}}}},getCheckedItems:function(){var t=new Array;return e.each(this.items,(function(){this.checked&&t.push(this)})),t},getUncheckedItems:function(){var t=new Array;return e.each(this.items,(function(){this.checked||t.push(this)})),t},checkAll:function(){e.each(this.items,(function(){var t=this;t.disabled||(t.checked=!0,e(t.checkBoxElement).jqxCheckBox("_setState",!0))})),this._raiseEvent("6",{element:this,checked:!0})},uncheckAll:function(){e.each(this.items,(function(){var t=this;t.disabled||(t.checked=!1,e(t.checkBoxElement).jqxCheckBox("_setState",!1))})),this._raiseEvent("6",{element:this,checked:!1})},checkItem:function(t,i,s){if(null==t)return!1;void 0===i&&(i=!0),null!=t.treeInstance&&(t=t.element);var r=!1,n=null;e.each(this.items,(function(){var s=this;if(s.element==t&&!s.disabled)return r=!0,s.checked=i,n=s,e(s.checkBoxElement).jqxCheckBox({checked:i}),!1})),r&&(this._raiseEvent("6",{element:t,checked:i}),this._updateInputSelection()),null==s&&n&&this.hasThreeStates&&this.checkItems(n,n)},uncheckItem:function(e){this.checkItem(e,!1)},enableItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;e.each(i.items,(function(){var s=this;if(s.element==t)return s.disabled=!1,e(s.titleElement).removeClass(i.toThemeProperty("jqx-fill-state-disabled")),e(s.titleElement).removeClass(i.toThemeProperty("jqx-tree-item-disabled")),i.checkboxes&&s.checkBoxElement&&e(s.checkBoxElement).jqxCheckBox({disabled:!1}),!1}))},enableAll:function(){var t=this;e.each(t.items,(function(){var i=this;i.disabled=!1,e(i.titleElement).removeClass(t.toThemeProperty("jqx-tree-item-disabled")),e(i.titleElement).removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.checkboxes&&i.checkBoxElement&&e(i.checkBoxElement).jqxCheckBox({disabled:!1})}))},lockItem:function(t){if(null==t)return!1;e.each(this.items,(function(){if(this.element==t)return this.locked=!0,!1}))},unlockItem:function(t){if(null==t)return!1;e.each(this.items,(function(){if(this.element==t)return this.locked=!1,!1}))},getItems:function(){return this.items},getItem:function(e){return null==e||null==e?null:this.itemMapping["id"+e.id]?this.itemMapping["id"+e.id].item:null},isExpanded:function(e){if(null==e||null==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t.isExpanded},isSelected:function(e){if(null==e||null==e)return!1;var t=this.itemMapping["id"+e.id].item;return null!=t&&t==this.selectedItem},getPrevItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._prevVisibleItem(t)},getNextItem:function(e){var t=this.getItem(e);return null!=e.treeInstance&&(t=e),this._nextVisibleItem(t)},getSelectedItem:function(e){return this.selectedItem},val:function(e){if(0==arguments.length||"object"==typeof e)return this.selectedItem;if("string"==typeof e){var t=this.host.find("#"+e);if(t.length>0){var i=this.getItem(t[0]);this.selectItem(i)}}else{i=this.getItem(e);this.selectItem(i)}},getActiveDescendant:function(){return this.selectedItem?this.selectedItem.element.id:""},clearSelection:function(){this.selectItem(null)},selectItem:function(t,i){if(!this.disabled){var s=this;if(t&&null!=t.treeInstance&&(t=t.element),null!=t&&null!=t){if(null==this.selectedItem||this.selectedItem.element!=t){var r=null!=this.selectedItem?this.selectedItem.element:null;r&&e(r).removeAttr("aria-selected"),e.each(s.items,(function(){var i=this;this.selected=!1,i.disabled||i.element==t&&(null==s.selectedItem||null!=s.selectedItem&&s.selectedItem.titleElement!=i.titleElement)&&(null!=s.selectedItem&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected"))),e(i.titleElement).addClass(s.toThemeProperty("jqx-fill-state-pressed")),e(i.titleElement).addClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=i,this.selected=!0,e(i.element).attr("aria-selected","true"),e.jqx.aria(s,"aria-activedescendant",i.element.id))})),this._updateInputSelection(),i||(i=null),this._raiseEvent("2",{element:t,prevElement:r,type:i})}}else null!=s.selectedItem&&(e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-fill-state-pressed")),e(s.selectedItem.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-selected")),s.selectedItem=null)}},collapseAll:function(){this.isUpdating=!0;var t=this,i=t.items,s=this.animationHideDuration;this.animationHideDuration=0,e.each(i,(function(){1==this.isExpanded&&t._collapseItem(t,this)})),setTimeout((function(){t.isUpdating=!1,t._calculateWidth()}),this.animationHideDuration),this.animationHideDuration=s},expandAll:function(){var t=this;this.isUpdating=!0;var i=this.animationShowDuration;this.animationShowDuration=0,e.each(this.items,(function(){this.hasItems&&t._expandItem(t,this)})),setTimeout((function(){t.isUpdating=!1,t._calculateWidth()}),this.animationShowDuration),this.animationShowDuration=i},collapseItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;return e.each(this.items,(function(){var e=this;if(1==e.isExpanded&&e.element==t)return i._collapseItem(i,e),!1})),!0},expandItem:function(t){if(null==t)return!1;null!=t.treeInstance&&(t=t.element);var i=this;return e.each(i.items,(function(){var e=this;0!=e.isExpanded||e.element!=t||e.disabled||e.locked||(i._expandItem(i,e),e.parentElement&&i.expandItem(e.parentElement))})),!0},_getClosedSubtreeOffset:function(t){var i=e(t.subtreeElement),s=-i.outerHeight();i.outerWidth();return 0,{left:0,top:s}},_collapseItem:function(t,i,s,r){if(null==t||null==i)return!1;if(i.disabled)return!1;if(t.disabled)return!1;if(t.locked)return!1;var n=e(i.subtreeElement),o=this._getClosedSubtreeOffset(i);o.top,o.left,e(i.element),t.animationHideDelay;null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var a=function(){if(i.isExpanded=!1,t.checkboxes){var s=n.find(".chkbox");s.stop(),s.css("opacity",1),n.find(".chkbox").animate({opacity:0},50)}var r=e(i.arrow);t._arrowStyle(r,"",i.isExpanded),n.slideUp(t.animationHideDuration,(function(){i.isCollapsing=!1,t._calculateWidth();var s=e(i.arrow);t._arrowStyle(s,"",i.isExpanded),n.hide(),t._raiseEvent("1",{element:i.element})}))};a()},_expandItem:function(t,i){if(null==t||null==i)return!1;if(i.isExpanded)return!1;if(i.locked)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var s=e(i.subtreeElement);null!=s.data("timer")&&null!=s.data("timer").hide&&clearTimeout(s.data("timer").hide);e(i.element);if(0!=parseInt(s.css("top"))){var r=e(i.arrow);if(t._arrowStyle(r,"",i.isExpanded),t.checkboxes){var n=s.find(".chkbox");n.stop(),n.css("opacity",0),n.animate({opacity:1},t.animationShowDuration)}r=e(i.arrow);if(t._arrowStyle(r,"",!0),s.slideDown(t.animationShowDuration,t.easing,(function(){var s=e(i.arrow);i.isExpanded=!0,t._arrowStyle(s,"",i.isExpanded),i.isExpanding=!1,t._raiseEvent("0",{element:i.element}),t._calculateWidth()})),t.checkboxes&&(t._updateCheckItemLayout(i),i.subtreeElement)){var o=e(i.subtreeElement).find("li");e.each(o,(function(){var e=t.getItem(this);null!=e&&t._updateCheckItemLayout(e)}))}}else i.isExpanded=!0},_calculateWidth:function(){var t=this,i=this.checkboxes?20:0,s=0;if(!this.isUpdating){if(e.each(this.items,(function(){if(0!=e(this.element).height()){var t=e(this.titleElement).outerWidth()+10+i+20*(1+this.level);if(s=Math.max(s,t),this.hasItems){var r=parseInt(e(this.titleElement).css("padding-top"));isNaN(r)&&(r=0),r*=2;var n=((r+=2)+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?e(this.arrow).css("margin-top","3px"):parseInt(n)>=0&&e(this.arrow).css("margin-top",parseInt(n)+"px")}}})),this.toggleIndicatorSize>16&&(s=s+this.toggleIndicatorSize-16),t.panel)if(s>this.host.width()){var r=s-this.host.width();r+="hidden"!==t.panel.jqxPanel("vScrollBar").css("visibility")?10:0,t.panel.jqxPanel({horizontalScrollBarMax:r})}else t.panel.jqxPanel({horizontalScrollBarMax:0});this.host.find("ul:first").width(s);var n=this.host.width()-30;n>0&&this.host.find("ul:first").css("min-width",n),t.panel&&t.panel.jqxPanel("_arrange")}},_arrowStyle:function(e,t,i){var s=this;if(e.length>0){e.removeClass();var r="";"hover"==t&&(r="-"+t);var n="jqx-tree-item-arrow"+(o=i?"-expand":"-collapse")+r;if(e.addClass(s.toThemeProperty(n)),!this.rtl){var o=i?"-down":"-right";e.addClass(s.toThemeProperty("jqx-icon-arrow"+o))}if(this.rtl){e.addClass(s.toThemeProperty(n+"-rtl"));o=i?"-down":"-left";e.addClass(s.toThemeProperty("jqx-icon-arrow"+o))}}},_initialize:function(t,i){var s=this;this.host.addClass(s.toThemeProperty("jqx-widget")),this.host.addClass(s.toThemeProperty("jqx-widget-content")),this.host.addClass(s.toThemeProperty("jqx-tree")),this._updateDisabledState();var r=e.jqx.browser.msie&&e.jqx.browser.version<8;e.each(this.items,(function(){var t=this,i=e(t.element),n=null;if(s.checkboxes&&!t.hasItems&&t.checkBoxElement&&e(t.checkBoxElement).css("margin-left","0px"),r)!t.hasItems&&e(t.element).find("ul").length>0&&e(t.element).find("ul").remove();else{var o;if(!t.hasItems)return s.rtl?t.element.style.marginRight=parseInt(s.toggleIndicatorSize)+"px":t.element.style.marginLeft=parseInt(s.toggleIndicatorSize)+"px",(o=e(t.arrow)).length>0&&(o.remove(),t.arrow=null),!0;s.rtl?t.element.style.marginRight="0px":t.element.style.marginLeft="0px"}(o=e(t.arrow)).length>0&&o.remove(),(n=e('<span style="height: 17px; border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>')).prependTo(i),s.rtl?n.css("float","right"):n.css("float","left"),n.css("clear","both"),n.width(s.toggleIndicatorSize),s._arrowStyle(n,"",t.isExpanded);var a=parseInt(e(this.titleElement).css("padding-top"));isNaN(a)&&(a=0),a*=2;var l=((a+=2)+e(this.titleElement).height())/2-8.5;e.jqx.browser.msie&&e.jqx.browser.version<9?n.css("margin-top","3px"):parseInt(l)>=0&&n.css("margin-top",parseInt(l)+"px"),i.addClass(s.toThemeProperty("jqx-disableselect")),n.addClass(s.toThemeProperty("jqx-disableselect"));var h="click",d=s.isTouchDevice();d&&(h=e.jqx.mobile.getTouchEventName("touchend")),s.addHandler(n,h,(function(){return t.isExpanded?s._collapseItem(s,t):s._expandItem(s,t),!1})),s.addHandler(n,"selectstart",(function(){return!1})),s.addHandler(n,"mouseup",(function(){if(!d)return!1})),t.hasItems=e(t.element).find("li").length>0,t.arrow=n[0],t.hasItems||n.css("visibility","hidden"),i.css("float","none")}))},_getOffset:function(t){var i=e(window).scrollTop(),s=e(window).scrollLeft(),r=e.jqx.mobile.isSafariMobileBrowser(),n=e(t).offset(),o=n.top,a=n.left;return null!=r&&r?{left:a-s,top:o-i}:e(t).offset()},_renderHover:function(t,i,s){var r=this;if(!s){var n=e(i.titleElement);r.addHandler(n,"mouseenter",(function(){i.disabled||!r.enableHover||r.disabled||(n.addClass(r.toThemeProperty("jqx-fill-state-hover")),n.addClass(r.toThemeProperty("jqx-tree-item-hover")))})),r.addHandler(n,"mouseleave",(function(){i.disabled||!r.enableHover||r.disabled||(n.removeClass(r.toThemeProperty("jqx-fill-state-hover")),n.removeClass(r.toThemeProperty("jqx-tree-item-hover")))}))}},_updateDisabledState:function(){this.disabled?this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},_addInput:function(){if(null==this.input){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t),this._updateInputSelection()}},render:function(){this._updateItemsNavigation(),this._render()},_render:function(t,i){if(e.jqx.browser.msie&&e.jqx.browser.version<8){var s=this;e.each(this.items,(function(){var t=e(this.element),i=t.parent(),s=parseInt(this.titleElement.css("margin-left"))+this.titleElement[0].scrollWidth+13;t.css("min-width",s);var r=parseInt(i.css("min-width"));isNaN(r)&&(r=0);var n=t.css("min-width");r<parseInt(t.css("min-width"))&&i.css("min-width",n),this.titleElement[0].style.width=null}))}s=this;if(e.data(s.element,"animationHideDelay",s.animationHideDelay),e.data(document.body,"treeel",this),this._initialize(),this.isTouchDevice()&&"dblclick"==this.toggleMode&&(this.toggleMode="click"),null!=t&&1!=t||e.each(this.items,(function(){s._updateItemEvents(s,this)})),this.allowDrag&&this._enableDragDrop&&(null==i||1==i)&&this._enableDragDrop(),this._addInput(),this.host.jqxPanel){if(this.host.find("#panel"+this.element.id).length>0)return this.panel.jqxPanel({touchMode:this.touchMode}),void this.panel.jqxPanel("refresh");this.host.find("ul:first").wrap('<div style="background-color: transparent; overflow: hidden; width: 100%; height: 100%;" id="panel'+this.element.id+'"></div>');var r=this.host.find("div:first"),n="fixed";null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),r.jqxPanel({rtl:this.rtl,theme:this.theme,width:"100%",height:"100%",touchMode:this.touchMode,sizeMode:n}),e.jqx.browser.msie&&e.jqx.browser.version<8&&r.jqxPanel("content").css("left","0px"),r.data({nestedWidget:!0}),(null==this.height||null!=this.height&&-1!=this.height.toString().indexOf("%"))&&this.isTouchDevice()&&(this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(r,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var o=e.data(r[0],"jqxPanel").instance;null!=o&&(this.vScrollInstance=o.vScrollInstance,this.hScrollInstance=o.hScrollInstance),this.panelInstance=o,e.jqx.browser.msie&&e.jqx.browser.version<8&&(this.host.attr("hideFocus",!0),this.host.find("div").attr("hideFocus",!0),this.host.find("ul").attr("hideFocus",!0)),r[0].className="",this.panel=r}this._raiseEvent("3",this)},focus:function(){try{this.host.focus()}catch(e){}},_updateItemEvents:function(t,i){var s=this.isTouchDevice();s&&(this.toggleMode=e.jqx.mobile.getTouchEventName("touchend"));var r=e(i.element);t.enableRoundedCorners&&r.addClass(t.toThemeProperty("jqx-rc-all"));var n=s?e.jqx.mobile.getTouchEventName("touchend"):"mousedown";!0===t.touchMode&&t.removeHandler(e(i.checkBoxElement),"mousedown"),t.removeHandler(e(i.checkBoxElement),n),t.addHandler(e(i.checkBoxElement),n,(function(e){return t.disabled||this.treeItem.disabled||(this.treeItem.checked=!this.treeItem.checked,t.checkItem(this.treeItem.element,this.treeItem.checked,"tree"),t.hasThreeStates&&t.checkItems(this.treeItem,this.treeItem)),!1}));var o=e(i.titleElement);t.removeHandler(r),this.allowDrag&&this._enableDragDrop?(t.removeHandler(o,"mousedown.item"),t.removeHandler(o,"click"),t.removeHandler(o,"dblclick"),t.removeHandler(o,"mouseenter"),t.removeHandler(o,"mouseleave")):t.removeHandler(o),t._renderHover(r,i,s);var a=e(i.subtreeElement);if(a.length>0){var l=i.isExpanded?"block":"none";a.css({overflow:"hidden",display:l}),a.data("timer",{})}t.addHandler(o,"selectstart",(function(e){return!1})),e.jqx.browser.opera&&t.addHandler(o,"mousedown.item",(function(e){return!1})),"click"!=t.toggleMode&&t.addHandler(o,"click",(function(e){t.selectItem(i.element,"mouse"),null!=t.panel&&t.panel.jqxPanel({focused:!0}),o.focus(),t._raiseEvent("9",{element:i.element})})),t.addHandler(o,t.toggleMode,(function(e){if(a.length>0&&clearTimeout(a.data("timer").hide),null!=t.panel&&t.panel.jqxPanel({focused:!0}),t.selectItem(i.element,"mouse"),null==i.isExpanding&&(i.isExpanding=!1),null==i.isCollapsing&&(i.isCollapsing=!1),a.length>0)return i.isExpanded?0==i.isCollapsing&&(i.isCollapsing=!0,t._collapseItem(t,i,!0)):0==i.isExpanding&&(i.isExpanding=!0,t._expandItem(t,i)),!1}))},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),this._isTouchDevice=t,t},createID:function(){return e.jqx.utilities.createId()},createTree:function(t){if(null!=t){var i=e(t).find("li");this.items=new Array,this.itemMapping=new Array,e(t).addClass(this.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&e(t).addClass(this.toThemeProperty("jqx-tree-dropdown-root-rtl")),(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&(this._measureItem=e("<span style='position: relative; visibility: hidden;'></span>"),this._measureItem.addClass(this.toThemeProperty("jqx-widget")),this._measureItem.addClass(this.toThemeProperty("jqx-fill-state-normal")),this._measureItem.addClass(this.toThemeProperty("jqx-tree-item")),this._measureItem.addClass(this.toThemeProperty("jqx-item")),e(document.body).append(this._measureItem)),e.jqx.browser.msie&&e.jqx.browser.version;for(var s=0;s<i.length;s++)this._createItem(i[s]);(this.rtl||e.jqx.browser.msie&&e.jqx.browser.version<8)&&this._measureItem.remove(),this._updateItemsNavigation(),this._updateCheckStates()}},_updateCheckLayout:function(t){var i=this;this.checkboxes&&e.each(this.items,(function(){this.level!=t&&null!=t||i._updateCheckItemLayout(this)}))},_updateCheckItemLayout:function(t){if(this.checkboxes&&"none"!=e(t.titleElement).css("display")){var i=e(t.checkBoxElement),s=e(t.titleElement).outerHeight()/2-1-parseInt(this.checkSize)/2;i.css("margin-top",s),this.rtl||(e.jqx.browser.msie&&e.jqx.browser.version<8?t.titleElement.css("margin-left",parseInt(this.checkSize)+25):t.hasItems&&i.css("margin-left",this.toggleIndicatorSize))}},_updateCheckStates:function(){var t=this;t.hasThreeStates?e.each(this.items,(function(){t._updateCheckState(this)})):e.each(this.items,(function(){null==this.checked&&t.checkItem(this.element,!1,"tree")}))},_updateCheckState:function(t){if(null!=t&&null!=t){var i,s=this,r=0,n=e(t.element).find("li");i=n.length,t.checked&&i>0&&e.each(n,(function(e){var t=s.itemMapping["id"+this.id].item,i=t.element.getAttribute("item-checked");null!=i&&null!=i&&"true"!=i&&1!=i||s.checkItem(t.element,!0,"tree")})),e.each(n,(function(e){var t=s.itemMapping["id"+this.id].item;0!=t.checked&&(null==t.checked&&!0,r++)})),i>0&&(r==i?this.checkItem(t.element,!0,"tree"):r>0?this.checkItem(t.element,null,"tree"):this.checkItem(t.element,!1,"tree"))}},_updateItemsNavigation:function(){for(var t=this.host.find("ul:first"),i=e(t).find("li"),s=0;s<i.length;s++){var r=i[s];if(this.itemMapping["id"+r.id]){var n=this.itemMapping["id"+r.id].item;if(!n)continue;n.prevItem=null,n.nextItem=null,s>0&&this.itemMapping["id"+i[s-1].id]&&(n.prevItem=this.itemMapping["id"+i[s-1].id].item),s<i.length-1&&this.itemMapping["id"+i[s+1].id]&&(n.nextItem=this.itemMapping["id"+i[s+1].id].item)}}},_applyTheme:function(t,i){var s=this;this.host.removeClass("jqx-tree-"+t),this.host.removeClass("jqx-widget-"+t),this.host.removeClass("jqx-widget-content-"+t),this.host.addClass(s.toThemeProperty("jqx-tree")),this.host.addClass(s.toThemeProperty("jqx-widget"));var r=this.host.find("ul:first");e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root")),this.rtl&&(e(r).removeClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl-"+t)),e(r).addClass(s.toThemeProperty("jqx-tree-dropdown-root-rtl")));for(var n=e(r).find("li"),o=0;o<n.length;o++){var a=n[o];e(a).children().each((function(){if("ul"==this.tagName||"UL"==this.tagName)return e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown")),s.rtl&&(e(this).removeClass(s.toThemeProperty("jqx-tree-dropdown-rtl-"+t)),e(this).addClass(s.toThemeProperty("jqx-tree-dropdown-rtl"))),!1}))}e.each(this.items,(function(){var r=this,n=e(r.element);n.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),n.addClass(s.toThemeProperty("jqx-tree-item-li")),this.rtl&&(n.removeClass(s.toThemeProperty("jqx-tree-item-li-"+t)),n.addClass(s.toThemeProperty("jqx-tree-item-li"))),e(r.titleElement).removeClass(s.toThemeProperty("jqx-tree-item-"+t)),e(r.titleElement).addClass(s.toThemeProperty("jqx-tree-item")),e(r.titleElement).removeClass("jqx-item-"+t),e(r.titleElement).addClass(s.toThemeProperty("jqx-item"));var o=e(r.arrow);o.length>0&&s._arrowStyle(o,"",r.isExpanded),r.checkBoxElement&&e(r.checkBoxElement).jqxCheckBox({theme:i}),s.enableRoundedCorners&&(n.removeClass("jqx-rc-all-"+t),n.addClass(s.toThemeProperty("jqx-rc-all")))})),this.host.jqxPanel&&this.panel.jqxPanel({theme:i})},_refreshMapping:function(t,i){for(var s=this.host.find("li"),r=new Array,n=new Array,o=e.data(document.body,"treeItemsStorage"),a=this,l=0;l<s.length;l++){var h=s[l],d=e(h),c=o[h.id];if(null!=c){n[n.length]=c,null!=t&&1!=t||this._updateItemEvents(this,c),c.level=d.parents("li").length,c.treeInstance=this;var u=null,p=null;-1!=c.titleElement[0].className.indexOf("jqx-fill-state-pressed")&&(e(c.titleElement).removeClass(a.toThemeProperty("jqx-fill-state-pressed")),e(c.titleElement).removeClass(a.toThemeProperty("jqx-tree-item-selected"))),d.children().each((function(){if("ul"==this.tagName||"UL"==this.tagName)return c.subtreeElement=this,e(this).addClass(a.toThemeProperty("jqx-tree-dropdown")),a.rtl&&e(this).addClass(a.toThemeProperty("jqx-tree-dropdown-rtl")),!1})),d.parents().each((function(){if("li"==this.tagName||"LI"==this.tagName)return p=this.id,u=this,!1})),c.parentElement=u,c.parentId=p,c.hasItems=e(c.element).find("li").length>0,null!=c&&(r[l]={element:h,item:c},r["id"+h.id]=r[l])}}this.itemMapping=r,this.items=n},_createItem:function(t){if(null!=t&&null!=t){var i=t.id;i||(i=this.createID());var s=t,r=e(t);s.id=i;var n=e.data(document.body,"treeItemsStorage");null==n&&(n=new Array);var o=this.items.length;this.items[o]=new e.jqx._jqxTree.jqxTreeItem,this.treeElements[i]=this.items[o],n[s.id]=this.items[o],e.data(document.body,"treeItemsStorage",n),o=this.items.length;var a=0,l=this,h=null;r.attr("role","treeitem"),r.children().each((function(){if("ul"==this.tagName||"UL"==this.tagName)return l.items[o-1].subtreeElement=this,e(this).addClass(l.toThemeProperty("jqx-tree-dropdown")),l.rtl&&(e(this).addClass(l.toThemeProperty("jqx-tree-dropdown-rtl")),e(this).css("clear","both")),!1})),r.parents().each((function(){if("li"==this.tagName||"LI"==this.tagName)return a=this.id,h=this,!1}));var d=t.getAttribute("item-expanded");d=null!=d&&null!=d&&("true"==d||1==d),s.removeAttribute("item-expanded");var c=t.getAttribute("item-locked");c=null!=c&&null!=c&&("true"==c||1==c),s.removeAttribute("item-locked");var u=t.getAttribute("item-selected");u=null!=u&&null!=u&&("true"==u||1==u),s.removeAttribute("item-selected");var p=t.getAttribute("item-disabled");p=null!=p&&null!=p&&("true"==p||1==p),s.removeAttribute("item-disabled");var m=t.getAttribute("item-checked");m=null!=m&&null!=m&&("true"==m||1==m);var f=t.getAttribute("item-title");(null==f||null==f||"true"!=f&&1!=f)&&(f=!1),s.removeAttribute("item-title");var g=t.getAttribute("item-icon"),v=t.getAttribute("item-iconsize"),x=t.getAttribute("item-label"),b=t.getAttribute("item-value");s.removeAttribute("item-icon"),s.removeAttribute("item-iconsize"),s.removeAttribute("item-label"),s.removeAttribute("item-value");var y=this.items[o-1];y.id=i,null==y.value&&(this._valueList&&this._valueList[i]?y.value=this._valueList[i]:y.value=b),y.icon=g,y.iconsize=v,y.parentId=a,y.disabled=p,y.parentElement=h,y.element=t,y.locked=c,y.selected=u,y.checked=m,y.isExpanded=d,y.treeInstance=this,this.itemMapping[o-1]={element:s,item:y},this.itemMapping["id"+s.id]=this.itemMapping[o-1];if(!1,this.rtl&&(e(y.element).css("float","right"),e(y.element).css("clear","both")),e(s.firstChild).length>0){v=16;if(y.icon){(v=y.iconsize)||(v=16);g=e('<img width="'+v+'" height="'+v+'" style="float: left;" class="itemicon" src="'+y.icon+'"/>');e(s).prepend(g),g.css("margin-right","6px"),this.rtl&&(g.css("margin-right","0px"),g.css("margin-left","6px"),g.css("float","right"))}var w=s.innerHTML.indexOf("<ul");if(-1==w&&(w=s.innerHTML.indexOf("<UL")),-1==w)y.originalTitle=s.innerHTML,s.innerHTML='<div style="display: inline-block;">'+s.innerHTML+"</div>",y.titleElement=e(e(s)[0].firstChild);else{var _=s.innerHTML.substring(0,w);_=e.trim(_),y.originalTitle=_,_=e('<div style="display: inline-block;">'+_+"</div>");var q=e(s).find("ul:first");q.remove(),s.innerHTML="",e(s).prepend(_),e(s).append(q),y.titleElement=_,this.rtl&&(_.css("float","right"),q.css("padding-right","10px"))}if(16!==v&&e(y.titleElement).css("line-height",v+"px"),e.jqx.browser.msie&&e.jqx.browser.version<8){e(e(s)[0].firstChild).css("display","inline-block");var j=!1;0==this._measureItem.parents().length&&(e(document.body).append(this._measureItem),j=!0),this._measureItem.css("min-width","20px"),this._measureItem[0].innerHTML=e(y.titleElement).text();var T=this._measureItem.width();y.icon&&(T+=20),e(e(y.titleElement).find("img")).length>0&&(T+=20),e(e(s)[0].firstChild).css("max-width",T+"px"),j&&this._measureItem.remove()}}else y.originalTitle="Item",e(s).append(e("<span>Item</span>")),e(s.firstChild).wrap("<span/>"),y.titleElement=e(s)[0].firstChild,e.jqx.browser.msie&&e.jqx.browser.version<8&&e(s.firstChild).css("display","inline-block");var C=e(y.titleElement),I=this.toThemeProperty("jqx-rc-all");if(this.allowDrag&&C.addClass("draggable"),null==x||null==x?(x=y.titleElement,y.label=e.trim(C.text())):y.label=x,e(s).addClass(this.toThemeProperty("jqx-tree-item-li")),this.rtl&&e(s).addClass(this.toThemeProperty("jqx-tree-item-li-rtl")),I+=" "+this.toThemeProperty("jqx-tree-item")+" "+this.toThemeProperty("jqx-item"),this.rtl&&(I+=" "+this.toThemeProperty("jqx-tree-item-rtl")),C[0].className=C[0].className+" "+I,y.level=e(t).parents("li").length,y.hasItems=e(t).find("li").length>0,this.rtl&&y.parentElement&&this.checkboxes,this.checkboxes){if(!this.host.jqxCheckBox)throw new Error("jqxTree: Missing reference to jqxcheckbox.js.");var S=e('<div style="overflow: visible; position: absolute; width: 18px; height: 18px;" tabIndex=0 class="chkbox"/>');if(S.width(parseInt(this.checkSize)),S.height(parseInt(this.checkSize)),e(s).prepend(S),this.rtl&&(S.css("float","right"),S.css("position","static")),S.jqxCheckBox({hasInput:!1,checked:y.checked,boxSize:this.checkSize,animationShowDelay:0,animationHideDelay:0,disabled:p,theme:this.theme}),this.rtl){y.parentElement?S.css("margin-right","10px"):S.css("margin-right","5px")}else C.css("margin-left",parseInt(this.checkSize)+8);y.checkBoxElement=S[0],S[0].treeItem=y;var k=C.outerHeight()/2-1-parseInt(this.checkSize)/2;S.css("margin-top",k),e.jqx.browser.msie&&e.jqx.browser.version<8?(C.css("width","1%"),C.css("margin-left",parseInt(this.checkSize)+25)):y.hasItems&&(this.rtl||S.css("margin-left",this.toggleIndicatorSize))}else e.jqx.browser.msie&&e.jqx.browser.version<8&&C.css("width","1%");p&&this.disableItem(y.element),u&&this.selectItem(y.element),e.jqx.browser.msie&&e.jqx.browser.version<8&&(e(s).css("margin","0px"),e(s).css("padding","0px"))}},destroy:function(){this.removeHandler(e(window),"resize.jqxtree"+this.element.id),this.host.removeClass(),this.isTouchDevice()&&(this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchend")+".touchScroll touchcancel.touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(this.panel,e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"));var t=this,i=this.isTouchDevice();e.each(this.items,(function(){var s=this,r=e(this.element),n=i?e.jqx.mobile.getTouchEventName("touchend"):"click";t.removeHandler(e(s.checkBoxElement),n);var o=e(s.titleElement);t.removeHandler(r),t.allowDrag&&t._enableDragDrop?(t.removeHandler(o,"mousedown.item"),t.removeHandler(o,"click"),t.removeHandler(o,"dblclick"),t.removeHandler(o,"mouseenter"),t.removeHandler(o,"mouseleave")):t.removeHandler(o);var a=e(s.arrow);a.length>0&&(t.removeHandler(a,n),t.removeHandler(a,"selectstart"),t.removeHandler(a,"mouseup"),i||(t.removeHandler(a,"mouseenter"),t.removeHandler(a,"mouseleave")),t.removeHandler(o,"selectstart")),e.jqx.browser.opera&&t.removeHandler(o,"mousedown.item"),"click"!=t.toggleMode&&t.removeHandler(o,"click"),t.removeHandler(o,t.toggleMode)})),this.panel&&(this.panel.jqxPanel("destroy"),this.panel=null),this.host.remove()},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i;r.owner=this;var n=new e.Event(s);return n.owner=this,n.args=r,this.host.trigger(n)},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized){if("submitCheckedItems"==i&&t._updateInputSelection(),"disabled"==i&&t._updateDisabledState(),"theme"==i&&t._applyTheme(s,r),"keyboardNavigation"==i&&(t.enableKeyboardNavigation=r),("width"==i||"height"==i)&&(t.refresh(),t._initialize(),t._calculateWidth(),t.host.jqxPanel)){var n="fixed";null!=this.height&&"auto"!=this.height||(n="verticalwrap"),null!=this.width&&"auto"!=this.width||(n="fixed"==n?"horizontalwrap":"wrap"),t.panel.jqxPanel({sizeMode:n})}if("touchMode"==i&&(t._isTouchDevice=null,r&&(t.enableHover=!1),t._render()),("source"==i||"checkboxes"==i)&&null!=this.source){var o=[];e.each(t.items,(function(){this.isExpanded&&(o[o.length]={label:this.label,level:this.level})}));var a=t.loadItems(t.source);t.host.jqxPanel?t.panel.jqxPanel("setcontent",a):t.element.innerHTML=a;var l=t.disabled,h=t.host.find("ul:first");h.length>0&&(t.createTree(h[0]),t._render());var d=t,c=d.animationShowDuration;d.animationShowDuration=0,t.disabled=!1,o.length>0&&e.each(t.items,(function(){for(var e=0;e<o.length;e++)if(o[e].label==this.label&&o[e].level==this.level){var t=d.getItem(this.element);d._expandItem(d,t)}})),t.disabled=l,d.animationShowDuration=c}"hasThreeStates"==i&&(t._render(),t._updateCheckStates()),"toggleIndicatorSize"==i&&(t._updateCheckLayout(),t._render())}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxTree.jqxTreeItem=function(e,t,i){return{label:null,id:e,parentId:t,parentElement:null,parentItem:null,disabled:!1,selected:!1,locked:!1,checked:!1,level:0,isExpanded:!1,hasItems:!1,element:null,subtreeElement:null,checkBoxElement:null,titleElement:null,arrow:null,prevItem:null,nextItem:null}},function(e){e.jqx.jqxWidget("jqxTabs","",{}),e.extend(e.jqx._jqxTabs.prototype,{defineInstance:function(){var t={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:["created","selected","add","removed","enabled","disabled","selecting","unselecting","unselected","dragStart","dragEnd","locked","unlocked","collapsed","expanded","tabclick"],_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};return this===e.jqx._jqxTabs.prototype||e.extend(!0,this,t),t},createInstance:function(){this._IE8=e.jqx.browser.msie&&e.jqx.browser.version<9,e.jqx.aria(this),this.element.className+=" "+this.toThemeProperty("jqx-tabs jqx-widget jqx-widget-content"),this.element.setAttribute("role","tablist");for(var t=this.host.children(),i=0;i<t.length;i++){var s=t[i];"ul"===s.nodeName.toLowerCase()?this._unorderedList=s:"div"===s.nodeName.toLowerCase()&&this._contentList.push(s)}this._unorderedListHelper=e(this._unorderedList),this._unorderedListHelper.initAnimate&&this._unorderedListHelper.initAnimate(),this._closeButtonList=[],this._selectedItem=this.selectedItem,this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._needScroll=this.scrollable,this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck()),this._isTouchDevice&&(this.reorder=!1,this.keyboardNavigation=!1),this._titleList=this._unorderedListHelper.children();for(var r=this._titleList.length;r;)r--,this._titleList[r]&&(this._titleList[r].setAttribute("role","tab"),this._titleList[r].getAttribute("id")||this._titleList[r].setAttribute("id",this.element.id+"Tab"+r),this._contentList[r].setAttribute("role","tabpanel"));this._validateProperties(),this._refresh(),this._moveSelectionTrack(this._selectedItem,0),this.disabled&&this.disable(),this.element.tabIndex=0,this._raiseEvent(0),this._enableWindowResize()},_hiddenParent:function(){if("none"===this.host.css("display"))return!0;var t=!1;return e.each(this.host.parents(),(function(){if("none"===e(this).css("display"))return t=!0,!1})),t},_enableWindowResize:function(){var t=this,i=e.jqx.isHidden(t.host);e.jqx.utilities.resize(this.host,(function(){i?(t._uiRefresh(!0),i=!1):t.refresh(),t._refreshBarPosition()}))},resize:function(t,i){this.width=t,this.height=i;var s=e.jqx.isHidden(this.host);s?(this._uiRefresh(!0),s=!1):this.refresh()},refresh:function(e){!0===e&&void 0!==e||this._setSize()},_seletionTrackerBrowserCheck:function(){var t="Browser CodeName: "+navigator.appCodeName;return t+="Browser Name: "+navigator.appName,t+="Browser Version: "+navigator.appVersion,t+="Platform: "+navigator.platform,-1===(t+="User-agent header: "+navigator.userAgent).indexOf("IEMobile")&&(-1===t.indexOf("Windows Phone OS")&&!(e.jqx.browser.msie&&e.jqx.browser.version<=7))},render:function(){this._refresh()},_uiRefresh:function(t){if(this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),t&&this._render(),this._addStyles(),this._performLayout(),this._prepareTabs(),this._removeEventHandlers(),this._addEventHandlers(),"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!==e(this._rightArrow).css("visibility")){var i=2*this.arrowButtonSize,s=this._width(this.element)-parseInt(this._width(this._unorderedList)+i+parseInt(this._unorderedListHelper.css("margin-left"),10),10);this._unorderedList.style.left=s+"px"}var r=this;setTimeout((function(){r._performLayout()}),100)},_refresh:function(){e.jqx.isHidden(this.host)||(this._uiRefresh(!0),this.host.addClass("jqx-tabs-header-position-"+this.position))},_addStyles:function(){this._unorderedList.className+=" "+this.toThemeProperty("jqx-tabs-title-container"),this._unorderedList.style.outline="none",this._unorderedList.style.whiteSpace="nowrap",this._unorderedList.style.marginTop="0px",this._unorderedList.style.marginBottom="0px",this._unorderedList.style.padding="0px",this._unorderedList.style.background="transparent",this._unorderedList.style.border="none",this._unorderedList.style.borderStyle="none",this._unorderedList.style.textIndent="0px";for(var e=this.length();e;){e--;var t=this._titleList[e],i="jqx-tabs-title jqx-item";switch(t.style.padding="","bottom"===this.position&&(i+=" jqx-tabs-title-bottom"),t.disabled&&(i+=" jqx-tabs-title-disable jqx-fill-state-disabled"),this.position){case"top":i+=" jqx-rc-t",this._removeClass(this._contentList[e],this.toThemeProperty("jqx-rc-t")),this._contentList[e].className+=" "+this.toThemeProperty("jqx-rc-b");break;case"bottom":i+=" jqx-rc-b",this._removeClass(this._contentList[e],this.toThemeProperty("jqx-rc-b")),this._contentList[e].className+=" "+this.toThemeProperty("jqx-rc-t")}t.className="jqx-reset jqx-disableselect "+this.toThemeProperty(i)}if(this.selectionTracker)switch(this.position){case"top":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-b")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-t");break;case"bottom":this._removeClass(this._selectionTracker,this.toThemeProperty("jqx-rc-t")),this._selectionTracker.className+=" "+this.toThemeProperty("jqx-rc-b")}},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);s.owner=this,s.args=i,6!==t&&7!==t||(s.cancel=!1,this._currentEvent=s);var r="";try{if(r=this.host.trigger(s),1===t){var n=this;if(this.selectionTracker||"none"!==this.animationType)setTimeout((function(){n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0);var t=new e.Event("loadContent");t.owner=this,n._contentList.length>0&&n._contentList[n.selectedItem]&&e(n._contentList[n.selectedItem]).trigger(t)}),50+n.selectionTrackerAnimationDuration);else{var o=new e.Event("loadContent");n._initTabContentList[n.selectedItem]||n.initTabContent&&(n.initTabContent(n.selectedItem),n._initTabContentList[n.selectedItem]=!0),o.owner=this;var a=new e.Event("resize");this.host.trigger(a)}}}catch(e){e&&console&&console.log(e)}return r},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var e=this.arrowButtonSize,t=this.arrowButtonSize;return"left"===this.scrollPosition?e+t:"both"===this.scrollPosition?e:0},_scrollRight:function(t){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var i,s,r,n=parseInt(this._width(this._unorderedList)+parseInt(this._unorderedListHelper.css("margin-left"),10),10),o=this._width(this.element),a=parseInt(this._unorderedListHelper.css("left"),10),l=this._getArrowsDisplacement(),h=0;this.scrollable?(i=this._leftArrow.offsetWidth,s=this._rightArrow.offsetWidth):(i=0,s=0),t=this.enableScrollAnimation?t:0,this._width(this._headerWrapper)>parseInt(this._unorderedListHelper.css("margin-left"),10)+this._width(this._unorderedList)?h=l:Math.abs(a)+this.scrollStep<Math.abs(o-n)+i+s+l?(h=a-this.scrollStep,r=a-this.scrollStep+parseInt(e(this._titleList[this._selectedItem]).position().left,10)):(h=o-n-(2*this.arrowButtonSize-l))<parseInt(this._unorderedListHelper.css("left"),10)-4&&h>parseInt(this._unorderedListHelper.css("left"),10)+4&&(r=o-n-i-s+parseInt(e(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(h,r,t)},_scrollLeft:function(t){this._stop(this._unorderedListHelper),this._unlockAnimation("unorderedList");var i,s=parseInt(this._unorderedListHelper.css("left"),10),r=this._getArrowsDisplacement(),n=0;t=this.enableScrollAnimation?t:0,this._width(this._headerWrapper)>=this._width(this._unorderedList)?n=r:s+this.scrollStep<r?(n=s+this.scrollStep,i=s+this.scrollStep+parseInt(e(this._titleList[this._selectedItem]).position().left,10)):(n=r)<parseInt(this._unorderedListHelper.css("left"),10)-4&&n>parseInt(this._unorderedListHelper.css("left"),10)+4&&(i=parseInt(e(this._titleList[this._selectedItem]).position().left,10)),this._performScrollAnimation(n,i,t)},_performScrollAnimation:function(e,t,i){var s=this;void 0!==t&&this._moveSelectionTrack(this._selectedItem,0,t),this._lockAnimation("unorderedList"),s._refreshBarPosition(),this._unorderedListHelper.animate({left:e},i,(function(){s._moveSelectionTrack(s.selectedItem,0),s._unlockAnimation("unorderedList"),s._refreshBarPosition()}))},_addKeyboardHandlers:function(){var t=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",(function(i){if(!t._activeAnimation()){var s=t._selectedItem,r=t.selectionTracker,n=t.getContentAt(s);if(e(i.target).ischildof(n))return!0;if(e(document.activeElement).ischildof(e(n)))return!0;switch(i.keyCode){case 37:return t.rtl?t.next():t.previous(),!1;case 39:return t.rtl?t.previous():t.next(),!1;case 36:return t.first(),!1;case 35:return t.last(),!1;case 27:t._tabCaptured&&(t._cancelClick=!0,t._uncapture(null,t.selectedItem),t._tabCaptured=!1)}t.selectionTracker=r}return!0}))},_addScrollHandlers:function(){var t=this;this.addHandler(this._leftArrow,"mousedown",(function(){t._startScrollRepeat(!0,t.scrollAnimationDuration)})),this.addHandler(this._rightArrow,"mousedown",(function(){t._startScrollRepeat(!1,t.scrollAnimationDuration)})),this.addHandler(this._rightArrow,"mouseleave",(function(){clearTimeout(t._scrollTimeout)})),this.addHandler(this._leftArrow,"mouseleave",(function(){clearTimeout(t._scrollTimeout)})),this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this),this.addHandler(e(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(e){var t=e.data;t._scrollTimeout&&clearTimeout(t._scrollTimeout)},_mouseUpScrollDocumentHandler:function(e){var t=e.data;clearTimeout(t._scrollTimeout)},_mouseUpDragDocumentHandler:function(e){var t=e.data;t._tabCaptured&&t._dragStarted&&t._uncapture(e),t._tabCaptured=!1},_addReorderHandlers:function(){var t=this;t.addHandler(e(document),"mousemove.tab"+t.element.id,t._moveElement,t),t.addHandler(e(document),"mouseup.tab"+t.element.id,t._mouseUpDragDocumentHandler,t)},_addEventHandlers:function(){for(var t=this.length();t;)t--,this._addEventListenerAt(t);this.keyboardNavigation&&this._addKeyboardHandlers(),this.scrollable&&this._addScrollHandlers(),this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var i=this;try{if((""!==document.referrer||window.frameElement)&&null!==window.top&&window.top!==window.self){var s=null;window.parent&&document.referrer&&(s=document.referrer),s&&-1!==s.indexOf(document.location.host)&&window.top.document&&this.addHandler(e(window.top.document),"mouseup.tabs"+this.element.id,(function(){i._tabCaptured&&(i._cancelClick=!0,i._uncapture(null,i.selectedItem),i._tabCaptured=!1)}))}}catch(e){}},focus:function(){try{this.host.focus();var e=this;setTimeout((function(){e.host.focus()}),25)}catch(e){}},_getFocusedItem:function(t){for(var i=this.length();i;){i--;var s=this._titleList[i],r=this._outerWidth(s,!0),n=parseInt(e(s).offset().left,10);if(n<=t&&n+r>=t&&s!==this._capturedElement&&!this._titleList[i].locked&&!0!==this._titleList[i].disabled)return i}return-1},_uncapture:function(e){var t=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedListHelper.css("left"),this._dragStarted=!1,this._tabCaptured=!1;var i=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case"top":this._capturedElement.style.bottom="0px";break;case"bottom":this._capturedElement.style.top="0px"}var s;e&&(s=this._getFocusedItem(e.clientX)),-1!==s&&e?(this._raiseEvent(10,{item:i,dropIndex:s}),this._reorderItems(s,i)):this._capturedElement.style.left="0px";for(var r=0;r<this._titleList.length;r++)this._titleList[r].style.position="static";this._reorderHeaderElements(),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._prepareTabs(),-1!==s&&e?(this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this._selectedItem,!0)):(this._selectedItem=i,this._moveSelectionTrack(i,0),this._addSelectStyle(this._selectedItem,!0)),document.selection&&document.selection.clear(),this._unorderedList.style.left=this._toPx(this._unorderedListLeftBackup),this.selectionTracker=t}},_reorderItems:function(t,i){var s=this._titleList[this.selectedItem],r=this._titleList[i];void 0===this._capturedElement&&(this._capturedElement=r),e(r).remove(),i<t?this._titleList[t+1]?this._unorderedList.insertBefore(r,this._titleList[t+1]):this._unorderedList.appendChild(r):this._unorderedList.insertBefore(r,this._titleList[t]),this._reorderElementArrays(t,i),this._getSelectedItem(s),this._removeEventHandlers(),this._addEventHandlers()},_reorderElementArrays:function(e,t){var i=this._contentList[t];if(t<e){for(var s=t;s<=e;s++)this._titleList[s]=this._titleList[s+1],this._contentList[s]=this._contentList[s+1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}else{for(var r=t;r>=e;r--)this._titleList[r]=this._titleList[r-1],this._contentList[r]=this._contentList[r-1];this._contentList[e]=i,this._titleList[e]=this._capturedElement}},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e){this._selectedItem=this.selectedItem=t;break}},_moveElement:function(e){var t=e.data;if(t._tabCaptured)if(document.selection&&document.selection.clear(),t._dragStarted)t._performDrag(e),clearTimeout(t._scrollTimeout);else{var i=-parseInt(t._unorderedListHelper.css("left"),10);(e.clientX+i>t._startX+3||e.clientX+i<t._startX-3)&&(t._prepareTabForDragging(),t._dragStarted=!0)}},_performDrag:function(e){var t=this.getZoomFactor(),i=-parseInt(this._unorderedListHelper.css("left"),10);this._capturedElement.style.left=this._toPx(i+e.clientX/t-this._startX/t),this._lastX=e.clientX/t,this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var e=1;if(document.body.getBoundingClientRect){var t=document.body.getBoundingClientRect(),i=t.right-t.left,s=document.body.offsetWidth;e=Math.round(i/s*100)/100}return e},_prepareTabForDragging:function(){switch(this._capturedElement.style.position="relative",this._capturedElement.style.left="0px",this._capturedElement.style.top="0px",this._capturedElement.style.zIndex=300,this.selectedItem=this._indexOf(this._capturedElement),this.position){case"top":this._capturedElement.style.bottom=this._toPx(e(this._capturedElement).css("top"));break;case"bottom":this._capturedElement.style.top=this._toPx(e(this._capturedElement).css("top"))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(t){var i=parseInt(this._unorderedListHelper.css("left"),10),s=this,r=e(s._headerWrapper);t.clientX<=r.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(e(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-i):t.clientX>r.offset().left+s._width(this._headerWrapper)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.style.left=parseInt(e(this._capturedElement).css("left"),10)+this._lastUnorderedListPosition-i):(s._stop(s._unorderedListHelper),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout)),this._scrollTimeout=setTimeout((function(){s._dragScroll(t)}),this.scrollAnimationDuration),this._lastUnorderedListPosition=i},_captureElement:function(e,t){if(!this._tabCaptured&&!this._titleList[t].locked&&!0!==this._titleList[t].disabled&&!this._activeAnimation()){var i=-parseInt(this._unorderedListHelper.css("left"),10);this._startX=i+e.clientX,this._startY=e.clientY,this._lastX=e.clientX,this._lastY=e.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[t]}},_titleInteractionTrigger:function(e){this._headerExpandingBalance>0&&this._removeOppositeBorder(),this._selectedItem!==e?(this.select(this._titleList[e],"toggle"),this._titleList[e].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.style.visibility="visible":this._contentWrapper.style.display="block")):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var e=this._selectedItem,t=this;this.isCollapsed=!0,"auto"!==t.height?t._contentWrapper.style.visibility="hidden":t._contentWrapper.style.display="none",t._raiseEvent(13,{item:e}),"top"===this.position?(t._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed"),t.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed")):(t._headerWrapper.className+=" "+this.toThemeProperty("jqx-tabs-header-collapsed-bottom"),t.element.className+=" "+this.toThemeProperty("jqx-tabs-collapsed-bottom"))},expand:function(){var e=this._selectedItem,t=this;this.isCollapsed=!1,this._select(e,t.contentTransitionDuration,null,!1,!0),"auto"!==t.height?t._contentWrapper.style.visibility="visible":t._contentWrapper.style.display="block",t._raiseEvent(14,{item:e}),"top"===this.position?(t._removeClass(t._headerWrapper,t.toThemeProperty("jqx-tabs-header-collapsed")),t._removeClass(t.element,t.toThemeProperty("jqx-tabs-collapsed"))):(t._removeClass(t._headerWrapper,t.toThemeProperty("jqx-tabs-header-collapsed-bottom")),t._removeClass(t.element,t.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(e){var t,i=this;this.addHandler(this._titleList[e],"selectstart",(function(){return!1})),this.addHandler(this._titleList[e],this.toggleMode,(t=e,function(){return i._raiseEvent("15",{item:t}),i._tabCaptured||i._cancelClick||i._titleInteractionTrigger(t),!0}))},_addDragDropHandlers:function(e){var t=this;this.addHandler(this._titleList[e],"mousedown",(function(i){t._captureElement(i,e)})),this.addHandler(this._titleList[e],"mouseup",(function(i){return t._tabCaptured&&t._dragStarted?(t._cancelClick=!0,t._uncapture(i,e)):t._cancelClick=!1,t._tabCaptured=!1,!1}))},_removeHoverStates:function(){var t=this;e.each(this._titleList,(function(){t._removeClass(this,t.toThemeProperty("jqx-tabs-title-hover-top jqx-tabs-title-hover-bottom"))}))},_addHoverHandlers:function(e){var t=this,i=this._titleList[e];this.addHandler(i,"mouseenter mouseleave",(function(s){if(e!==t._selectedItem){var r="jqx-fill-state-hover";if("top"===t.position?r+=" jqx-tabs-title-hover-top":r+=" jqx-tabs-title-hover-bottom","mouseenter"===s.type?i.className+=" "+t.toThemeProperty(r):t._removeClass(i,t.toThemeProperty(r)),t.showCloseButtons){var n=t._closeButtonList[e];"mouseenter"===s.type?n.className+=" "+t.toThemeProperty("jqx-tabs-close-button-hover",!0):t._removeClass(n,t.toThemeProperty("jqx-tabs-close-button-hover",!0))}}}))},_addEventListenerAt:function(t){var i=this;if(!this._titleList[t].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(t),this._addSelectHandler(t),this.enabledHover&&this._addHoverHandlers(t);var s=i._closeButtonList[t];this.removeHandler(s,"click"),this.addHandler(s,"click",(function(){var t=e(this).parents("li").index();return i.removeAt(t),!1}))}},_removeEventHandlers:function(){for(var t=this,i=t.length();i;)i--,t._removeEventListenerAt(i);t.scrollable&&(t.removeHandler(t._leftArrow,"mousedown"),t.removeHandler(t._rightArrow,"mousedown")),t.removeHandler(e(document),"mousemove.tab"+t.element.id,t._moveElement),t.removeHandler(e(document),"mouseup.tab"+t.element.id,t._mouseUpScrollDocumentHandler),t.removeHandler(e(document),"mouseup.tab"+t.element.id,t._mouseUpDragDocumentHandler),t.removeHandler(t.host,"keydown")},_removeEventListenerAt:function(e){var t=this;t.removeHandler(t._titleList[e],t.toggleMode),t.removeHandler(t._titleList[e],"mouseenter"),t.removeHandler(t._titleList[e],"mouseleave"),t.removeHandler(t._titleList[e],"mousedown"),t.removeHandler(t._titleList[e],"mouseup"),t.removeHandler(t._closeButtonList[e],"click")},_moveSelectionTrack:function(t,i,s){var r=this;if(-1!==t&&0!==this._titleList.length&&!(t>=this._titleList.length)){var n=this._titleList[t],o=e(n);if(r._refreshBarPosition(),this.selectionTracker&&this._selectionTracker){var a;r._stop(r._selectionTrackerHelper),this._unlockAnimation("selectionTracker"),void 0===s?(a=parseInt(o.position().left,10),isNaN(parseInt(this._unorderedListHelper.css("left"),10))||(a+=parseInt(this._unorderedListHelper.css("left"),10)),isNaN(parseInt(this._unorderedListHelper.css("margin-left"),10))||(a+=parseInt(this._unorderedListHelper.css("margin-left"),10)),isNaN(parseInt(o.css("margin-left"),10))||(a+=parseInt(o.css("margin-left"),10)),isNaN(parseInt(o.css("margin-right"),10))):a=s;"top"===this.position&&(this._height(r._headerWrapper)-n.offsetHeight,this.autoHeight||parseInt(o.css("margin-top"),10)),this._lockAnimation("selectionTracker");var l=parseInt(o.css("padding-left"),10)+parseInt(o.css("padding-right"),10),h="top"===this.position?0:1,d=parseInt(e(this._headerWrapper).css("padding-top"),10),c=parseInt(o.css("padding-top"),10)+parseInt(o.css("padding-bottom"),10);this._selectionTracker.style.visibility="visible",this._moveSelectionTrackerContainer.style.visibility="visible";var u=parseInt(o.css("margin-top"),10);isNaN(u)&&(u=0),r._refreshBarPosition(),r._selectionTrackerHelper.animate({top:d+u-h,left:a+"px",height:parseInt(this._height(n)+c,10),width:r._width(n)+l},i,(function(){r._unlockAnimation("selectionTracker"),r._selectionTracker.style.visibility="hidden",r._addSelectStyle(t,!0),r._moveSelectionTrackerContainer.style.visibility="hidden"}))}}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self&&this.removeHandler(e(window.top.document),"mouseup.tabs"+this.element.id),this.host.remove()},_switchTabs:function(e,t){if(e!==t&&!this._activeAnimation()&&!this._tabCaptured){return this._raiseEvent(7,{item:t}),this._raiseEvent(6,{item:e}),this._currentEvent&&this._currentEvent.cancel?void(this._currentEvent=null):(this._unselect(t,null,!0),this._select(e,this.contentTransitionDuration,null,!0),!0)}return!1},_activeAnimation:function(){for(var e in this._isAnimated)if(this._isAnimated.hasOwnProperty(e)&&this._isAnimated[e])return!0;return!1},_indexOf:function(e){for(var t=this.length();t;)if(t--,this._titleList[t]===e||this._contentList[t]===e)return t;return-1},_validateProperties:function(){try{if(this.scrollAnimationDuration<0||isNaN(this.scrollAnimationDuration))throw new Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(parseInt(this.width,10)<0&&"auto"!==this.width)throw new Error(this._invalidArgumentExceptions.invalidWidth);if(parseInt(this.height,10)<0&&"auto"!==this.height)throw new Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(this.contentTransitionDuration<0||isNaN(this.contentTransitionDuration))throw new Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw new Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw new Error(this._invalidArgumentExceptions.invalidScrollPosition);if(this.scrollStep<0||isNaN(this.scrollStep))throw new Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0===this._titleList.length)throw new Error(this._invalidArgumentExceptions.invalidStructure);if(this.arrowButtonSize<0||isNaN(this.arrowButtonSize))throw new Error(this._invalidArgumentExceptions.invalidArrowSize);if(this.closeButtonSize<0||isNaN(this.closeButtonSize))throw new Error(this._invalidArgumentExceptions.invalidCloseSize)}catch(e){try{console.log(e)}catch(e){}}},_startScrollRepeat:function(e,t){var i=this;e?this._scrollLeft(t):this._scrollRight(t),this._scrollTimeout&&clearTimeout(this._scrollTimeout),this._scrollTimeout=setTimeout((function(){i._startScrollRepeat(e,i.scrollAnimationDuration)}),t)},_performLayout:function(){for(var e=this.length();e;)e--,"top"!==this.position&&"bottom"!==this.position||(this.rtl?this._titleList[e].style.float="right":this._titleList[e].style.float="left");this._fitToSize(),this._performHeaderLayout(),this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_setSize:function(){var e=this;e._fitToSize(),e._positionArrows(e._totalItemsWidth),e._totalItemsWidth>e.element.offsetWidth?e._unorderedList.style.width=e._toPx(e._totalItemsWidth):e._unorderedList.style.width=e.element.offsetWidth-2+"px",e._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(e(this._leftArrow).remove(),e(this._rightArrow).remove()),this._leftArrow=document.createElement("div"),this._leftArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-left")+'"></span>',this._leftArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._leftArrow.style.zIndex=30,this._leftArrow.style.display="none",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.height="100%",this._rightArrow=document.createElement("div"),this._rightArrow.innerHTML='<span style="display: block; width: 16px; height: 16px;" class="'+this.toThemeProperty("jqx-tabs-arrow-right")+'"></span>',this._rightArrow.className=this.toThemeProperty("jqx-tabs-arrow-background jqx-widget-header"),this._rightArrow.style.zIndex=30,this._rightArrow.style.display="none",this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.height="100%",this._headerWrapper.appendChild(this._leftArrow),this._headerWrapper.appendChild(this._rightArrow)},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var t=this.length();return e.each(this._titleList,(function(){var e=this.attr("hasclosebutton");null!=e&&("false"!==e&&!1!==e||t--)})),t},_calculateTitlesSize:function(){var t=this;function i(e,t){e&&(e.style.display=t?"block":"none")}var s=0,r=0,n=this.length();for(this.rtl&&e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._measureItem=document.createElement("span"),this._measureItem.style.position="relative",this._measureItem.style.visibility="hidden",document.body.appendChild(this._measureItem));n;){n--;var o=this._titleList[n],a=t._closeButtonList[n];this._measureItem&&(this._measureItem.innerHTML=o.innerHTML,this._measureItem.html(this._titleList[n].html()),o.style.width=t._toPx(t._width(this._measureItem))),o.style.position="static",i(a,!1),r+=t._outerWidth(o,!0);var l=t._outerHeight(o,!0);if(s<l&&(s=l),0===t._height(o)){var h=o.cloneNode(!0);document.body.appendChild(h),s=t._outerHeight(h,!0),document.body.removeChild(h)}var d,c=o.getAttribute("hasCloseButton");null!=c?(d=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[n]&&(i(a,!1),d=!0),d||("true"===c||!0===c?(r+=this.closeButtonSize,i(a,!0)):"false"!==c&&!1!==c||i(a,!1))):this.showCloseButtons&&(this.canCloseAllTabs||this._tabsWithVisibleCloseButtons()>1)&&(d=!1,this.hiddenCloseButtons&&1===this.hiddenCloseButtons[n]&&(i(a,!1),d=!0),d||(r+=this.closeButtonSize,i(a,!0))),o.style.height=this._toPx(t._height(o))}return this._measureItem&&e(this._measureItem).remove(),{height:s,width:10+r}},_reorderHeaderElements:function(){if(this.selectionTracker&&(this._moveSelectionTrackerContainer.style.position="absolute",this._moveSelectionTrackerContainer.style.height="100%",this._moveSelectionTrackerContainer.style.top="0px",this._moveSelectionTrackerContainer.style.left="0px",this._moveSelectionTrackerContainer.style.width="100%"),this._headerWrapper.style.position="relative",this._headerWrapper.style.left="0px",this._headerWrapper.style.top="0px",this.scrollable){this._rightArrow.style.width=this._toPx(this.arrowButtonSize),this._rightArrow.style.position="absolute",this._rightArrow.style.top="0px",this._leftArrow.style.width=this._toPx(this.arrowButtonSize),this._leftArrow.style.position="absolute",this._leftArrow.style.top="0px";var e=this.theme&&-1!==this.theme.indexOf("ui-")?3:0;e>0&&(this._rightArrow.className+=" "+this.toThemeProperty("jqx-rc-r"),this._leftArrow.className+=" "+this.toThemeProperty("jqx-rc-l"));var t=this.scrollPosition;switch(this.rtl&&("left"===t&&(t="right"),"right"===t&&(t="left")),t){case"both":this._rightArrow.style.right="0px",this._leftArrow.style.left="0px";break;case"left":this._rightArrow.style.left=this._toPx(this.arrowButtonSize),this._leftArrow.style.left="0px";break;case"right":this._rightArrow.style.right=this._toPx(-e),this._leftArrow.style.right=this._toPx(parseInt(this.arrowButtonSize,10)-e)}}},_positionArrows:function(e){e>=this._headerWrapper.offsetWidth&&this.scrollable?(this._needScroll=!0,0===this._unorderedListHelper.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.style.display="block",this._rightArrow.style.display="block"):(this._needScroll=!1,this._leftArrow.style.display="none",this._rightArrow.style.display="none",this._unorderedList.style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var t=this._calculateTitlesSize(),i=t.height,s=t.width;this._headerWrapper.style.height=this._toPx(i),this._unorderedList.style.height=this._toPx(i),null!==this.headerHeight&&"auto"!==this.headerHeight&&(this._headerWrapper.style.height=this._toPx(this.headerHeight),this._unorderedList.style.height=this._toPx(this.headerHeight));var r=this._width(this.element);this._unorderedList.style.width=s>r?this._toPx(s):this._toPx(r),e.jqx.browser.msie&&e.jqx.browser.version<8&&(this._unorderedList.style.position="relative",this._unorderedList.style.overflow="hidden"),this._reorderHeaderElements(),s+=parseInt(this._unorderedListHelper.css("margin-left"),10),this._totalItemsWidth=s,this._positionArrows(s),this._unorderedList.style.position="relative",this._unorderedList.style.top="0px",this._verticalAlignElements(),this._moveSelectionTrack(this._selectedItem,0),this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){for(var t=this.length();t;){t--;var i=this._titleList[t],s=e(i),r=s.children()[0],n=this._closeButtonList[t],o=parseInt(s.css("padding-top"),10);if(o||(o=0),this.autoHeight){var a=parseInt(s.css("padding-top"),10),l=parseInt(s.css("padding-bottom"),10),h=s.css("border-top-width"),d=s.css("border-bottom-width");h=-1===h.indexOf("px")?1:parseInt(h,10),d=-1===d.indexOf("px")?1:parseInt(d,10),i.style.height=this._toPx(this._outerHeight(this._unorderedList,!0)-(a+l+h+d))}else if("top"===this.position){var c=this._height(this._unorderedList)-parseInt(this._outerHeight(i,!0),10);parseInt(s.css("margin-top"),10)!==c&&0!==c&&(i.style.marginTop=this._toPx(c))}else i.style.height=this._toPx(this._height(i));r.style.height="100%";var u=this._height(i);if(n){var p=u/2-this._height(n)/2;n.style.marginTop=this._toPx(1+p)}var m=u/2-this._height(r)/2;r.style.marginTop=this._toPx(m)}if(this.scrollable){var f=(parseInt(this._headerWrapper.offsetHeight,10)-this.arrowButtonSize)/2;e(this._rightArrow).children()[0].style.marginTop=this._toPx(f),this._rightArrow.style.height="100%",e(this._leftArrow).children()[0].style.marginTop=this._toPx(f),this._leftArrow.style.height="100%"}},_getImageUrl:function(e){var t=e.css("background-image");return t=(t=(t=(t=t.replace('url("',"")).replace('")',"")).replace("url(","")).replace(")","")},_fitToSize:function(){var e,t=!1,i=!1,s=this;null!==s.width&&-1!==s.width.toString().indexOf("%")&&(t=!0),null!==s.height&&-1!==s.height.toString().indexOf("%")&&(i=!0),t?(this.element.style.width=this.width,this._contentWrapper.style.width="100%"):(s.element.style.width=s._toPx(s.width),"auto"!==this.width&&(this._contentWrapper.style.width="100%")),i?(this.element.style.height=this.height,this._contentWrapper.style.width="100%",this._contentWrapper.style.height="auto",e=this.element.offsetHeight-this._headerWrapper.offsetHeight-2,this._contentWrapper.style.height=e+"px"):"auto"!==this.height?(s.element.style.height=s._toPx(s.height),e=this._height(s.element)-this._headerWrapper.offsetHeight,this._contentWrapper.style.height=s._toPx(e)):this._contentWrapper.style.height="auto"},_maxHeightTab:function(){for(var e=this.length(),t=-1;e;)e--,-1<this._outerHeight(this._titleList[e],!0)&&(t=e);return t},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&e(this._moveSelectionTrackerContainer).remove(),this._moveSelectionTrackerContainer=document.createElement("div"),this._moveSelectionTrackerContainer.className=this.toThemeProperty("jqx-tabs-selection-tracker-container"),this._selectionTracker=document.createElement("div"),this._selectionTracker.className=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position),this._selectionTracker.style.color="inherit",this._selectionTracker.style.position="absolute",this._selectionTracker.style.zIndex=10,this._selectionTracker.style.left="0px",this._selectionTracker.style.top="0px",this._selectionTracker.style.display="inline-block",this._moveSelectionTrackerContainer.appendChild(this._selectionTracker),this._headerWrapper.appendChild(this._moveSelectionTrackerContainer),this._selectionTrackerHelper=e(this._selectionTracker),this._selectionTrackerHelper.initAnimate&&this._selectionTrackerHelper.initAnimate()},_addContentWrapper:function(){var e=null===this._contentWrapper;e&&(this._contentWrapper=document.createElement("div"),this._contentWrapper.className=this.toThemeProperty("jqx-tabs-content jqx-widget-content"),this._contentWrapper.style.float="none");for(var t=this.length();t;)t--,this._contentList[t].className+=" "+this.toThemeProperty("jqx-tabs-content-element");if(e){"top"===this.position?this.element.appendChild(this._contentWrapper):this.element.insertBefore(this._contentWrapper,this.element.firstChild);for(var i=0;i<this._contentList.length;i++)this._contentWrapper.appendChild(this._contentList[i])}this.roundedCorners&&("top"===this.position?this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-b"):this._contentWrapper.className+=" "+this.toThemeProperty("jqx-rc-t"),this.element.className+=" "+this.toThemeProperty("jqx-rc-all"))},_addHeaderWrappers:function(){var t=this.length();void 0!==this._headerWrapper&&(e(this._headerWrapper).remove(),this.bar&&(this.bar=null)),this._headerWrapper=document.createElement("div"),this._headerWrapper.style.outline="none","top"===this.position?this.element.insertBefore(this._headerWrapper,this.element.firstChild):this.element.appendChild(this._headerWrapper),this._headerWrapper.appendChild(this._unorderedList);var i="jqx-tabs-headerWrapper jqx-tabs-header jqx-widget-header";for("bottom"===this.position&&(i+=" jqx-tabs-header-bottom"),this.roundedCorners&&("top"===this.position?i+=" jqx-rc-t":i+=" jqx-rc-b"),this._headerWrapper.className=this.toThemeProperty(i);t;){t--;var s=this._titleList[t];if(null===s.querySelector(".jqx-tabs-titleWrapper")){var r=document.createElement("div");r.className="jqx-tabs-titleWrapper",r.style.outline="none",r.style.position="relative",r.style.zIndex=15;var n=e(s).children();r.appendChild(n[0]),r.appendChild(n[1]),s.appendChild(r)}}},_render:function(){this._addCloseButtons(),this._addHeaderWrappers(),this._addContentWrapper(),this.selectionTracker&&this._addSelectionTracker(),this._addArrows()},_addCloseButton:function(t,i){var s=document.createElement("div"),r=this._titleList[t];s.className="jqx-tabs-titleContentWrapper jqx-disableselect";var n="left";this.rtl&&(n="right"),e(r).find(".jqx-tabs-close-button").length>0&&e(r).find(".jqx-tabs-close-button").remove(),s.style.float=n,r.querySelector(".jqx-tabs-titleContentWrapper")&&(r.innerHTML=r.querySelector(".jqx-tabs-titleContentWrapper").innerHTML),s.innerHTML=r.innerHTML,r.innerHTML="";var o=document.createElement("div");o.className=this.toThemeProperty("jqx-tabs-close-button"),o.style.height=this._toPx(this.closeButtonSize),o.style.width=this._toPx(this.closeButtonSize),o.style.float=n,o.style.fontSize="1px",r.appendChild(s),r.appendChild(o),!0===i?this._closeButtonList[t]=o:this._closeButtonList.splice(t,0,o),this.showCloseButtons?this.hiddenCloseButtons&&1===this.hiddenCloseButtons[t]&&(o.style.display="none"):o.style.display="none"},_addCloseButtons:function(){for(var e=this.length();e;)e--,this._addCloseButton(e,!0)},_prepareTabs:function(){var e=this.length(),t=this.selectionTracker;for(this.selectionTracker=!1;e;)e--,this._selectedItem!==e&&this._unselect(e,null,!1);this._select(this._selectedItem,0,null,!1),this.selectionTracker=t,this.initTabContent&&(this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0))},_isValidIndex:function(e){return e>=0&&e<this.length()},_removeSelectStyle:function(){for(var e=this.length();e;){e--;var t=this._titleList[e];if(this.showCloseButtons){var i=this._closeButtonList[e];this._removeClass(i,this.toThemeProperty("jqx-tabs-close-button-selected"))}var s="jqx-fill-state-pressed";"top"===this.position?s+=" jqx-tabs-title-selected-top":s+=" jqx-tabs-title-selected-bottom",this._removeClass(t,this.toThemeProperty(s))}},_addSelectStyle:function(e,t){if(this._removeSelectStyle(),!this.selectionTracker||void 0!==t&&t){var i=this._titleList[e];if(e>=0&&void 0!==i){var s=null;this.showCloseButtons&&(s=this._closeButtonList[e],this.hiddenCloseButtons&&1===this.hiddenCloseButtons[e]&&(s=null));var r="jqx-fill-state-hover",n=" jqx-fill-state-pressed";"top"===this.position?(r+=" jqx-tabs-title-hover-top",n+=" jqx-tabs-title-selected-top"):(r+=" jqx-tabs-title-hover-bottom",n+=" jqx-tabs-title-selected-bottom"),this._removeClass(i,this.toThemeProperty(r)),i.className+=this.toThemeProperty(n),null!==s&&(s.className+=" "+this.toThemeProperty("jqx-tabs-close-button-selected"))}}},_addItemTo:function(e,t,i){if(t<e.length){for(var s,r,n=t;n+1<e.length;n++)void 0===s?(s=e[n+1],e[n+1]=e[n]):(r=e[n+1],e[n+1]=s,s=r);void 0===s&&(s=e[t]),e[t]=i,e.push(s)}else e.push(i)},_refreshBarPosition:function(){var t=this;if(!this.bar){var i=e("<span></span>");e(this._headerWrapper).append(i),i.addClass(this.toThemeProperty("jqx-tabs-bar")),this.bar=i}setTimeout((function(){if(!(t._selectedItem<0)){var i=parseInt(t._unorderedListHelper.css("left"),10),s=parseInt(t._unorderedListHelper.css("margin-left"));i?t.bar.css("left",s+t._titleList[t._selectedItem].offsetLeft+i):t.bar.css("left",s+t._titleList[t._selectedItem].offsetLeft),t.bar.width(e(t._titleList[t._selectedItem]).outerWidth()-2)}}))},_select:function(t,i,s,r,n){if(!this._tabCaptured){this.host.attr("hideFocus","true");var o=this;void 0===n?this._addSelectStyle(t):this._addSelectStyle(t,n);var a=e(o._titleList[t]),l=o._titleList[t].getAttribute("id"),h=e(o._contentList[t]);if(this.isCollapsed&&this.collapsible)return h[0].style.display="none",void this._selectCallback(t,s,r);switch(o._refreshBarPosition(),this.animationType){case"none":if(o.selectionTracker)setTimeout((function(){h[0].style.display="block",e.jqx.aria(a,"aria-selected",!0),e.jqx.aria(h,"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",l)}),this.selectionTrackerAnimationDuration);else{for(var d=0;d<this._contentList.length;d++)t!==d&&"block"===e(o._contentList[d]).css("display")&&(o._contentList[d].style.display="none",e.jqx.aria(e(o._titleList[d]),"aria-selected",!1),e.jqx.aria(e(o._contentList[d]),"aria-hidden",!0));h[0].style.display="block",e.jqx.aria(a,"aria-selected",!0),e.jqx.aria(h,"aria-hidden",!1),e.jqx.aria(this,"aria-activedescendant",l)}this._selectCallback(t,s,r);break;case"fade":this._lockAnimation("contentListSelect"),o._selectCallback(t,s,r),h.initAnimate&&void 0===h.fadeIn&&h.initAnimate(),h.fadeIn({duration:1e3,complete:function(){o._unlockAnimation("contentListSelect"),e.jqx.aria(a,"aria-selected",!0),e.jqx.aria(h,"aria-hidden",!1),e.jqx.aria(o,"aria-activedescendant",l)}})}}},_selectCallback:function(e,t,i){this._selectedItem=e,this.selectedItem=this._selectedItem,t&&t(),i&&this._raiseEvent(1,{item:e})},_unselect:function(t,i,s){if(t>=0&&!this._tabCaptured){var r=this,n=r._contentList[t],o=e(n),a=r._titleList[t],l=e(a);o.initAnimate&&void 0===o.animate&&o.initAnimate(),r._stop(o),"fade"===this.animationType?(n.style.display="none",e.jqx.aria(l,"aria-selected",!1),e.jqx.aria(o,"aria-hidden",!0)):this.selectionTracker?setTimeout((function(){n.style.display="none",e.jqx.aria(l,"aria-selected",!1),e.jqx.aria(o,"aria-hidden",!0)}),this.selectionTrackerAnimationDuration):(n.style.display="none",e.jqx.aria(l,"aria-selected",!1),e.jqx.aria(o,"aria-hidden",!0)),this._unselectCallback(t,i,s),this.selectionTracker||r._removeClass(a,r.toThemeProperty("jqx-tabs-title-selected jqx-fill-state-pressed"))}},_unselectCallback:function(e,t,i){i&&this._raiseEvent(8,{item:e}),t&&t()},disable:function(){for(var e=this.length();e;)e--,this.disableAt(e)},enable:function(){for(var e=this.length();e;)e--,this.enableAt(e)},getEnabledTabsCount:function(){var t=0;return e.each(this._titleList,(function(){this.disabled||t++})),t},getDisabledTabsCount:function(){var t=0;return e.each(this._titleList,(function(){this.disabled&&t++})),t},removeAt:function(t){if(this._isValidIndex(t)&&(this.canCloseAllTabs||this.length()>1)){this._removeHoverStates(),this._initTabContentList[t]=!1;var i,s=this,r=s._outerWidth(this._titleList[t],!0),n=this.getTitleAt(t);if(this._unorderedList.style.width=s._toPx(s._width(this._unorderedList)-r),e(this._titleList[t]).remove(),e(this._contentList[t]).remove(),this._titleList.splice(t,1),this._contentList.splice(t,1),s._closeButtonList.splice(t,1),this._addStyles(),this._performHeaderLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._raiseEvent(3,{item:t,title:n}),this._isAnimated={},this.selectedItem>0?(this._selectedItem=-1,this.selectedItem>=t?(i=this._getPreviousIndex(this.selectedItem),this.select(i)):this.select(s.selectedItem)):(this._selectedItem=-1,i=this._getNextIndex(this.selectedItem),this.select(i)),parseInt(this._unorderedListHelper.css("left"),10)>this._getArrowsDisplacement()&&(this._unorderedList.style.left=s._toPx(this._getArrowsDisplacement())),s._width(this._unorderedList)<=s._width(this._headerWrapper)){var o=this.enableScrollAnimation?this.scrollAnimationDuration:0;this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:0},o,(function(){s._unlockAnimation("unorderedList")}))}}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(t){var i=this._titleList[t];if(!i.disabled||void 0===i.disabled){if(this.selectedItem===t){var s=this.next();s||(s=this.previous())}i.disabled=!0,this.removeHandler(i,this.toggleMode),this.enabledHover&&e(i).off("mouseenter").off("mouseleave"),this._removeEventListenerAt(t),i.className+=" "+this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled"),this._raiseEvent(5,{item:t})}},enableAt:function(e){var t=this._titleList[e];t.disabled&&(t.disabled=!1,this._addEventListenerAt(e),this._removeClass(t,this.toThemeProperty("jqx-tabs-title-disable jqx-fill-state-disabled")),this._raiseEvent(4,{item:e}))},addAt:function(e,t,i){if(e>=0&&e<=this.length()){this._removeHoverStates();var s=document.createElement("li");s.innerHTML=t,s.className=this.toThemeProperty("jqx-tabs-title jqx-item");var r=document.createElement("div");r.innerHTML=i,r.className=this.toThemeProperty("jqx-tabs-content-element"),"bottom"===this.position&&(s.className+=" "+this.toThemeProperty("jqx-tabs-title-bottom"));0===this._titleList.length?this._unorderedList.appendChild(s):e<this.length()&&e>=0?this._unorderedList.insertBefore(s,this._titleList[e]):this._unorderedList.appendChild(s),this._contentWrapper.appendChild(r),this._addItemTo(this._titleList,e,s),this._addItemTo(this._contentList,e,r),this._addCloseButton(e),this._selectedItem>e&&this._selectedItem++,this._switchTabs(e,this._selectedItem),this._selectedItem=e,this._uiRefresh(!1),this._raiseEvent(2,{item:e}),this._moveSelectionTrack(this._selectedItem,0)}},addFirst:function(e,t){this.addAt(0,e,t)},addLast:function(e,t){this.addAt(this.length(),e,t)},val:function(e){return 0===arguments.length||"object"==typeof e||this.select(e),this._selectedItem},select:function(e){"object"==typeof e&&(e=this._indexOf(e));var t=!(e>=0&&e<this._titleList.length)||this._titleList[e].getAttribute("canselect");null!=t&&"true"!==t&&!0!==t||e!==this._selectedItem&&this._isValidIndex(e)&&(this._activeAnimation()||this._titleList[e].disabled||this._switchTabs(e,this._selectedItem)&&this.ensureVisible(e))},previous:function(e){var t=this._selectedItem;for(void 0===e||isNaN(e)||(t=e);t>0&&t<this._titleList.length;)if(t--,!this._titleList[t].disabled)return this.select(t),!0;return!1},_getPreviousIndex:function(e){if(void 0===e||isNaN(e))return 0;for(var t=e;e>0&&e<=this._titleList.length;)if(e--,!this._titleList[e].disabled)return e;return t},_getNextIndex:function(e){if(void 0===e||isNaN(e))return 0;for(var t=e;e>=0&&e<this._titleList.length;){if(!this._titleList[e].disabled)return e;e++}return t},next:function(e){var t=this._selectedItem;for(void 0===e||isNaN(e)||(t=e);t>=0&&t<this._titleList.length-1;)if(t++,!this._titleList[t].disabled)return this.select(t),!0;return!1},first:function(){this._titleList[0].disabled?this.next(0):this.select(0)},last:function(){var e=this._titleList.length-1;this._titleList[e].disabled?this.previous(e):this.select(e)},length:function(){return this._titleList.length},lockAt:function(e){!this._isValidIndex(e)||this._titleList[e].locked&&void 0!==this._titleList[e].locked||(this._titleList[e].locked=!0,this._raiseEvent(11,{item:e}))},unlockAt:function(e){this._isValidIndex(e)&&this._titleList[e].locked&&(this._titleList[e].locked=!1,this._raiseEvent(12,{item:e}))},lockAll:function(){for(var e=this.length();e;)e--,this.lockAt(e)},unlockAll:function(){for(var e=this.length();e;)e--,this.unlockAt(e)},showCloseButtonAt:function(e){this._isValidIndex(e)&&(this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader()),this._closeButtonList[e].style.display="block",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[e]=0)},hideCloseButtonAt:function(e){this._isValidIndex(e)&&(this._closeButtonList[e].style.display="none",this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[e]=1)},hideAllCloseButtons:function(){for(var e=this.length();e;)e--,this.hideCloseButtonAt(e)},showAllCloseButtons:function(){for(var e=this.length();e;)e--,this.showCloseButtonAt(e)},getTitleAt:function(t){return this._titleList[t]?e(this._titleList[t]).text():null},getContentAt:function(e){return this._contentList[e]?this._contentList[e]:null},setTitleAt:function(t,i){this._titleList[t]&&(e(this._titleList[t]).text(i),this.showCloseButtons&&(this._addCloseButton(t),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(t,i){this._contentList[t]&&e(this._contentList[t]).html(i)},ensureVisible:function(t){var i=this;if(void 0!==t&&-1!==t&&null!==t||(t=this.selectedItem),!this._isValidIndex(t))return!1;var s,r,n=this._titleList[t],o=parseInt(e(n).position().left,10)+parseInt(this._unorderedListHelper.css("margin-left"),10),a=parseInt(this._unorderedListHelper.css("left"),10),l=this._outerWidth(this._headerWrapper,!0),h=this._outerWidth(n,!0),d=a-this._getArrowsDisplacement(),c=l-this._getArrowsDisplacement()-d;if(o<-d)s=-o+this._getArrowsDisplacement(),r=this._getArrowsDisplacement();else{if(!(o+h>c-this._getArrowsDisplacement()))return this._moveSelectionTrack(t,this.selectionTrackerAnimationDuration),!0;s=-o+l-h-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),r=l-h-this._getArrowsDisplacement()}return this._lockAnimation("unorderedList"),this._unorderedListHelper.animate({left:s},this.scrollAnimationDuration,(function(){return i._unlockAnimation("unorderedList"),i._moveSelectionTrack(i._selectedItem,0),!0})),this._moveSelectionTrack(t,this.selectionTrackerAnimationDuration,r),!0},isVisibleAt:function(t){var i=this;if(void 0!==t&&-1!==t&&null!==t||(t=i.selectedItem),!i._isValidIndex(t))return!1;var s=i._titleList[t],r=parseInt(e(s).position().left,10)+parseInt(i._unorderedListHelper.css("margin-left"),10),n=parseInt(i._unorderedListHelper.css("left"),10),o=i._outerWidth(i._headerWrapper,!0),a=i._outerWidth(s,!0),l=n-i._getArrowsDisplacement(),h=o-i._getArrowsDisplacement()-l;return!(r<-l)&&!(r+a>h)},isDisabled:function(e){return this._titleList[e].disabled},_lockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!0)},_unlockAnimation:function(e){this._isAnimated&&(this._isAnimated[e]=!1)},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2===Object.keys(i).length&&e._setSize()},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2===Object.keys(t.batchUpdate).length)){switch(this._validateProperties(),i){case"touchMode":r&&(t.enabledHover=!1,t.keyboardNavigation=!1);break;case"width":case"height":return void t._setSize();case"disabled":return void(r?this.disable():this.enable());case"showCloseButtons":return r?this.showAllCloseButtons():this.hideAllCloseButtons(),void this._performHeaderLayout();case"selectedItem":return void(this._isValidIndex(r)&&this.select(r));case"scrollStep":case"contentTransitionDuration":case"scrollAnimationDuration":case"enableScrollAnimation":return;case"selectionTracker":return void(r?(this._refresh(),this.select(this._selectedItem)):this._selectionTracker&&this._selectionTrackerHelper.remove());case"scrollable":return void(r?(this._refresh(),this.select(this._selectedItem)):(e(this._leftArrow).remove(),e(this._rightArrow).remove(),this._performHeaderLayout()));case"autoHeight":return void this._performHeaderLayout();case"theme":return void e.jqx.utilities.setTheme(s,r,this.host)}this._unorderedList.style.left="0px",this._refresh(),this.select(this._selectedItem),this._addSelectStyle(this._selectedItem,!0)}},_toPx:function(e){return"number"==typeof e?e+"px":e},_removeClass:function(t,i){e(t).removeClass(i)},_width:function(t){var i=e(t),s=i.css("border-left-width"),r=i.css("border-right-width"),n=parseInt(i.css("padding-left"),10),o=parseInt(i.css("padding-right"),10);return s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10),t.offsetWidth-(s+r+n+o)},_outerWidth:function(t,i){var s=t.offsetWidth;if(i){var r=e(t);s+=parseInt(r.css("margin-left"),10)+parseInt(r.css("margin-right"),10)}return s},_height:function(t){var i=e(t),s=i.css("border-top-width"),r=i.css("border-bottom-width"),n=parseInt(i.css("padding-top"),10),o=parseInt(i.css("padding-bottom"),10);return s=-1===s.indexOf("px")?1:parseInt(s,10),r=-1===r.indexOf("px")?1:parseInt(r,10),t.offsetHeight-(s+r+n+o)},_outerHeight:function(t,i){var s=t.offsetHeight;if(i){var r=e(t);s+=parseInt(r.css("margin-top"),10)+parseInt(r.css("margin-bottom"),10)}return s},_stop:function(e){e.stop?e.stop():e.animate("stop",!0)}})}(jqxBaseFramework),function(e){Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null==this)throw TypeError('"this" is null or not defined');var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError("predicate must be a function");for(var s=arguments[1],r=0;r<i;){var n=t[r];if(e.call(s,n,r,t))return n;r++}},configurable:!0,writable:!0}),e.jqx.observableArray=function(t,i){if("string"==typeof t&&(t=e.parseJSON(t)),!Object.defineProperty||!function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}()){var s=Object.defineProperty;Object.defineProperty=function(e,t,i){if(s)try{return s(e,t,i)}catch(e){}if(e!==Object(e))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in i&&Object.prototype.__defineGetter__.call(e,t,i.get),Object.prototype.__defineSetter__&&"set"in i&&Object.prototype.__defineSetter__.call(e,t,i.set),"value"in i?e[t]=i.value:e[t]||(e[t]=i),e}}Array.prototype.forEach||(Array.prototype.forEach=function(e){if(null==this)throw TypeError();var t=Object(this),i=t.length>>>0;if("function"!=typeof e)throw TypeError();var s,r=arguments[1];for(s=0;s<i;s++)s in t&&e.call(r,t[s],s,t)}),"function"!=typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(e){if(e!==Object(e))throw TypeError("Object.getOwnPropertyNames called on non-object");var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i});var r,n=this,o=[];n.notifier=null,n.name="observableArray",n.observing=!0,n.changes=new Array;return n.observe=function(){n.observing=!0,1==arguments.length&&(i=arguments[0])},n.unobserve=function(){n.observing=!1},n.toArray=function(){return o.slice(0)},n.toJSON=function(e,t){var i=o;t&&(i=t);var s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,r={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function n(e){return'"'+e.replace(s,(function(e){var t=r[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"'}function a(e){return e<10?"0"+e:e}function l(t){switch(Object.prototype.toString.call(t)){case"[object Date]":return i=t,isFinite(i.valueOf())?i.getUTCFullYear()+"-"+a(i.getUTCMonth()+1)+"-"+a(i.getUTCDate())+"T"+a(i.getUTCHours())+":"+a(i.getUTCMinutes())+":"+a(i.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(e){var t,i=e.length,s=[];for(t=0;t<i;t++)s.push(h(t,e)||"null");return"["+s.join(",")+"]"}(t)}var i;return function(t){var i,s,r=[];for(i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(""!=i&&e&&-1===e.indexOf(i))continue;(s=h(i,t))&&r.push(n(i)+":"+s)}return"{"+r.join(",")+"}"}(t)}function h(e,t){var i=t[e],s=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(s=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(s)||!i&&"object"===s?function(e,t){switch(t){case"string":return n(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(i,s):l(i)}return!e&&window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(i):h("",{"":i})},n.defineIndexProperty=function(t){if(!(t in n)){var i=function(t,i,s,a){var l=t[i],h=l,d=function(){return h},c=function(t){if(h!==(l=t)){var s=h;if(h=l,"function"==typeof r){var d=o.indexOf(a),c="",u=function(t,s){Object.getOwnPropertyNames(t).forEach((function(r){var n=e.type(t[r]);"array"==n||"object"==n?u(t[r],s+"."+r):i===r&&(c=s+"."+r)}))};u(a,d),r({object:n,type:"update",path:c,index:d,name:i,newValue:l,oldValue:s})}}return h=l,l};null!=t[i]&&"length"!=i&&(Object.defineProperty?Object.defineProperty(t,i,{get:d,set:c}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(t,i,d),Object.prototype.__defineSetter__.call(t,i,c)))},s=function(t,r,n){var o=e.type(t);/(number|float|int|integer|string|boolean)/.test(o)||void 0!==t&&Object.getOwnPropertyNames(t).forEach((function(o){var a=e.type(t[o]);"array"==a||"object"==a?(i(t,o,0,n),s(t[o],r+"."+o,n)):i(t,o,0,n)}))};Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:function(){return o[t]},set:function(e){var i=o[t];n.toJSON(null,i)!=n.toJSON(null,e)&&(o[t]=e,"function"==typeof r&&r({object:n,type:"update",path:t.toString(),index:t,name:"index",newValue:e,oldValue:i}),s(e,t,e))}}),s(n[t],t,n[t])}},n.push=function(){for(var e,t=0,i=arguments.length;t<i;t++)e=o.length,o.push(arguments[t]),n.defineIndexProperty(e),"function"==typeof r&&r({object:n,type:"add",name:"length",index:e,newValue:o.length,oldValue:e});return o.length},n.pop=function(){if(~o.length){var e=o.length-1,t=o.pop();return delete n[e],"function"==typeof r&&r({object:n,type:"delete",name:"length",index:e,newValue:o.length,oldValue:e}),t}},n.unshift=function(){for(var e=o.length,t=0,i=arguments.length;t<i;t++)o.splice(t,0,arguments[t]),n.defineIndexProperty(o.length-1);return"function"==typeof r&&r({object:n,type:"add",index:0,name:"length",newValue:o.length,oldValue:e}),o.length},n.shift=function(){var e=o.length;if(~o.length){var t=o.shift();return 0===o.length&&delete n[e],"function"==typeof r&&r({object:n,type:"delete",index:e,name:"length",newValue:o.length,oldValue:e}),t}},n.slice=function(t,i,s){var r=o.slice(t,i);return new e.jqx.observableArray(r,s)},n.splice=function(t,i,s){var a,l=[];for(t=~t?t:o.length-t,i=(null==i?o.length-t:i)||0;i--;)a=o.splice(t,1)[0],l.push(a),delete n[o.length],"function"==typeof r&&r({object:n,type:"delete",index:t,name:"length",newValue:-1,oldValue:t});for(var h=2,d=arguments.length;h<d;h++)o.splice(t,0,arguments[h]),this.defineIndexProperty(o.length-1),"function"==typeof r&&r({object:n,type:"add",index:t,name:"length",newValue:o.length-1,oldValue:t}),t++;var c=new e.jqx.observableArray(l,s);return c},Object.defineProperty(n,"length",{configurable:!1,enumerable:!0,get:function(){return o.length},set:function(e){var t=Number(e);if(!(t%1==0&&t>=0))throw new RangeError("Invalid array length");return t<o.length?n.splice(t):t>o.length&&n.push.apply(n,new Array(t-o.length)),e}}),e.jqx.observableArray.prototype.fromArray=function(t,i){return new e.jqx.observableArray(t,i)},e.jqx.observableArray.prototype.clone=function(){var t=new e.jqx.observableArray(o,i);return t.observing=n.observing,t.changes=n.changes,t.notifier=n.notifier,t},n.remove=function(e){if(e<0||e>=n.length)throw new Error("Invalid index : "+e);if(n.hasOwnProperty(e)){var t=n[e];return n[e]=void 0,o[e]=void 0,"function"==typeof r&&r({object:n,type:"delete",index:e,name:"index",newValue:void 0,oldValue:t}),!0}return!1},n.concat=function(t,i){var s=o.concat(t);return new e.jqx.observableArray(s,i)},Object.getOwnPropertyNames(Array.prototype).forEach((function(e){if(!(e in n)){Object.defineProperty(n,e,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var t=n.observing;n.observing=!1;var i=o[e],s=i.apply(o,arguments);return n.observing=t,s}})}})),n.set=function(t,i){if("string"==e.type(t)&&t.split(".").length>1){for(var s=t.split("."),r=n,o=0;o<s.length;o++){if(0===o&&s[o]>=n.length)throw new Error("Invalid Index: "+t);o<s.length-1?r=r[s[o]]:r[s[o]]=i}return!0}return t>=n.length?n.push(i):n[t]=i,!0},n.get=function(e){return n[e]},t instanceof Array&&n.push.apply(n,t),r=function(){n.observing&&(arguments&&arguments[0]&&n.changes.push(arguments[0]),i&&i.apply(n,arguments),n.notifier&&n.notifier.apply(n,arguments))},n},e.jqx.formatDate=function(t,i,s){return e.jqx.dataFormat.formatdate(t,i,s)},e.jqx.formatNumber=function(t,i,s){return e.jqx.dataFormat.formatnumber(t,i,s)},e.jqx.dataAdapter=function(t,i){if(null!=t&&(void 0!==t.dataFields&&(t.datafields=t.dataFields),void 0!==t.dataType&&(t.datatype=t.dataType),void 0!==t.localData&&(t.localdata=t.localData),void 0!==t.sortColumn&&(t.sortcolumn=t.sortColumn),void 0!==t.sortDirection&&(t.sortdirection=t.sortDirection),void 0!==t.sortColumns&&(t.sortcolumns=t.sortColumns),void 0!==t.sortDirections&&(t.sortdirections=t.sortDirections),void 0!==t.sortOrder&&(t.sortdirection=t.sortOrder),void 0!==t.formatData&&(t.formatdata=t.formatData),void 0!==t.processData&&(t.processdata=t.processData),void 0!==t.pageSize&&(t.pagesize=t.pageSize),void 0!==t.pageNum&&(t.pagenum=t.pageNum),void 0!==t.updateRow&&(t.updaterow=t.updateRow),void 0!==t.addRow&&(t.addrow=t.addRow),void 0!==t.deleteRow&&(t.deleterow=t.deleteRow),void 0!==t.contentType&&(t.contenttype=t.contentType),null!=t.totalRecords&&(t.totalrecords=t.totalRecords),null!=t.loadError&&(t.loadError=t.loadError),null!=t.sortComparer&&(t.sortcomparer=t.sortComparer)),this._source=t,this._options=i||{},null!=t.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete),null!=t.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete),null!=t.loadComplete&&(this._options.loadComplete=this._source.loadComplete),null!=t.autoBind&&(this._options.downloadComplete=this._source.autoBind),null!=t.formatData&&(this._options.formatData=this._source.formatData),null!=t.loadError&&(this._options.loadError=this._source.loadError),null!=t.beforeSend&&(this._options.beforeSend=this._source.beforeSend),null!=t.contentType&&(this._options.contentType=this._source.contentType),null!=t.async&&(this._options.async=this._source.async),null!=t.loadServerData&&(this._options.loadServerData=this._source.loadServerData),null!=t.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields),this.records=new Array,this._downloadComplete=new Array,this._bindingUpdate=new Array,null!=t&&null!=t.localdata&&"function"==typeof t.localdata){var s=t.localdata();if(null!=s){t._localdata=t.localdata;var r=this;t._localdata.subscribe&&(r._oldlocaldata=[],t._localdata.subscribe((function(t){var i=function(t){return e.isArray(t)?e.makeArray(i(e(t))):e.extend(!0,{},t)};0!=r.suspendKO&&null!=r.suspendKO&&0!=r._oldlocaldata.length||(r._oldlocaldata=i(t))}),t._localdata,"beforeChange"),t._localdata.subscribe((function(e){if(0==r.suspendKO||null==r.suspendKO){var i="";r._oldrecords=r.records,0==r._oldlocaldata.length&&(t.localdata=t._localdata()),0==r._oldlocaldata.length?i="change":e&&(r._oldlocaldata.length==e.length&&(i="update"),r._oldlocaldata.length>e.length&&(i="remove"),r._oldlocaldata.length<e.length&&(i="add")),r.dataBind(null,i)}}),t._localdata,"change"),r._knockoutdatasource=!0),t.localdata=s}}1==this._options.autoBind&&this.dataBind()},e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(e){this.isUpdating=!1,0!=e&&(this._changedrecords&&this._changedrecords.length>0?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(t,i,s){return e.jqx.dataFormat.formatdate(t,i,s)},formatNumber:function(t,i,s){return e.jqx.dataFormat.formatnumber(t,i,s)},dataBind:function(t,i){if(1!=this.isUpdating){var s=this._source;if(s){s.generatedfields&&(s.datafields=null,s.generatedfields=null),e.jqx.dataFormat.datescache=new Array,null!=s.dataFields&&(s.datafields=s.dataFields),null==s.recordstartindex&&(s.recordstartindex=0),null==s.recordendindex&&(s.recordendindex=0),null==s.loadallrecords&&(s.loadallrecords=!0),null==s.root&&(s.root=""),null==s.record&&(s.record=""),null!=s.sort&&(this.sort=s.sort),null!=s.filter?this.filter=s.filter:this.filter=null,null!=s.sortcolumn&&(this.sortcolumn=s.sortcolumn),null!=s.sortdirection&&(this.sortdirection=s.sortdirection),null!=s.sortcolumns&&(this.sortcolumns=s.sortcolumns),null!=s.sortdirections&&(this.sortdirections=s.sortdirections),null!=s.sortcomparer&&(this.sortcomparer=s.sortcomparer),this.records=new Array;var r=this._options||{};if(this.virtualmode=null!=r.virtualmode&&r.virtualmode,this.totalrecords=null!=r.totalrecords?r.totalrecords:0,this.pageable=null!=r.pageable&&r.pageable,this.pagesize=null!=r.pagesize?r.pagesize:0,this.pagenum=null!=r.pagenum?r.pagenum:0,this.cachedrecords=null!=r.cachedrecords?r.cachedrecords:new Array,this.originaldata=new Array,this.recordids=new Array,this.updaterow=null!=r.updaterow?r.updaterow:null,this.addrow=null!=r.addrow?r.addrow:null,this.deleterow=null!=r.deleterow?r.deleterow:null,this.cache=null!=r.cache&&r.cache,this.unboundmode=!1,null!=s.formatdata&&(r.formatData=s.formatdata),null!=s.data&&(null==r.data&&(r.data={}),e.extend(r.data,s.data)),null!=s.mapChar&&(s.mapchar=s.mapChar),null!=s.mapchar?this.mapChar=s.mapchar?s.mapchar:">":this.mapChar=r.mapChar?r.mapChar:">",(r.unboundmode||s.unboundmode)&&(this.unboundmode=r.unboundmode||s.unboundmode),null!=s.cache&&(this.cache=s.cache),this.koSubscriptions)for(var n=0;n<this.koSubscriptions.length;n++)this.koSubscriptions[n].dispose();this.koSubscriptions=new Array,this.pagenum<0&&(this.pagenum=0);var o=this,a=s.datatype;"csv"!==s.datatype&&"tab"!==s.datatype&&"tsv"!==s.datatype&&"text"!=s.datatype||(a="text");var l=null==r.async||r.async;if(null!=s.async&&(l=s.async),"xlsx"===a&&s.url)if(s.localdata=[],a="array",window.jqxDataSource)(k=new window.jqxDataSource({dataSource:s.url,async:!1,dataFields:s.datafields})).notify((function(){s.url=null,s.localdata=k.boundSource,s.datatype="array",o.dataBind()}));switch(a){case"local":case"array":case"observablearray":case"observableArray":default:if(null==s.localdata&&s.length){s.localdata=new Array;for(var h=0;h<s.length;h++)s.localdata[s.localdata.length]=s[h],s[h].uid=h}s.beforeprocessing&&e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata);var d=s.localdata.length;if(this.totalrecords=this.virtualmode&&s.totalrecords||d,this.unboundmode)if(this.totalrecords=this.unboundmode&&s.totalrecords||d,(p=s.datafields?s.datafields.length:0)>0)for(h=0;h<this.totalrecords;h++){for(var c={},u=0;u<p;u++)c[s.datafields[u].name]="";c.uid=h,s.localdata[s.localdata.length]=c}null==this.totalrecords&&(this.totalrecords=0);var p=s.datafields?s.datafields.length:0,m=function(t,i){for(var r={},n=0;n<i;n++){var a=s.datafields?s.datafields[n]:{},l="";if(null!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(t);else{var h=a.map.split(o.mapChar);if(h.length>0){for(var d=t,c=0;c<h.length;c++)d&&(d=d[h[c]]);l=d}else l=t[a.map]}null!=l&&null!=l?l=l.toString():null==l&&null!=l&&(l="")}var u=!1;""==l&&(u=!0,null!=(l=t[a.name])&&null!=l&&(s._localdata&&l.subscribe?l=l():"array"!=a.type&&("date"===a.type?l&&Date:l=l.toString()))),"[object Object]"==l&&a.map&&u&&(l=""),l=o.getvaluebytype(l,a),null!=a.displayname?r[a.displayname]=l:r[a.name]=l}}return r};if(s._localdata){this._changedrecords=[],this.records=new Array;var f=s._localdata();if(e.each(f,(function(t,r){if("string"==typeof r)o.records.push(r);else{var n={},a=0,l=this;e.each(this,(function(i,r){var h=null,d="string",c=i;if(p>0){for(var u=!1,m=!1,f=0;f<p;f++){var g=s.datafields[f];if(null!=g&&g.name==i){u=!0,h=g.map,d=g.type,c=g.name;break}if(null!=g&&g.map&&g.map.indexOf(i)>=0){u=!0,h=g.map,d=g.type,c=g.name,m=!0;var v=l[i];if(null!=h)if((w=h.split(o.mapChar)).length>0){for(var x=l,b=0;b<w.length;b++)x=x[w[b]];v=x}else v=l[h];"string"!=d&&(v=o.getvaluebytype(v,{type:d})),n[c]=v,null!=n[c]&&(a+=n[c].toString().length+n[c].toString().substr(0,1))}}if(!u)return!0;if(m)return!0}if(e.isFunction(l[i])){v=l[i]();if("string"!=d&&(v=o.getvaluebytype(v,{type:d})),n[i]=v,l[i].subscribe){var y=t;o.koSubscriptions[o.koSubscriptions.length]=l[i].subscribe((function(e){var t=y;n[i]=e;var s={index:t,oldrecord:n,record:n};if(o._changedrecords.push(s),!o.isUpdating)return o.callBindingUpdate("update"),o._changedrecords=[],!1}))}}else{var w;v=l[i];if(null!=h)if((w=h.split(o.mapChar)).length>0){for(x=l,b=0;b<w.length;b++)x=x[w[b]];v=x}else v=l[h];"string"!=d&&(v=o.getvaluebytype(v,{type:d})),n[c]=v,null!=n[c]&&(a+=n[c].toString().length+n[c].toString().substr(0,1))}}));var h=o.getid(s.id,l,t);if(n.uid=h,o.records.push(n),n._koindex=a,o._oldrecords){var d=o.records.length-1;if("update"==i&&o._oldrecords[d]._koindex!=a){var c={index:d,oldrecord:o._oldrecords[d],record:n};o._changedrecords.push(c)}}}})),"add"==i)for(d=o.records.length,h=0;h<d;h++){c=o.records[h];for(var g=!1,v=0;v<o._oldrecords.length;v++)if(o._oldrecords[v]._koindex===c._koindex){g=!0;break}g||o._changedrecords.push({index:h,oldrecord:null,record:c,position:0!=h?"last":"first"})}else if("remove"==i)for(d=o._oldrecords.length,h=0;h<d;h++){var x=o._oldrecords[h];o.records[h]?o.records[h]._koindex!=x._koindex&&o._changedrecords.push({index:h,oldrecord:x,record:null}):o._changedrecords.push({index:h,oldrecord:x,record:null})}}else if(e.isArray(s.localdata))if(0==p){b=0,y=new Array;e.each(s.localdata,(function(t,i){var r=new Object(this);if("string"==typeof i)return o.records=s.localdata,!1;var n=o.getid(s.id,r,t);if("object"==typeof n&&(n=t),r.uid=n,0==t){for(var a in this){b++;var l=e.type(this[a]);y.push({name:a,type:l})}p=b,s.datafields=y,s.generatedfields=y}if(p>0){var h=m(r,p);h.uid=n,o.records[o.records.length]=h}else o.records[o.records.length]=r}))}else e.each(s.localdata,(function(e){var t,i=m(t=this,p),r=o.getid(s.id,i,e);"object"==typeof r&&(r=e),(t=new Object(i)).uid=r,o.records[o.records.length]=t}));else{this.records=new Array;var b=0,y=new Array;e.each(s.localdata,(function(t){var i=o.getid(s.id,this,t);if(0==p&&!("string"==typeof this||this instanceof String)){for(var r in this){b++;var n=e.type(this[r]);y.push({name:r,type:n})}p=b,s.datafields=y,s.generatedfields=y}if(p>0){var a=m(this,p);a.uid=i,o.records[o.records.length]=a}else this.uid=i,o.records[o.records.length]=this}))}if(this.originaldata=s.localdata,this.cachedrecords=this.records,this.addForeignValues(s),r.uniqueDataFields){var w=this.getUniqueRecords(this.records,r.uniqueDataFields);this.records=w,this.cachedrecords=w}if(r.beforeLoadComplete)null!=(q=r.beforeLoadComplete(o.records,this.originaldata))&&(o.records=q,o.cachedrecords=q);if(r.autoSort&&r.autoSortField){var _=Object.prototype.toString;Object.prototype.toString="function"==typeof field?field:function(){return this[r.autoSortField]},o.records.sort((function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(t=t.toString(),i=i.toString(),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return-1;if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0})),Object.prototype.toString=_}o.loadedData=s.localdata,o.buildHierarchy(),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"ics":if(null!=s.localdata&&!s.url){if(e.isFunction(s.beforeprocessing)&&s.beforeprocessing(s.localdata),"xml"===s.datatype?o.loadxml(s.localdata,s.localdata,s):"text"===a?o.loadtext(s.localdata,s):"ics"===a?o.loadics(s.localdata,s):o.loadjson(s.localdata,s.localdata,s),o.addForeignValues(s),r.uniqueDataFields){w=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=w,o.cachedrecords=w}var q;if(r.beforeLoadComplete)null!=(q=r.beforeLoadComplete(o.records,this.originaldata))&&(o.records=q,o.cachedrecords=q);return o.loadedData=s.localdata,o.buildHierarchy.call(o),e.isFunction(r.loadComplete)&&r.loadComplete(s.localdata,o.records),void o.callBindingUpdate(i)}var j=null!=r.data?r.data:{};if(s.processdata&&s.processdata(j),e.isFunction(r.processData)&&r.processData(j),e.isFunction(r.formatData)){var T=r.formatData(j);null!=T&&(j=T)}var C="application/x-www-form-urlencoded";r.contentType&&(C=r.contentType);var I="GET";s.type&&(I=s.type),r.type&&(I=r.type);var S=a;if("ics"==a&&(S="text"),s.url&&s.url.length>0)e.isFunction(r.loadServerData)?o._requestData(j,s,r):this.xhr=e.jqx.data.ajax({dataType:S,cache:this.cache,type:I,url:s.url,async:l,timeout:s.timeout,contentType:C,data:j,success:function(t,i,n){var l;e.isFunction(s.beforeprocessing)&&(null!=(l=s.beforeprocessing(t,i,n))&&(t=l));e.isFunction(r.downloadComplete)&&(null!=(l=r.downloadComplete(t,i,n))&&(t=l));if(null==t)return o.records=new Array,o.cachedrecords=new Array,o.originaldata=new Array,o.callDownloadComplete(),void(e.isFunction(r.loadComplete)&&r.loadComplete(new Array));var h=t;if(t.records&&(h=t.records),null!=t.totalrecords?s.totalrecords=t.totalrecords:null!=t.totalRecords&&(s.totalrecords=t.totalRecords),"xml"===s.datatype?o.loadxml(null,h,s):"text"===a?o.loadtext(h,s):"ics"===a?o.loadics(h,s):o.loadjson(null,h,s),o.addForeignValues(s),r.uniqueDataFields){var d=o.getUniqueRecords(o.records,r.uniqueDataFields);o.records=d,o.cachedrecords=d}if(r.beforeLoadComplete){var c=r.beforeLoadComplete(o.records,t);null!=c&&(o.records=c,o.cachedrecords=c)}o.loadedData=t,o.buildHierarchy.call(o),o.callDownloadComplete(),e.isFunction(r.loadComplete)&&r.loadComplete(t,i,n,o.records)},error:function(t,i,n){e.isFunction(s.loaderror)&&s.loaderror(t,i,n),e.isFunction(r.loadError)&&r.loadError(t,i,n),t=null,o.callDownloadComplete()},beforeSend:function(t,i){e.isFunction(r.beforeSend)&&r.beforeSend(t,i),e.isFunction(s.beforesend)&&s.beforesend(t,i)}});else if(o.buildHierarchy(new Array),o.callDownloadComplete(),e.isFunction(r.loadComplete)){if(!k)var k={};r.loadComplete(k)}}this.callBindingUpdate(i)}}},buildHierarchy:function(e){var t=this._source,i=new Array;if(t.datafields){if(t.hierarchy&&!t.hierarchy.reservedNames)t.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(t.hierarchy)(r=t.hierarchy.reservedNames).leaf||(r.leaf="leaf"),r.parent||(r.parent="parent"),r.expanded||(r.expanded="expanded"),r.checked||(r.checked="checked"),r.selected||(r.selected="selected"),r.level||(r.level="level"),r.data||(r.data="data");if(t.hierarchy){var s=this,r=t.hierarchy.reservedNames;if(t.hierarchy.root){if("xml"==t.dataType){i=this.getRecordsHierarchy("uid","parentuid","records",null,e);return this.hierarchy=i,i}this.hierarchy=this.records;for(var n=t.hierarchy.root,o=0;o<this.records.length;o++){var a=this.records[o];if(a){var l=function(e){if(t.hierarchy.record)e.records=e[n][t.hierarchy.record];else{var i=n.split(s.mapChar),o=null;if(i.length>1){for(var a=e,l=0;l<i.length;l++)null!=a&&(a=a[i[l]]);o=a}else o=e[n];e.records=o}(null==e.records||e.records&&0==e.records.length)&&(e[r.leaf]=!0)};l(a),a[r.level]=0;var h=this.getid(t.id,a,o);a.uid=h,a[r.parent]=null,a[r.data]=a,void 0===a[r.expanded]&&(a[r.expanded]=!1);var d=function(e,i){if(i)for(var n=0;n<i.length;n++){var o=i[n];if(o){l(o),o[r.level]=e[r.level]+1,o[r.parent]=e,o[r.data]=o;var a=s.getid(t.id,o,n);a==n&&null==t.id?o.uid=e.uid+"_"+a:o.uid=a,void 0===o[r.expanded]&&(o[r.expanded]=!1),d(o,o.records)}}else e.records=new Array};d(a,a.records)}}return this.hierarchy}if(t.hierarchy.keyDataField&&t.hierarchy.parentDataField){i=this.getRecordsHierarchy(t.hierarchy.keyDataField.name,t.hierarchy.parentDataField.name,"records",null,e);return this.hierarchy=i,i}if(t.hierarchy.groupingDataFields){var c=new Array;for(o=0;o<t.hierarchy.groupingDataFields.length;o++)c.push(t.hierarchy.groupingDataFields[o].name);i=this.getGroupedRecords(c,"records","label",null,"data",null,"parent",e);return this.hierarchy=i,i}}}},addRecord:function(e,t,i,s){var r=this;if(null!=e){if(null==i){if(this.hierarchy&&this.hierarchy.length>=0&&(this._source.hierarchy||s)){var n=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;null==n&&(n={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[n.level]=0,"last"==t?this.hierarchy.push(e):"number"==typeof t&&isFinite(t)?this.hierarchy.splice(t,0,e):this.hierarchy.splice(0,0,e)}else"last"==t?this.records.push(e):"number"==typeof t&&isFinite(t)?this.records.splice(t,0,e):this.records.splice(0,0,e);return!0}if(this.hierarchy.length>0){var o=function(s){if(s)for(var n=0;n<s.length;n++){var a=s[n];if(a.uid==i){var l=r._source&&r._source.hierarchy?r._source.hierarchy.reservedNames:null;return null==l&&(l={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}),e[l.parent]=a,e[l.level]=a[l.level]+1,a.records||(a.records=new Array),a[l.leaf]=!1,"last"==t?a.records.push(e):"number"==typeof t&&isFinite(t)?a.records.splice(t,0,e):a.records.splice(0,0,e),!0}a.records&&o(a.records)}};o(this.hierarchy)}}return!1},deleteRecord:function(e){var t=this;if(this.hierarchy.length>0){var i=function(s){if(s)for(var r=0;r<s.length;r++){if((a=s[r]).uid==e){s.splice(r,1),t.recordids[e]&&delete t.recordids[e];var n=function(e){for(var i=0;i<e.length;i++){for(var s=e[i].uid,r=0;r<t.records.length;r++){if(t.records[r].uid==s){t.records.splice(r,1);break}}e[i].records&&n(e[i].records)}};a.records&&n(a.records);for(var o=0;o<t.records.length;o++){var a;if((a=t.records[o]).uid==e){t.records.splice(o,1);break}}return!0}a.records&&i(a.records)}};i(this.hierarchy)}else for(var s=0;s<this.records.length;s++){if(this.records[s].uid==e)return this.records.splice(s,1),!0}return!1},addForeignValues:function(e){for(var t=this,i=e.datafields?e.datafields.length:0,s=0;s<i;s++){var r=e.datafields[s];if(null!=r)if(null!=r.values){null==r.value&&(r.value=r.name),null==r.values.value&&(r.values.value=r.value);var n,o,a=new Array;t.pageable&&t.virtualmode?(o=(n=t.pagenum*t.pagesize)+t.pagesize)>t.totalrecords&&(o=t.totalrecords):t.virtualmode?(n=e.recordstartindex,(o=e.recordendindex)>t.totalrecords&&(o=t.totalrecords)):(n=0,o=t.records.length);for(var l=n;l<o;l++){var h=t.records[l],d=r.name,c=h[r.value];if(null!=a[c])h[d]=a[c];else for(var u=0;u<r.values.source.length;u++){var p=r.values.source[u],m=p[r.values.value];if(null==m&&(m=p.uid),m==c){var f=p[r.values.name];h[d]=f,a[c]=f;break}}}}else if(null!=r.value)for(l=0;l<t.records.length;l++){(h=t.records[l])[r.name]=h[r.value]}}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),this.callDownloadComplete())},_requestData:function(t,i,s){var r=this;s.loadServerData(t,i,(function(t){if(t.totalrecords&&(i.totalrecords=t.totalrecords,r.totalrecords=t.totalrecords),t.records&&(r.records=t.records,r.cachedrecords=t.records),r.addForeignValues(i),s.uniqueDataFields){var n=r.getUniqueRecords(r.records,s.uniqueDataFields);r.records=n,r.cachedrecords=n}if(s.beforeLoadComplete){var o=s.beforeLoadComplete(r.records,t);null!=o&&(r.records=o,r.cachedrecords=o)}for(var a=0;a<r.records.length;a++){var l=r.records[a];null!=l&&(null==l.uid&&(l.uid=r.getid(i.id,l,a)))}r.buildHierarchy.call(r),e.isFunction(s.loadComplete)&&s.loadComplete(t),r.callDownloadComplete()}))},getUniqueRecords:function(e,t){if(e&&t)for(var i=e.length,s=t.length,r=new Array,n=new Array,o=0;o<i;o++){var a=e[o],l="";if(null!=a){for(var h=0;h<s;h++){var d=t[h];void 0!==a[d]&&(l+=a[d]+"_")}!n[l]&&l&&(r[r.length]=a),n[l]=!0}}return r},getAggregatedData:function(t,i,s,r){var n=s;n||(n=this.records);var o={},a=new Array,l=n.length;if(0!=l&&null!=l){for(var h=0;h<l;h++)for(var d=n[h],c=0;c<t.length;c++){var u=t[c],p=d[u.name];if(u.aggregates){o[u.name]=o[u.name]||{},a[u.name]=a[u.name]||0,a[u.name]++;var m=function(t){for(var i in t){var s=o[u.name][i];null==s&&(o[u.name][i]=0,s=0),e.isFunction(t[i])&&(s=t[i](s,p,u.name,d,r)),o[u.name][i]=s}},f=parseFloat(p);(f=!isNaN(f))&&(p=parseFloat(p)),"number"==typeof p&&isFinite(p)?e.each(u.aggregates,(function(){var e=o[u.name][this];if(null==e&&(e=0,"min"==this&&(e=9999999999999),"max"==this&&(e=-9999999999999)),"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)e+=parseFloat(p);else if("product"==this)0==h?e=parseFloat(p):e*=parseFloat(p);else if("min"==this)e=Math.min(e,parseFloat(p));else if("max"==this)e=Math.max(e,parseFloat(p));else if("count"==this)e++;else if("object"==typeof this)return void m(this);o[u.name][this]=e})):e.each(u.aggregates,(function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===p)return!0;var e=o[u.name][this];return null==e&&(e=0),o[u.name][this]=e,!0}"object"==typeof this&&m(this)}))}}for(c=0;c<t.length;c++){u=t[c];if(o[u.name]||(o[u.name]={},e.each(u.aggregates,(function(e){o[u.name][this]=0}))),null!=o[u.name].avg){p=o[u.name].avg;var g=a[u.name];o[u.name].avg=0===g||null==g?0:p/g}else null!=o[u.name].count&&(o[u.name].count=l);(o[u.name].stdev||o[u.name].stdevp||o[u.name].var||o[u.name].varp)&&e.each(u.aggregates,(function(e){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var t=o[u.name][this],i=l,s=t/l,r=0,a=0;a<l;a++){var h=n[a][u.name];r+=(h-s)*(h-s)}var d="stdevp"==this||"varp"==this?i:i-1;0==d&&(d=1),"var"==this||"varp"==this?o[u.name][this]=r/d:"stdevp"!=this&&"stdev"!=this||(o[u.name][this]=Math.sqrt(r/d))}})),u.formatStrings&&e.each(u.aggregates,(function(t){var s=u.formatStrings[t];if(s)if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var r=o[u.name][this];o[u.name][this]=e.jqx.dataFormat.formatnumber(r,s,i)}else if("object"==typeof this)for(var n in this){r=o[u.name][n];o[u.name][n]=e.jqx.dataFormat.formatnumber(r,s,i)}}))}return o}},bindDownloadComplete:function(e,t){this._downloadComplete[this._downloadComplete.length]={id:e,func:t}},unbindDownloadComplete:function(e){for(var t=0;t<this._downloadComplete.length;t++)if(this._downloadComplete[t].id==e){this._downloadComplete[t].func=null,this._downloadComplete.splice(t,1);break}},callDownloadComplete:function(){for(var e=0;e<this._downloadComplete.length;e++){var t=this._downloadComplete[e];null!=t.func&&t.func()}},setSource:function(e){this._source=e},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},getGroupedRecords:function(t,i,s,r,n,o,a,l,h){h||(h=0);for(var d=new Array,c=0;c<t.length;c++)d[c]=this.generatekey();i||(i="items"),s||(s="group"),n||(n="record"),a||(a="parentItem"),void 0===o&&(o="value");var u=new Array,p=0,m=new Array,f=t.length;new Array;if(!l)l=this.records;for(var g=l.length,v=function(t){var i=t;return r&&e.each(r,(function(){this.name&&this.map&&(i[this.map]=i[this.name])})),i},x=0;x<g;x++){var b=v(l[x]),y=(b[this.uniqueId],new Array),w=0;for(c=0;c<f;c++){var _=b[t[c]];null!=_&&(y[w++]={value:_,hash:d[c]})}if(y.length!=f)break;for(var q=null,j="",T=0;T<y.length;T++){0;var C=y[T].value;if(null==m[j=j+"_"+y[T].hash+"_"+C]||null==m[j]){if(null==q){(q={level:0})[a]=null,q[s]=C,q[n]=b,void 0!==b.expanded?q.expanded=b.expanded:q.expanded=!1,o&&(q[o]=b[o]),q[i]=new Array;var I=u.length+h;this._source.id&&"number"!=typeof b.uid&&!isFinite(b.uid)||(I="Row"+I),q.uid=I,u[p++]=q}else{var S={level:q.level+1};S[a]=q,S[s]=C,S[i]=new Array,S[n]=b,void 0!==b.expanded?S.expanded=b.expanded:S.expanded=!1,o&&(S[o]=b[o]),S.uid=q.uid+"_"+q[i].length,q[i][q[i].length]=S,q=S}m[j]=q}else q=m[j]}b&&(b.leaf=!0),null!=q?(null==this._source.id&&(null==b.uid?b.uid=q.uid+"_"+q[i].length:-1==b.uid.toString().indexOf(q.uid)&&(b.uid=q.uid+"_"+b.uid)),b[a]=q,b.level=q.level+1,q[i][q[i].length]=b):null==b.uid&&(b.uid=this.generatekey())}return u},getRecordsHierarchy:function(t,i,s,r,n){var o=new Array,a=this.records;if(n&&(a=n),0==this.records.length)return null;for(var l=null!=s?s:"items",h=[],d=a,c=d.length,u=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,p=function(t){var i=t;return r&&e.each(r,(function(){this.name&&this.map&&(i[this.map]=i[this.name])})),i},m=0;m<c;m++){var f=(v=e.extend({},d[m]))[i];h[g=v[t]]={parentid:f,item:v}}for(m=0;m<c;m++){f=(v=e.extend({},d[m]))[i];var g=v[t];if(null!=h[f]){var v={parentid:f,item:h[g].item},x=h[f].item;x[l]||(x[l]=[]);var b=x[l].length,y=v.item;u?null==y[u.parent]&&(y[u.parent]=x):null==y.parent&&(y.parent=x);var w=p(y);x[l][b]=w,h[f].item=x,h[g]=v}else{y=h[g].item;u?null==y[u.parent]&&(y[u.parent]=null):null==y.parent&&(y.parent=null);w=p(y);u?w[u.level]=0:w.level=0,o[o.length]=w}}if(0!=o.length){var _=function(e,t){for(var i=0;i<t.length;i++){u?t[i][u.level]=e:t[i].level=e;var s=t[i][l];s&&s.length>0?_(e+1,s):u?t[i][u.leaf]=!0:t[i].leaf=!0}};_(0,o)}return o},bindBindingUpdate:function(e,t){this._bindingUpdate[this._bindingUpdate.length]={id:e,func:t}},unbindBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++)if(this._bindingUpdate[t].id==e){this._bindingUpdate[t].func=null,this._bindingUpdate.splice(t,1);break}},callBindingUpdate:function(e){for(var t=0;t<this._bindingUpdate.length;t++){var i=this._bindingUpdate[t];null!=i.func&&i.func(e)}},getid:function(t,i,s){if(null==t||null==t.name||!t.name){if(e(t,i).length>0)return e(t,i).text();if(t&&t.toString().length>0){if(null!=(a=e(i).attr(t))&&a.toString().length>0)return e.trim(a).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/\\@])/g,"");var r=t.split(this.mapChar);if(r.length>1){for(var n=i,o=0;o<r.length;o++)null!=n&&(n=n[r[o]]);if(null!=n)return n}else if(null!=i[t])return i[t]}return s}if(null!=(a=e(i).attr(t.name))&&a.toString().length>0)return a;if(t.map)try{var a;if(null!=(a=e(i).attr(t.map))&&a.toString().length>0)return a;if(e(t.map,i).length>0)return e(t.map,i).text();if(e(t.name,i).length>0)return e(t.name,i).text()}catch(e){return s}},loadjson:function(t,i,s){"string"==typeof t&&(t=e.parseJSON(t)),null==s.root&&(s.root=""),null==s.record&&(s.record=""),(t=t||i)||(t=[]);var r=this;if(""!=s.root)if((j=s.root.split(r.mapChar)).length>1){for(var n=t,o=0;o<j.length;o++)null!=n&&(n=n[j[o]]);t=n}else{if(void 0!==t[s.root]?t=t[s.root]:t[0]&&void 0!==t[0][s.root]?t=t[0][s.root]:e.each(t,(function(e){if(this==s.root)return t=this,!1;null!=this[s.root]&&(t=this[s.root])})),!t)if((j=s.root.split(r.mapChar)).length>0){for(n=t,o=0;o<j.length;o++)null!=n&&(n=n[j[o]]);t=n}}else if(!t.length)for(var a in t)if(e.isArray(t[a])){t=t[a];break}if(null!=t&&null==t.length&&(t=e.makeArray(t)),null==t||null==t||"undefined"==t||null==t.length)throw new Error("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");if(0!=t.length){var l=t.length;this.totalrecords=this.virtualmode&&s.totalrecords||l,this.records=new Array,this.originaldata=new Array;var h=this.records,d=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(d=0,l=this.totalrecords);var c=0;this.virtualmode&&(c=d=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,d=0,l=this.totalrecords);var u=s.datafields?s.datafields.length:0;if(0==u){var p=t[0],m=new Array;for(var a in p){var f=a;m[m.length]={name:f}}s.datafields=m,s.generatedfields=s.datafields,u=m.length}for(var g=d,v=d;v<l;v++){var x=t[v];if(null==x)break;if(!s.record||""==s.record||null!=(x=x[s.record])){var b=this.getid(s.id,x,v);if("object"==typeof b&&(b=v),!this.recordids[b]){this.recordids[b]=x;for(var y={},w=0;w<u;w++){var _=s.datafields[w],q="";if(null!=_&&null!=_){if(_.map){var j;if(e.isFunction(_.map))q=_.map(x);else if((j=_.map.split(r.mapChar)).length>0){var T=x;for(o=0;o<j.length;o++)null!=T&&(T=T[j[o]]);q=T}else q=x[_.map];null!=q&&null!=q?q=this.getvaluebytype(q,_):null==q&&null!=q&&(q="")}if(""==q&&!_.map&&(null==(q=x[_.name])&&null!=q&&(q=""),null!=_.value&&null!=q)){var C=q[_.value];null!=C&&(q=C)}if(q=this.getvaluebytype(q,_),null!=_.displayname?y[_.displayname]=q:y[_.name]=q,"array"===_.type){var I=function(t){if(t)for(var i=0;i<t.length;i++){var n=t[i];if(n)for(var o=0;o<u;o++){var a=s.datafields[o],l="";if(null!=a&&null!=a){if(a.map){if(e.isFunction(a.map))l=a.map(n);else{var h=a.map.split(r.mapChar);if(h.length>0){for(var d=n,c=0;c<h.length;c++)null!=d&&(d=d[h[c]]);l=d}else l=n[a.map]}null!=l&&null!=l?l=this.getvaluebytype(l,a):null==l&&null!=l&&(l="")}if(""==l&&!a.map&&(null==(l=n[a.name])&&null!=l&&(l=""),null!=a.value&&null!=l)){var p=l[a.value];null!=p&&(l=p)}l=this.getvaluebytype(l,a),null!=a.displayname?n[a.displayname]=l:n[a.name]=l,"array"===a.type&&I.call(this,l)}}}};I.call(this,q)}}}(s.recordendindex<=0||d<s.recordendindex)&&(h[c+g]=new Object(y),h[c+g].uid=b,this.originaldata[c+g]=new Object(h[v]),g++)}}}this.records=h,this.cachedrecords=this.records}else this.totalrecords=0},loadxml:function(t,i,s){"string"==typeof t&&(t=i=e(e.parseXML(t)),t=null),null==s.root&&(s.root=""),null==s.record&&(s.record=""),(t=e.jqx.browser.msie&&i&&null!=i.xml?e(s.root+" "+s.record,e.parseXML(i.xml)):t||e(s.root+" "+s.record,i))||(t=[]);var r=t.length;if(0!=t.length){this.totalrecords=this.virtualmode&&s.totalrecords||r,this.records=new Array,this.originaldata=new Array;var n=this.records,o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex;this.recordids=new Array,s.loadallrecords&&(o=0,r=this.totalrecords);var a=0;this.virtualmode&&(a=o=this.pageable?this.pagesize*this.pagenum:s.recordstartindex,o=0,r=this.totalrecords);var l=s.datafields?s.datafields.length:0;if(0==l){var h=t[0],d=new Array;for(var c in h){var u=c;d[d.length]={name:u}}s.datafields=d,s.generatedfields=s.datafields,l=d.length}for(var p=o,m=o;m<r;m++){if(null==(I=t[m]))break;var f=this.getid(s.id,I,m);if(!this.recordids[f]){this.recordids[f]=I;var g={},v=!1;s.hierarchy&&s.hierarchy.root&&(v=!0);for(var x=0;x<l;x++){var b=s.datafields[x],y="";if(null!=b&&null!=b){if(b.map)if(e.isFunction(b.map))y=b.map(I);else{var w=b.map.indexOf("[");if(w<0)if(1==(y=e(b.map,I)).length)y=y.text();else{!0;for(var _=new Array,q=0;q<y.length;q++)_.push(e(y[q]).text());y=_,v&&_.length>0&&(y=_[0])}else{var j=b.map.substring(0,w-1),T=b.map.indexOf("]"),C=b.map.substring(w+1,T);null==(y=e(j,I).attr(C))&&(y=e(I).attr(C)),null==y&&(y="")}""==y&&null==(y=e(I).attr(b.map))&&(y="")}if(""==y){if(1==(y=e(b.name,I)).length)y=y.text();else{for(_=new Array,q=0;q<y.length;q++)_.push(e(y[q]).text());y=_,v&&_.length>0&&(y=_[0])}""==y&&null==(y=e(I).attr(b.name))&&(y=""),""==y&&I.nodeName&&I.nodeName==b.name&&I.firstChild&&(y=e(I.firstChild).text())}y=this.getvaluebytype(y,b),null!=b.displayname?g[b.displayname]=y:g[b.name]=y}}(s.recordendindex<=0||o<s.recordendindex)&&(n[a+p]=e.extend({},g),n[a+p].uid=f,this.originaldata[a+p]=e.extend({},n[m]),p++)}}if(s.hierarchy&&s.hierarchy.root)for(m=o;m<r;m++){var I=t[m],S=n[m];if(e(I).parent().length>0){f=this.getid(s.id,e(I).parents(s.hierarchy.record+":first"));S.parentuid=f}else S.parentuid=null}this.records=n,this.cachedrecords=this.records}},loadics:function(e,t){if(null!=e){var i=t.rowDelimiter||this.rowDelimiter||"\n",s=e.split(i),r=s.length,n=e.split("\r");1==r&&n.length>1&&(r=(s=n).length),this.records=new Array,this.originaldata=new Array;var o=this.records;this.recordids=new Array;for(var a=function(e){var t=/^(\d{4})(\d{2})(\d{2})(T(\d{2})(\d{2})(\d{2})Z)?$/.exec(e);if(!t)throw new Error("Invalid UNTIL value: "+e);return new Date(Date.UTC(t[1],t[2]-1,t[3],t[5]||0,t[6]||0,t[7]||0))},l=0;l<r;l++){var h=s[l];if("BEGIN:VEVENT"!=h)if(h.indexOf("SUMMARY")>=0)c.SUMMARY=h.substring(h.indexOf("SUMMARY")+8);else if(h.indexOf("LOCATION")>=0)c.LOCATION=h.substring(h.indexOf("LOCATION")+9);else if(h.indexOf("DESCRIPTION")>=0)c.DESCRIPTION=h.substring(h.indexOf("DESCRIPTION")+12);else if(h.indexOf("RRULE")>=0)c.RRULE=h.substring(h.indexOf("RRULE")+6);else if(h.indexOf("EXDATE")>=0){var d=h.substring(h.indexOf("EXDATE")+7);c.EXDATE=d}else h.indexOf("DTEND")>=0?c.DTEND=a(h.substring(h.indexOf("DTEND")+6)):h.indexOf("DTSTART")>=0?c.DTSTART=a(h.substring(h.indexOf("DTSTART")+8)):h.indexOf("UID")>=0?c.uid=c.UID=h.substring(h.indexOf("UID")+4):h.indexOf("STATUS")>=0?c.STATUS=h.substring(h.indexOf("STATUS")+7):"END:VEVENT"!=h||o.push(c);else var c={}}this.records=o,this.cachedrecords=this.records}},loadtext:function(t,i){if(null!=t){var s=i.rowDelimiter||this.rowDelimiter||"\n",r=t.split(s),n=r.length,o=t.split("\r");1==n&&o.length>1&&(n=(r=o).length),this.totalrecords=this.virtualmode&&i.totalrecords||n,this.records=new Array,this.originaldata=new Array;var a=this.records,l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex;this.recordids=new Array,i.loadallrecords&&(l=0,n=this.totalrecords);var h=0;this.virtualmode&&(h=l=this.pageable?this.pagesize*this.pagenum:i.recordstartindex,l=0,n=this.totalrecords);var d=i.datafields.length,c=i.columnDelimiter||this.columnDelimiter;c||(c="tab"===i.datatype||"tsv"===i.datatype?"\t":",");for(var u=l;u<n;u++){var p=r[u],m=null;if(!this.recordids[m]){null==i.id&&(m=u,this.recordids[m]=p);for(var f={},g=r[u].split(c),v=0;v<d;v++)if(!(v>=g.length)){var x=i.datafields[v],b=g[v];x.map&&e.isFunction(x.map)&&(b=x.map(p)),x.type&&(b=this.getvaluebytype(b,x)),f[x.map||x.name||v.toString()]=b,null!=i.id&&i.id===x.name&&(m=b,this.recordids[m]=p)}null==m&&(m=u),a[h+u]=e.extend({},f),a[h+u].uid=m,this.originaldata[h+u]=e.extend({},a[u])}}this.records=a,this.cachedrecords=this.records}},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{if(t&&t instanceof Date)return t;var n=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(n=o)}null==(t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n)&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){t=parseInt(t);isNaN(t)&&(t=s)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t}},e.jqx.dataFormat={},e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(e){return"boolean"==typeof e},isObject:function(t){return t&&("object"==typeof t||e.isFunction(t))||!1},isDate:function(e){return e instanceof Date},arrayIndexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,s=e.length;i<s;i++)if(e[i]===t)return i;return-1},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e&&isFinite(e)},isNull:function(e){return null===e},isUndefined:function(e){return void 0===e},isValue:function(e){return this.isObject(e)||this.isString(e)||this.isNumber(e)||this.isBoolean(e)},isEmpty:function(t){return!(!this.isString(t)&&this.isValue(t))&&(!this.isValue(t)||""===(t=e.trim(t).replace(/\&nbsp\;/gi,"").replace(/\&#160\;/gi,"")))},startsWith:function(e,t){return 0===e.indexOf(t)},endsWith:function(e,t){return e.substr(e.length-t.length)===t},trim:function(e){return(e+"").replace(this.regexTrim,"")},isArray:function(e){return"[object Array]"===this.toString.call(e)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(e,t){t=t||"F";var i,s=e.patterns,r=t.length;if(1===r){if(!(i=s[t]))throw"Invalid date format string '"+t+"'.";t=i}else 2===r&&"%"===t.charAt(0)&&(t=t.charAt(1));return t},getEra:function(e,t){if(!t)return 0;if("string"==typeof e)return 0;for(var i,s=e.getTime(),r=0,n=t.length;r<n;r++)if(null===(i=t[r].start)||s>=i)return r;return 0},toUpper:function(e){return e.split("Â ").join(" ").toUpperCase()},toUpperArray:function(e){for(var t=[],i=0,s=e.length;i<s;i++)t[i]=this.toUpper(e[i]);return t},getEraYear:function(e,t,i,s){var r=e.getFullYear();return!s&&t.eras&&(r-=t.eras[i].offset),r},toUpper:function(e){return e?e.toUpperCase():""},getDayIndex:function(e,t,i){var s,r=e.days,n=e._upperDays;return n||(e._upperDays=n=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr),this.toUpperArray(r.namesShort)]),t=t.toUpperCase(),i?-1===(s=this.arrayIndexOf(n[1],t))&&(s=this.arrayIndexOf(n[2],t)):s=this.arrayIndexOf(n[0],t),s},getMonthIndex:function(e,t,i){var s=e.months,r=e.monthsGenitive||e.months,n=e._upperMonths,o=e._upperMonthsGen;n||(e._upperMonths=n=[this.toUpperArray(s.names),this.toUpperArray(s.namesAbbr)],e._upperMonthsGen=o=[this.toUpperArray(r.names),this.toUpperArray(r.namesAbbr)]),t=this.toUpper(t);var a=this.arrayIndexOf(i?n[1]:n[0],t);return a<0&&(a=this.arrayIndexOf(i?o[1]:o[0],t)),a},appendPreOrPostMatch:function(e,t){for(var i=0,s=!1,r=0,n=e.length;r<n;r++){var o=e.charAt(r);switch(o){case"'":s?t.push("'"):i++,s=!1;break;case"\\":s&&t.push("\\"),s=!s;break;default:t.push(o),s=!1}}return i},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(e,t){var i="";return t&&t.target&&(i="target="+t.target),""!=i?"<a "+i+' href="'+e+'">'+e+"</a>":'<a href="'+e+'">'+e+"</a>"},formatemail:function(e){return'<a href="mailto:'+e+'">'+e+"</a>"},formatNumber:function(e,t,i){return this.formatnumber(e,t,i)},formatnumber:function(e,t,i){if(null!=i&&null!=i&&""!=i||(i=this.defaultcalendar()),""===t||null===t)return e;var s;this.isNumber(e)||(e*=1),t.length>1&&(s=parseInt(t.slice(1),10));var r={},n=t.charAt(0).toUpperCase();switch(r.thousandsSeparator=i.thousandsseparator,r.decimalSeparator=i.decimalseparator,n){case"D":case"d":case"F":case"f":r.decimalPlaces=s;break;case"N":case"n":r.decimalPlaces=0;break;case"C":case"c":r.decimalPlaces=s,"before"==i.currencysymbolposition?r.prefix=i.currencysymbol:r.suffix=i.currencysymbol;break;case"P":case"p":r.suffix=i.percentsymbol,r.decimalPlaces=s;break;default:throw"Bad number format specifier: "+n}if(this.isNumber(e)){var o,a=e<0,l=e+"",h=r.decimalSeparator?r.decimalSeparator:".";if(this.isNumber(r.decimalPlaces)){var d=r.decimalPlaces,c=Math.pow(10,d);if(o=(l=(e*c).toFixed(0)/c+"").lastIndexOf("."),d>0)for(o<0?o=(l+=h).length-1:"."!==h&&(l=l.replace(".",h));l.length-1-o<d;)l+="0"}else{(o=(l=e+"").lastIndexOf("."))>0&&null==d&&"."!==h&&(l=l.replace(".",h))}if(r.thousandsSeparator){var u=r.thousandsSeparator;o=(o=l.lastIndexOf(h))>-1?o:l.length;for(var p=l.substring(o),m=-1,f=o;f>0;f--)++m%3==0&&f!==o&&(!a||f>1)&&(p=u+p),p=l.charAt(f-1)+p;l=p}return l=r.prefix?r.prefix+l:l,l=r.suffix?l+r.suffix:l}return e},tryparsedate:function(t,i){null!=i&&null!=i||(i=this.defaultcalendar());var s=this;if(""==t)return null;if(null==t||t.substring||(t=t.toString()),null!=t&&"/Date("==t.substring(0,6)){if("Invalid Date"==(r=new Date(+t.replace(/\/Date\((\d+)\)\//,"$1")))){var r=null;(E=t.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/))&&(r=new Date(1*E[1]+36e5*E[2]+6e4*E[3]))}if(null==r||"Invalid Date"==r||isNaN(r)){var n=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/.exec(t);if(n){var o=new Date(parseInt(n[1]));if(n[2]){var a=parseInt(n[3]);"-"===n[2]&&(a=-a);var l=o.getUTCMinutes();o.setUTCMinutes(l-a)}if(!isNaN(o.valueOf()))return o}}return r}var h,d,c=i.patterns;for(var u in c)if(r=s.parsedate(t,c[u],i)){if("ISO"==u)if(p=s.parsedate(t,c.ISO2,i))return p;return r}if(null!=t){for(var p=null,m=[":","/","-"],f=!0,g=0;g<m.length;g++)-1!=t.indexOf(m[g])&&(f=!1);if(f){var v=new Number(t);if(!isNaN(v))return new Date(v)}}if("string"===e.type(t)){var x=s;t=x.trim(t);var b=[":","/","-"," ",","];h=", ",d=",";var y="",w=t=t.replace(new RegExp(h,"g"),d);t.indexOf(":")>=0?(y=t.substring(t.indexOf(":")-2),y=x.trim(y),w=t.substring(0,t.indexOf(":")-2)):t.toUpperCase().indexOf("AM")>=0?(y=t.substring(t.toUpperCase().indexOf("AM")-2),y=x.trim(y),w=t.substring(0,t.toUpperCase().indexOf("AM")-2)):t.toUpperCase().indexOf("PM")>=0&&(y=t.substring(t.toUpperCase().indexOf("PM")-2),y=x.trim(y),w=t.substring(0,t.toUpperCase().indexOf("PM")-2));var _=new Date,q=!1;if(w){for(var j=0;j<b.length;j++)if(w.indexOf(b[j])>=0){m=w.split(b[j]);break}var T=new Array,C=new Array,I=new Array,S=null,k=null;for(j=0;j<m.length;j++){g=m[j];var P=x.parsedate(g,"d",i)||x.parsedate(g,"dd",i)||x.parsedate(g,"ddd",i)||x.parsedate(g,"dddd",i);if(P&&g.length<=2){S=j,T.push(P.getDate());break}}for(j=0;j<m.length;j++){g=m[j];var H=x.parsedate(g,"M",i)||x.parsedate(g,"MM",i)||x.parsedate(g,"MMM",i)||x.parsedate(g,"MMMM",i);if(H){if(null!=S&&S==j)continue;if(C.push(H.getMonth()),g.length>2){k=j;break}}}for(j=0;j<m.length;j++){g=m[j];var B=x.parsedate(g,"yyyy",i);if(B){if(null!=S&&S==j)continue;if(null!=k&&k==j)continue;I.push(B.getFullYear())}}for(var D=new Array,z=0;z<T.length;z++)for(var E=0;E<C.length;E++)for(var A=0;A<I.length;A++){o=new Date(I[A],C[E],T[z]);I[A]<1970&&o.setFullYear(I[A]),NaN!=o.getTime()&&D.push(o)}D.length>0&&(_=D[0],q=!0)}if(y){var M=y.indexOf(":")>=0?y.split(":"):y,O=x.parsedate(y,"h:mm tt",i)||x.parsedate(y,"h:mm:ss tt",i)||x.parsedate(y,"HH:mm:ss.fff",i)||x.parsedate(y,"HH:mm:ss.ff",i)||x.parsedate(y,"HH:mm:ss.tttt",i)||x.parsedate(y,"HH:mm:ss",i)||x.parsedate(y,"HH:mm",i)||x.parsedate(y,"HH",i),N=0,L=0,W=0,R=0;O&&NaN!=O.getTime()?(N=O.getHours(),L=O.getMinutes(),W=O.getSeconds(),R=O.getMilliseconds()):(1==M.length&&(N=parseInt(M[0])),2==M.length&&(N=parseInt(M[0]),L=parseInt(M[1])),3==M.length&&(N=parseInt(M[0]),L=parseInt(M[1]),M[2].indexOf(".")>=0?(W=parseInt(M[2].toString().split(".")[0]),R=parseInt(M[2].toString().split(".")[1])):W=parseInt(M[2])),4==M.length&&(N=parseInt(M[0]),L=parseInt(M[1]),W=parseInt(M[2]),R=parseInt(M[3]))),!_||isNaN(N)||isNaN(L)||isNaN(W)||isNaN(R)||(_.setHours(N,L,W,R),q=!0)}if(q)return _}return null},getparseregexp:function(e,t){var i=e._parseRegExp;if(i){var s=i[t];if(s)return s}else e._parseRegExp=i={};for(var r,n=this.expandFormat(e,t).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),o=["^"],a=[],l=0,h=0,d=this.getTokenRegExp();null!==(r=d.exec(n));){var c=n.slice(l,r.index);if(l=d.lastIndex,(h+=this.appendPreOrPostMatch(c,o))%2)o.push(r[0]);else{var u,p=r[0],m=p.length;switch(p){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":u="(\\D+)";break;case"tt":case"t":u="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":u="(\\d{"+m+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":u="(\\d\\d?)";break;case"zzz":u="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":u="([+-]?\\d\\d?)";break;case"/":u="(\\"+e["/"]+")";break;default:throw"Invalid date format pattern '"+p+"'."}u&&o.push(u),a.push(r[0])}}this.appendPreOrPostMatch(n.slice(l),o),o.push("$");var f={regExp:o.join("").replace(/\s+/g,"\\s+"),groups:a};return i[t]=f},outOfRange:function(e,t,i){return e<t||e>i},expandYear:function(e,t){var i=new Date,s=this.getEra(i);if(t<100){var r=e.twoDigitYearMax;r="string"==typeof r?(new Date).getFullYear()%100+parseInt(r,10):r;var n=this.getEraYear(i,e,s);(t+=n-n%100)>r&&(t-=100)}return t},parsedate:function(e,t,i){null!=i&&null!=i||(i=this.defaultcalendar()),e=this.trim(e);var s=i,r=this.getparseregexp(s,t),n=new RegExp(r.regExp).exec(e);if(null===n)return null;for(var o,a=r.groups,l=null,h=null,d=null,c=null,u=null,p=0,m=0,f=0,g=0,v=null,x=!1,b=0,y=a.length;b<y;b++){var w=n[b+1];if(w){var _=a[b],q=_.length,j=parseInt(w,10);switch(_){case"dd":case"d":if(c=j,this.outOfRange(c,1,31))return null;break;case"MMM":case"MMMM":if(d=this.getMonthIndex(s,w,3===q),this.outOfRange(d,0,11))return null;break;case"M":case"MM":if(d=j-1,this.outOfRange(d,0,11))return null;break;case"y":case"yy":case"yyyy":if(h=q<4?this.expandYear(s,j):j,this.outOfRange(h,0,9999))return null;break;case"h":case"hh":if(12===(p=j)&&(p=0),this.outOfRange(p,0,11))return null;break;case"H":case"HH":if(p=j,this.outOfRange(p,0,23))return null;break;case"m":case"mm":if(m=j,this.outOfRange(m,0,59))return null;break;case"s":case"ss":if(f=j,this.outOfRange(f,0,59))return null;break;case"tt":case"t":if(!(x=s.PM&&(w===s.PM[0]||w===s.PM[1]||w===s.PM[2]))&&(!s.AM||w!==s.AM[0]&&w!==s.AM[1]&&w!==s.AM[2]))return null;break;case"f":case"ff":case"fff":if(g=j*Math.pow(10,3-q),this.outOfRange(g,0,999))return null;break;case"ddd":case"dddd":if(u=this.getDayIndex(s,w,3===q),this.outOfRange(u,0,6))return null;break;case"zzz":var T=w.split(/:/);if(2!==T.length)return null;if(o=parseInt(T[0],10),this.outOfRange(o,-12,13))return null;var C=parseInt(T[1],10);if(this.outOfRange(C,0,59))return null;v=60*o+(this.startsWith(w,"-")?-C:C);break;case"z":case"zz":if(o=j,this.outOfRange(o,-12,13))return null;v=60*o;break;case"g":case"gg":var I=w;if(!I||!s.eras)return null;I=this.trim(I.toLowerCase());for(var S=0,k=s.eras.length;S<k;S++)if(I===s.eras[S].name.toLowerCase()){l=S;break}if(null===l)return null}}}var P,H=new Date,B=s.convert;if(P=H.getFullYear(),null===h?h=P:s.eras&&(h+=s.eras[l||0].offset),null===d&&(d=0),null===c&&(c=1),B){if(null===(H=B.toGregorian(h,d,c)))return null}else{if(H.setFullYear(h,d,c),H.getDate()!==c)return null;if(null!==u&&H.getDay()!==u)return null}if(x&&p<12&&(p+=12),H.setHours(p,m,f,g),null!==v){var D=H.getMinutes()-(v+H.getTimezoneOffset());H.setHours(H.getHours()+parseInt(D/60,10),D%60)}return H},cleardatescache:function(){this.datescache=new Array},formatDate:function(e,t,i){return this.formatdate(e,t,i)},formatdate:function(e,t,i){if(null!=i&&null!=i||(i=this.defaultcalendar()),"string"==typeof e)return e;var s,r=e.toString()+"_"+t;if(this.datescache&&this.datescache[r]&&-1==t.indexOf("f"))return this.datescache[r];if(!t||!t.length||"i"===t)return s=this.formatDate(e,i.patterns.F,i);var n=i.eras,o="s"===t;t=this.expandFormat(i,t),s=[];var a,l=["0","00","000"],h=0,d=this.getTokenRegExp();function c(e,t){var i,s=e+"";return t>1&&s.length<t?(i=l[t-2]+s).substr(i.length-t,t):i=s}function u(e,t){if(null!=e.getMonth)switch(t){case 0:return e.getFullYear();case 1:return e.getMonth();case 2:return e.getDate()}}for(;;){var p=d.lastIndex,m=d.exec(t),f=t.slice(p,m?m.index:t.length);if(h+=this.appendPreOrPostMatch(f,s),!m)break;if(h%2)s.push(m[0]);else{var g=m[0],v=g.length;switch(g){case"ddd":case"dddd":var x=3===v?i.days.namesAbbr:i.days.names;s.push(x[e.getDay()]);break;case"d":case"dd":!0,s.push(c(u(e,2),v));break;case"MMM":case"MMMM":var b=u(e,1);s.push(i.months[3===v?"namesAbbr":"names"][b]);break;case"M":case"MM":s.push(c(u(e,1)+1,v));break;case"y":case"yy":case"yyyy":b=this.getEraYear(e,i,this.getEra(e,n),o),v<4&&(b%=100),s.push(c(b,v));break;case"h":case"hh":0===(a=e.getHours()%12)&&(a=12),s.push(c(a,v));break;case"H":case"HH":s.push(c(e.getHours(),v));break;case"m":case"mm":s.push(c(e.getMinutes(),v));break;case"s":case"ss":s.push(c(e.getSeconds(),v));break;case"t":case"tt":b=e.getHours()<12?i.AM?i.AM[0]:" ":i.PM?i.PM[0]:" ",s.push(1===v?b.charAt(0):b);break;case"f":case"ff":case"fff":s.push(c(e.getMilliseconds(),3).substr(0,v));break;case"z":case"zz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+c(Math.floor(Math.abs(a)),v));break;case"zzz":a=e.getTimezoneOffset()/60,s.push((a<=0?"+":"-")+c(Math.floor(Math.abs(a)),2)+":"+c(Math.abs(e.getTimezoneOffset()%60),2));break;case"g":case"gg":i.eras&&s.push(i.eras[this.getEra(e,n)].name);break;case"/":s.push(i["/"]);break;default:throw"Invalid date format pattern '"+g+"'."}}}var y=s.join("");return this.datescache||(this.datescache=new Array),this.datescache[r]=y,y}}),e.jqx.data={};var t,i,s=/#.*$/,r=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,n=/^(?:GET|HEAD)$/,o=/^\/\//,a=/\?/,l=/([?&])_=[^&]*/,h=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,d=/\s+/,c=(e.fn.load,{}),u={},p=["*/"]+["*"];try{i=location.href}catch(e){(i=document.createElement("a")).href="",i=i.href}function m(t){return function(i,s){"string"!=typeof i&&(s=i,i="*");var r,n,o=i.toLowerCase().split(d),a=0,l=o.length;if(e.isFunction(s))for(;a<l;a++)r=o[a],(n=/^\+/.test(r))&&(r=r.substr(1)||"*"),(t[r]=t[r]||[])[n?"unshift":"push"](s)}}function f(e,t,i,s,r,n){(n=n||{})[r=r||t.dataTypes[0]]=!0;for(var o,a=e[r],l=0,h=a?a.length:0,d=e===c;l<h&&(d||!o);l++)"string"==typeof(o=a[l](t,i,s))&&(!d||n[o]?o=void 0:(t.dataTypes.unshift(o),o=f(e,t,i,s,o,n)));return!d&&o||n["*"]||(o=f(e,t,i,s,"*",n)),o}function g(t,i){var s,r,n=e.jqx.data.ajaxSettings.flatOptions||{};for(s in i)void 0!==i[s]&&((n[s]?t:r||(r={}))[s]=i[s]);r&&e.extend(!0,t,r)}t=h.exec(i.toLowerCase())||[],e.extend(e.jqx.data,{ajaxSetup:function(t,i){return i?g(t,e.jqx.data.ajaxSettings):(i=t,t=e.jqx.data.ajaxSettings),g(t,i),t},ajaxSettings:{url:i,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":p},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:m(c),ajaxTransport:m(u),ajax:function(i,m){"object"==typeof i&&(m=i,i=void 0),m=m||{};var g,v,x,b,y,w,_,q,j=e.jqx.data.ajaxSetup({},m),T=j.context||j,C=T!==j&&(T.nodeType||T instanceof e)?e(T):e.event,I=e.Deferred(),S=e.Callbacks("once memory"),k=j.statusCode||{},P={},H={},B=0,D="canceled",z={readyState:0,setRequestHeader:function(e,t){if(!B){var i=e.toLowerCase();e=H[i]=H[i]||e,P[e]=t}return this},getAllResponseHeaders:function(){return 2===B?v:null},getResponseHeader:function(e){var t;if(2===B){if(!x)for(x={};t=r.exec(v);)x[t[1].toLowerCase()]=t[2];t=x[e.toLowerCase()]}return void 0===t?null:t},overrideMimeType:function(e){return B||(j.mimeType=e),this},abort:function(e){return e=e||D,b&&b.abort(e),E(0,e),this}};function E(t,i,s,r){var n,o,a,l,h,d=i;2!==B&&(B=2,y&&clearTimeout(y),b=void 0,v=r||"",z.readyState=t>0?4:0,s&&(l=function(e,t,i){var s,r,n,o,a=e.contents,l=e.dataTypes,h=e.responseFields;for(r in h)r in i&&(t[h[r]]=i[r]);for(;"*"===l[0];)l.shift(),void 0===s&&(s=e.mimeType||t.getResponseHeader("content-type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)n=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){n=r;break}o||(o=r)}n=n||o}if(n)return n!==l[0]&&l.unshift(n),i[n]}(j,z,s)),t>=200&&t<300||304===t?(j.ifModified&&((h=z.getResponseHeader("Last-Modified"))&&(e.lastModified[g]=h),(h=z.getResponseHeader("Etag"))&&(e.etag[g]=h)),304===t?(d="notmodified",n=!0):(n=function(e,t){var i,s,r,n,o=e.dataTypes.slice(),a=o[0],l={},h=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(i in e.converters)l[i.toLowerCase()]=e.converters[i];for(;r=o[++h];)if("*"!==r){if("*"!==a&&a!==r){if(!(i=l[a+" "+r]||l["* "+r]))for(s in l)if((n=s.split(" "))[1]===r&&(i=l[a+" "+n[0]]||l["* "+n[0]])){!0===i?i=l[s]:!0!==l[s]&&(r=n[0],o.splice(h--,0,r));break}if(!0!==i)if(i&&e.throws)t=i(t);else try{t=i(t)}catch(e){return{state:"parsererror",error:i?e:"No conversion from "+a+" to "+r}}}a=r}return{state:"success",data:t}}(j,l),d=n.state,o=n.data,n=!(a=n.error))):(a=d,d&&!t||(d="error",t<0&&(t=0))),z.status=t,z.statusText=(i||d)+"",n?I.resolveWith(T,[o,d,z]):I.rejectWith(T,[z,d,a]),z.statusCode(k),k=void 0,_&&C.trigger("ajax"+(n?"Success":"Error"),[z,j,n?o:a]),S.fireWith(T,[z,d]),_&&(C.trigger("ajaxComplete",[z,j]),--e.active||e.event.trigger("ajaxStop")))}if(I.promise(z),z.success=z.done,z.error=z.fail,z.complete=S.add,z.statusCode=function(e){var t;if(e)if(B<2)for(t in e)k[t]=[k[t],e[t]];else t=e[z.status],z.always(t);return this},j.url=((i||j.url)+"").replace(s,"").replace(o,t[1]+"//"),j.dataTypes=e.trim(j.dataType||"*").toLowerCase().split(d),null==j.crossDomain&&(w=h.exec(j.url.toLowerCase()),j.crossDomain=!(!w||w[1]===t[1]&&w[2]===t[2]&&(w[3]||("http:"===w[1]?80:443))==(t[3]||("http:"===t[1]?80:443)))),j.data&&j.processData&&"string"!=typeof j.data&&(j.data=e.param(j.data,j.traditional)),f(c,j,m,z),2===B)return z;if(_=j.global,j.type=j.type.toUpperCase(),j.hasContent=!n.test(j.type),_&&0==e.active++&&e.event.trigger("ajaxStart"),!j.hasContent&&(j.data&&(j.url+=(a.test(j.url)?"&":"?")+j.data,delete j.data),g=j.url,!1===j.cache)){var A=(new Date).getTime(),M=j.url.replace(l,"$1_="+A);j.url=M+(M===j.url?(a.test(j.url)?"&":"?")+"_="+A:"")}for(q in(j.data&&j.hasContent&&!1!==j.contentType||m.contentType)&&z.setRequestHeader("Content-Type",j.contentType),j.ifModified&&(g=g||j.url,e.lastModified[g]&&z.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&z.setRequestHeader("If-None-Match",e.etag[g])),z.setRequestHeader("Accept",j.dataTypes[0]&&j.accepts[j.dataTypes[0]]?j.accepts[j.dataTypes[0]]+("*"!==j.dataTypes[0]?", "+p+"; q=0.01":""):j.accepts["*"]),j.headers)z.setRequestHeader(q,j.headers[q]);if(j.beforeSend&&(!1===j.beforeSend.call(T,z,j)||2===B))return z.abort();for(q in D="abort",{success:1,error:1,complete:1})z[q](j[q]);if(b=f(u,j,m,z)){z.readyState=1,_&&C.trigger("ajaxSend",[z,j]),j.async&&j.timeout>0&&(y=setTimeout((function(){z.abort("timeout")}),j.timeout));try{B=1,b.send(P,E)}catch(e){if(!(B<2))throw e;E(-1,e)}}else E(-1,"No Transport");return z},active:0,lastModified:{},etag:{}});var v=[],x=/\?/,b=/(=)\?(?=&|$)|\?\?/,y=(new Date).getTime();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=v.pop()||e.expando+"_"+y++;return this[t]=!0,t}}),e.jqx.data.ajaxPrefilter("json jsonp",(function(t,i,s){var r,n,o,a=t.data,l=t.url,h=!1!==t.jsonp,d=h&&b.test(l),c=h&&!d&&"string"==typeof a&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&b.test(a);if("jsonp"===t.dataTypes[0]||d||c)return r=t.jsonpCallback=e.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,n=window[r],d?t.url=l.replace(b,"$1"+r):c?t.data=a.replace(b,"$1"+r):h&&(t.url+=(x.test(l)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return o||e.error(r+" was not called"),o[0]},t.dataTypes[0]="json",window[r]=function(){o=arguments},s.always((function(){window[r]=n,t[r]&&(t.jsonpCallback=i.jsonpCallback,v.push(r)),o&&e.isFunction(n)&&n(o[0]),o=n=void 0})),"script"})),e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return e.globalEval(t),t}}}),e.jqx.data.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)})),e.jqx.data.ajaxTransport("script",(function(e){if(e.crossDomain){var t,i=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(s,r){(t=document.createElement("script")).async="async",e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,s){(s||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,i&&t.parentNode&&i.removeChild(t),t=void 0,s||r(200,"success"))},i.insertBefore(t,i.firstChild)},abort:function(){t&&t.onload(0,1)}}}}));var w,_,q=!!window.ActiveXObject&&function(){for(var e in w)w[e](0,1)},j=0;function T(){try{return new window.XMLHttpRequest}catch(e){}}e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){return!this.isLocal&&T()||function(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}()}:T,_=e.jqx.data.ajaxSettings.xhr(),e.extend(e.support,{ajax:!!_,cors:!!_&&"withCredentials"in _}),e.support||(e.support={ajax:!0}),e.support.ajax&&e.jqx.data.ajaxTransport((function(t){var i;if(!t.crossDomain||e.support.cors)return{send:function(s,r){var n,o,a=t.xhr();if(t.username?a.open(t.type,t.url,t.async,t.username,t.password):a.open(t.type,t.url,t.async),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(o in s)a.setRequestHeader(o,s[o])}catch(e){}a.send(t.hasContent&&t.data||null),i=function(e,s){var o,l,h,d,c;try{if(i&&(s||4===a.readyState))if(i=void 0,n&&(a.onreadystatechange=function(){},q&&delete w[n]),s)4!==a.readyState&&a.abort();else{o=a.status,h=a.getAllResponseHeaders(),d={},(c=a.responseXML)&&c.documentElement&&(d.xml=c);try{d.text=a.responseText}catch(e){}try{l=a.statusText}catch(e){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=d.text?200:404}}catch(e){s||r(-1,e)}d&&r(o,l,d,h)},t.async?4===a.readyState?setTimeout(i,0):(n=++j,q&&(w||(w={},e(window).unload(q)),w[n]=i),a.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}})),e.jqx.filter=function(){this.operator="and";var t=["EMPTY","NOT_EMPTY","CONTAINS","CONTAINS_CASE_SENSITIVE","DOES_NOT_CONTAIN","DOES_NOT_CONTAIN_CASE_SENSITIVE","STARTS_WITH","STARTS_WITH_CASE_SENSITIVE","ENDS_WITH","ENDS_WITH_CASE_SENSITIVE","EQUAL","EQUAL_CASE_SENSITIVE","NULL","NOT_NULL"],i=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],s=["EQUAL","NOT_EQUAL","LESS_THAN","LESS_THAN_OR_EQUAL","GREATER_THAN","GREATER_THAN_OR_EQUAL","NULL","NOT_NULL"],r=["EQUAL","NOT_EQUAL"],n=new Array,o=new Array;this.evaluate=function(e){for(var t=!0,i=0;i<n.length;i++){var s=n[i].evaluate(e);t=0==i?s:1==o[i]||"or"==o[i]?t||s:t&&s}return t},this.getfilterscount=function(){return n.length},this.setoperatorsbyfiltertype=function(e,n){switch(e){case"numericfilter":i=n;break;case"stringfilter":t=n;break;case"datefilter":s=n;break;case"booleanfilter":r=n}},this.getoperatorsbyfiltertype=function(e){var n=new Array;switch(e){case"numericfilter":n=i.slice(0);break;case"stringfilter":n=t.slice(0);break;case"datefilter":n=s.slice(0);break;case"booleanfilter":n=r.slice(0)}return n};var a=function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+"-"+e()+"-"+e()};this.createfilter=function(e,t,i,s,r,n){if(null==e||null==e)return null;switch(e){case"numericfilter":return new d(t,i.toUpperCase());case"stringfilter":return new l(t,i.toUpperCase());case"datefilter":return new c(t,i.toUpperCase(),r,n);case"booleanfilter":return new h(t,i.toUpperCase());case"custom":return new u(t,i.toUpperCase(),s)}throw new Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'")},this.getfilters=function(){for(var e=new Array,t=0;t<n.length;t++){var i={value:n[t].filtervalue,condition:n[t].comparisonoperator,operator:o[t],type:n[t].type};n[t].data&&(i.id=n[t].data),e[t]=i}return e},this.addfilter=function(e,t){n[n.length]=t,t.key=a(),o[o.length]=e},this.removefilter=function(e){for(var t=0;t<n.length;t++)if(n[t].key==e.key){n.splice(t,1),o.splice(t,1);break}},this.getoperatorat=function(e){return null==e||null==e||e<0||e>n.length?null:o[e]},this.setoperatorat=function(e,t){return null==e||null==e||e<0||e>n.length?null:void(o[t]=t)},this.getfilterat=function(e){return null==e||null==e||e<0||e>n.length?null:n[e]},this.setfilterat=function(e,t){return null==e||null==e||e<0||e>n.length?null:(t.key=a(),void(n[e]=t))},this.clear=function(){n=new Array,o=new Array};var l=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="stringfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||null==t||""==t){if("NULL"==s)return!0;if("NOT_NULL"==s)return!1;if("EQUAL"==s&&t==i)return!0;if("NOT_EQUAL"==s&&t!=i)return!0;if("EMPTY"!=s)return!1;if(""==t)return!0}var r="";try{r=t.toString()}catch(e){return!0}var n=function(t,i){switch(s){case"EQUAL":return e.jqx.string.equalsIgnoreCase(t,i);case"EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(t,i);case"NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(t,i);case"NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(t,i);case"CONTAINS":return e.jqx.string.containsIgnoreCase(t,i);case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t,i);case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t,i);case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t,i);case"EMPTY":return""==t;case"NOT_EMPTY":return""!=t;case"NOT_NULL":return null!=t;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t,i);case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t,i);case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t,i);case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t,i);default:return!1}},o=new Array;if(i&&i.indexO&&"NOT_EQUAL"!==s&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=n(r,i))return g;var a=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,h=i.indexOf(" and ")>=0?i.split(" and "):new Array,d=i.indexOf(" or ")>=0?i.split(" or "):new Array,c=i.indexOf("|")>=0?i.split("|"):new Array;if(c.length>0)for(var u=0;u<c.length;u++)c[u]=e.trim(c[u]);var p=i.indexOf(" ")>=0?i.split(" "):new Array;if(p.length>0)for(u=0;u<p.length;u++)p[u]=e.trim(p[u]);if(a=(a=a.concat(p)).concat(h),l=(l=l.concat(c)).concat(d),a.length>0)for(u=0;u<a.length;u++)!a[u].indexOf(" OR ")>=0&&o.push(a[u]);if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&o.push(l[u]);for(var m=void 0,f=0;f<o.length;f++){var g=n(r,t=o[f]),v=f<a.length?"and":"or";m=null==m?g:"or"==v?m||g:m&&g}return m}return n(r,i)}},h=function(e,t){this.filtervalue=e,this.comparisonoperator=t,this.type="booleanfilter",this.evaluate=function(e){var t=this.filtervalue,i=this.comparisonoperator;if(null==e||null==e)return"NULL"==i;var s=e;switch(i){case"EQUAL":return s==t||s.toString()==t.toString();case"NOT_EQUAL":return s!=t&&s.toString()!=t.toString();default:return!1}}},d=function(t,i){this.filtervalue=t,this.comparisonoperator=i,this.type="numericfilter",this.evaluate=function(t){var i=this.filtervalue,s=this.comparisonoperator;if(null==t||""===t){if("NOT_NULL"==s)return!1;if("NULL"==s)return!0;switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==s)return!1;if("NOT_NULL"==s)return!0;var r=t;try{r=parseFloat(r)}catch(e){if(""!=t.toString())return!1}var n=function(t,i){switch(s){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i;case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},o=new Array;if(i&&i.indexOf&&(i=i.replace("$","")),i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(g=n(r,i))return g;var a=(i=i.toString()).indexOf(" AND ")>=0?i.split(" AND "):new Array,l=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,h=i.indexOf(" and ")>=0?i.split(" and "):new Array,d=i.indexOf(" or ")>=0?i.split(" or "):new Array;a=a.concat(h),l=l.concat(d);var c=i.indexOf("|")>=0?i.split("|"):new Array;if(c.length>0)for(var u=0;u<c.length;u++)c[u]=e.trim(c[u]);if(l=l.concat(c),a.length>0)for(u=0;u<a.length;u++)!a[u].indexOf(" OR ")>=0&&o.push(a[u]);if(l.length>0)for(u=0;u<l.length;u++)!l[u].indexOf(" AND ")>=0&&o.push(l[u]);for(var p=void 0,m=0;m<o.length;m++){if((t=o[m])&&t.indexOf&&t.indexOf("..")>=0){var f=t.toString().split("..");2==f.length&&(g=r>=f[0]&&r<=f[1])}else var g=n(r,t);var v=m<a.length?"and":"or";p=null==p?g:"or"==v?p||g:p&&g}return p}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(o=i.toString().split("..")).length?r>=o[0]&&r<=o[1]:n(r,i)}},c=function(t,i,s,r){this.filtervalue=t,this.type="datefilter";var n=this;if(null!=s&&null!=r){var o=e.jqx.dataFormat.parsedate(t,s,r);if(null!=o)this.filterdate=o;else{var a=e.jqx.dataFormat.tryparsedate(t,r);null!=a&&(this.filterdate=a)}}else{var l;"NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l}this.filterdate||("NaN"==(l=new Date(t)).toString()||"Invalid Date"==l.toString()?this.filterdate=e.jqx.dataFormat.tryparsedate(t):this.filterdate=l);this.comparisonoperator=i,this.evaluate=function(t){var i=this.filtervalue,o=this.comparisonoperator;if(null==t||null==t||""==t){if("NOT_NULL"==o)return!1;if("NULL"==o)return!0;switch(o){case"EQUAL":return t==i;case"NOT_EQUAL":return t!=i}return!1}if("NULL"==o)return!1;if("NOT_NULL"==o)return!0;var a=new Date;a.setFullYear(1900,0,1),a.setHours(12,0,0,0);try{var l=new Date(t);a=t="NaN"==l.toString()||"Invalid Date"==l.toString()?e.jqx.dataFormat.tryparsedate(t):l;var h=!1;if(null!=s&&null!=r)if(s.indexOf("t")>=0||s.indexOf("T")>=0||s.indexOf(":")>=0||s.indexOf("f")>=0)if(h=!0,i&&-1==i.toString().indexOf(":"))null!=(q=e.jqx.dataFormat.tryparsedate(i.toString()+":00",r))&&(n.filterdate=q);null!=s&&(s.indexOf("hh")>=0||s.indexOf("t")>=0)&&(h=!0),h||(a.setHours(0),a.setMinutes(0),a.setSeconds(0))}catch(e){return t&&t.toString(),!1}if(null!=n.filterdate)i=n.filterdate;else if(i&&i.indexOf&&(-1!=i.indexOf(":")||!isNaN(parseInt(i)))){var d=new Date(a);d.setHours(12,0,0,0);for(var c=i.split(":"),u=0;u<c.length;u++)0==u&&d.setHours(c[u]),1==u&&d.setMinutes(c[u]),2==u&&d.setSeconds(c[u]);i=d}h&&i&&i.setFullYear&&a&&a.getFullYear&&-1==s.indexOf("d")&&-1==s.indexOf("M")&&-1==s.indexOf("y")&&i.setFullYear(a.getFullYear(),a.getMonth(),a.getDate());var p=function(t,i){switch(null==t&&(t=""),o){case"EQUAL":return t.toString()==i.toString();case"NOT_EQUAL":return t.toString()!=i.toString();case"GREATER_THAN":return t>i;case"GREATER_THAN_OR_EQUAL":return t>=i;case"LESS_THAN":return t<i;case"LESS_THAN_OR_EQUAL":return t<=i;case"STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(t.toString(),i.toString());case"ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(t.toString(),i.toString());case"STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(t.toString(),i.toString());case"CONTAINS":return e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(t.toString(),i.toString());case"DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(t.toString(),i.toString());case"DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(t.toString(),i.toString());default:return!0}},m=new Array;if(i&&i.indexOf&&(i.indexOf("|")>=0||i.indexOf(" AND ")>=0||i.indexOf(" OR ")>=0||i.indexOf(" and ")>=0||i.indexOf(" or ")>=0)){if(q=p(a,i))return q;var f=i.indexOf(" AND ")>=0?i.split(" AND "):new Array,g=i.indexOf(" OR ")>=0?i.split(" OR "):new Array,v=i.indexOf(" and ")>=0?i.split(" and "):new Array,x=i.indexOf(" or ")>=0?i.split(" or "):new Array;f=f.concat(v),g=g.concat(x);var b=i.indexOf("|")>=0?i.split("|"):new Array;if(b.length>0)for(u=0;u<b.length;u++)b[u]=e.trim(b[u]);if(g=g.concat(b),f.length>0)for(u=0;u<f.length;u++)!f[u].indexOf(" OR ")>=0&&m.push(f[u]);if(g.length>0)for(u=0;u<g.length;u++)!g[u].indexOf(" AND ")>=0&&m.push(g[u]);for(var y=void 0,w=0;w<m.length;w++){if((t=m[w])&&t.indexOf&&t.indexOf("..")>=0){var _=t.toString().split("..");2==_.length&&(q=a>=_[0]&&a<=_[1])}else var q=p(a,t);var j=w<f.length?"and":"or";y=null==y?q:"or"==j?y||q:y&&q}return y}return i&&i.indexOf&&i.indexOf("..")>=0&&2==(m=i.toString().split("..")).length?a>=m[0]&&a<=m[1]:p(a,i)}},u=function(e,t,i){this.filtervalue=e,this.comparisonoperator=t,this.evaluate=function(e,t){return i(this.filtervalue,e,this.comparisonoperator)}}}}(jqxBaseFramework),function(e){var t=function(){var i,s,r,n,o,a={};function l(t,r,n,o,a,l,c){var u=this;return u||(u=window.jqx),u.hierarchy=a,u.exportFormat=l,u.filename=c,t.beginFile(c),function(t){var i=!0;e.each(s,(function(){if(this.hidden)return i=!1,!1})),t.beginHeader(i);var r=0;for(var n in s){s[n].columnsDataFields&&(n=s[n].columnsDataFields[r].displayfield);var o=d(n,s[n]);t.appendHeaderCell(s[n],n,o,i,r),r++}t.endHeader(i)}(t),function(e){var t=this;t||(t=window.jqx);if(e.beginBody(),t.hierarchy){var s=function(t){for(var i=0;i<t.length;i+=1)void 0!==t[i]&&(e.hierarchy=!0,e.beginRow(t[i].level),h(e,t[i],i,!0),t[i].records&&(e.beginRows(t[i].level),s(t[i].records),e.endRows(t[i].level)),e.endRow(t[i].level))};return s(i),void e.endBody()}for(var r=0;r<i.length;r+=1)void 0!==i[r]&&h(e,i[r],r);e.endBody()}(t),t.endFile(c),t.getFile()}function h(t,i,r,n){var o,a=this;a||(a=window.jqx),1!=n&&t.beginRow();var l=0;for(var h in s){if(s[h].columnsDataFields&&(h=s[h].columnsDataFields[l].displayfield),o=u(r,h)){if(null!=o.level&&o.index-1>i.level&&o.index-1<o.maxLevel){l++;continue}null!=o.maxLevel&&o.index-1==o.maxLevel&&((o=e.extend({},o)).merge=o.maxLevel-i.level-1)}if(null!=i.level&&null!=i.label&&("xml"===a.exportFormat||"json"===a.exportFormat)){var d={text:"group"};t.appendBodyCell(i.label,d,o,i,l,"group");break}i.hasOwnProperty(h)?t.appendBodyCell(i[h],s[h],o,i,l):t.appendBodyCell("",s[h],o,i,l),l++}1!=n&&t.endRow()}function d(e,t){if(t.style)return r[t.style];var i=c();return i.length>0?i[0].style:null}function c(){return o||(o=new Array,e.each(r,(function(e,t){o[o.length]={name:e,style:t}}))),o}function u(e,t){var i=s[t];if(i){if(i.customCellStyles){var n=i.customCellStyles[e];if(n)return r[n]}if(i.cellStyle)return i.cellAltStyle?0==e%2?r[i.cellStyle]:r[i.cellAltStyle]:r[i.cellStyle];var o=c();if(o.length>0)return o[e%(o.length-1)+1].style}return null}function p(e,t,i){var s=document.createElement("input");return s.name=t,s.value=e,s.type="hidden",i.appendChild(s),s}function m(e,t,i,s,r){var n=document.createElement("form");return p(e,"filename",n),p(t,"format",n),function(e,t,i){var s=document.createElement("textarea");s.name=t,s.value=e,i.appendChild(s)}(i,"content",n),null!=s&&""!=s||(s=window&&window.location.toString().indexOf("jqwidgets.com")>=0?"https://jqwidgets.com/export_server/dataexport.php":"http://jquerygrid.net/export_server/dataexport.php"),n.action=s,n.method="post",r&&(n.acceptCharset=r),document.body.appendChild(n),n}return(n=function(n,o,h,d,c,u){if(!(this instanceof t))return new t(n,o,h,c,u);i=n,s=o,r=h,this.exportTo=function(t,i,s,r){t=t.toString().toLowerCase();var n=a[t];if(void 0===n)throw"You can't export to "+t+" format.";if("pdf"===t&&null==r){var o=this.exportTo(t,i,t,"pdf");e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var h=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);h.cellInitialize();var d=e(o).find("th"),c=e(o).find("tr"),u=0;h.setFontSize(9.75);var p=595;switch(e.jqx.pdfExport.paperSize){case"legal":p=612;"portrait"!==e.jqx.pdfExport.orientation&&(p=1008);break;case"letter":p=612;"portrait"!==e.jqx.pdfExport.orientation&&(p=792);break;case"a3":p=841;"portrait"!==e.jqx.pdfExport.orientation&&(p=1190);break;case"a4":p=595;"portrait"!==e.jqx.pdfExport.orientation&&(p=842);break;case"a5":p=420;"portrait"!==e.jqx.pdfExport.orientation&&(p=595)}p-=20;var m=0,f=[];if(e.each(d,(function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;f[e]=i,m+=i})),0===d.length&&e.each(c[0].cells,(function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=p/c[0].cells.length);var i=72*t/96;f[e]=i,m+=i})),m>p&&e.each(f,(function(e){f[e]=f[e]/m*100,f[e]=f[e]*p/100})),e.each(d,(function(t){var i,s=f[t],r=h.getTextDimensions(e(this).html()),n=e(this).html();r.w+3>s&&(n=(i=h.splitTextToSize(n,s-3)[0]).length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=h.splitTextToSize(n,s-3)[0])!=n&&(n=i));h.cell(10,10,s,18.75,n,u)})),u++,e.each(c,(function(t){if(0===t)return!0;var i=e(this).children();if(i.length>d.length&&d.length>0){for(var s=i.length-d.length,r="",n=f[0],o=18.75,a=0;a<=s;a++){var l=i[a].innerHTML;"+"!==l&&"-"!==l||(l+=" "),"&nbsp;"===l&&(l="   "),r+=l}if(h.getTextDimensions(r).w+3>n)r=(c=h.splitTextToSize(r,n-3)[0]).length>3?c.substring(0,c.length-3)+"...":c.substring(0,1)+"...",(c=h.splitTextToSize(r,n-3)[0])!=r&&(r=c);h.cell(10,10,n,o,r,u);for(a=s+1;a<i.length;a++){var c;n=f[t=a-s],o=18.75,r=e(i[a]).html();if(h.getTextDimensions(e(i[a]).html()).w+3>n)r=(c=h.splitTextToSize(r,n-3)[0]).length>3?c.substring(0,c.length-3)+"...":c.substring(0,1)+"...",(c=h.splitTextToSize(r,n-3)[0])!=r&&(r=c);h.cell(10,10,n,o,r,u)}return u++,!0}e.each(i,(function(t){var i,s=f[t],r=e(this).html();h.getTextDimensions(e(this).html()).w+3>s&&(r=(i=h.splitTextToSize(r,s-3)[0]).length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=h.splitTextToSize(r,s-3)[0])!=r&&(r=i));h.cell(10,10,s,18.75,r,u)})),u++})),e.jqx.browser.msie&&e.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");return h}return l(n,0,0,0,i,s,r)},this.exportToFile=function(t,i,s,r,n){if("pdf"!==t){var o=m(i,t,this.exportTo(t,n,t,i),s,r);o.submit(),document.body.removeChild(o)}else{var a=this.exportTo(t,n,t,i);e.jqx.pdfExport||(e.jqx.pdfExport={orientation:"portrait",paperSize:"a4"});var l=new pdfDataExport(e.jqx.pdfExport.orientation,"pt",e.jqx.pdfExport.paperSize);"utf-8"!=r&&"UTF-8"!=r||l.setFont("courier","normal"),l.cellInitialize();var h=e(a).find("th"),d=e(a).find("tr"),c=0;l.setFontSize(9.75);var u=595;switch(e.jqx.pdfExport.paperSize){case"legal":u=612;"portrait"!==e.jqx.pdfExport.orientation&&(u=1008);break;case"letter":u=612;"portrait"!==e.jqx.pdfExport.orientation&&(u=792);break;case"a3":u=841;"portrait"!==e.jqx.pdfExport.orientation&&(u=1190);break;case"a4":u=595;"portrait"!==e.jqx.pdfExport.orientation&&(u=842);break;case"a5":u=420;"portrait"!==e.jqx.pdfExport.orientation&&(u=595)}u-=20;var p=0,f=[];if(e.each(h,(function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=25);var i=72*t/96;f[e]=i,p+=i})),0===h.length&&e.each(d[0].cells,(function(e){var t=parseInt(this.style.width);isNaN(t)&&(t=u/d[0].cells.length);var i=72*t/96;f[e]=i,p+=i})),p>u&&e.each(f,(function(e){f[e]=f[e]/p*100,f[e]=f[e]*u/100})),e.each(h,(function(t){var i,s=f[t],r=l.getTextDimensions(e(this).html()),n=e(this).html();r.w+3>s&&(n=(i=l.splitTextToSize(n,s-3)[0]).length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=l.splitTextToSize(n,s-3)[0])!=n&&(n=i));l.cell(10,10,s,18.75,n,c)})),c++,e.each(d,(function(t){if(0===t)return!0;var i=e(this).children();if(i.length>h.length&&h.length>0){for(var s=i.length-h.length,r="",n=f[0],o=18.75,a=0;a<=s;a++){var d=i[a].innerHTML;"+"!==d&&"-"!==d||(d+=" "),"&nbsp;"===d&&(d="   "),r+=d}if(l.getTextDimensions(r).w+3>n)r=(u=l.splitTextToSize(r,n-3)[0]).length>3?u.substring(0,u.length-3)+"...":u.substring(0,1)+"...",(u=l.splitTextToSize(r,n-3)[0])!=r&&(r=u);l.cell(10,10,n,o,r,c);for(a=s+1;a<i.length;a++){var u;n=f[t=a-s],o=18.75;if("&nbsp;"===(r=e(i[a]).html())&&(r="   "),l.getTextDimensions(e(i[a]).html()).w+3>n)r=(u=l.splitTextToSize(r,n-3)[0]).length>3?u.substring(0,u.length-3)+"...":u.substring(0,1)+"...",(u=l.splitTextToSize(r,n-3)[0])!=r&&(r=u);l.cell(10,10,n,o,r,c)}return c++,!0}e.each(i,(function(t){var i,s=f[t],r=e(this).html();("&nbsp;"===r&&(r="   "),l.getTextDimensions(e(this).html()).w+3>s)&&(r=(i=l.splitTextToSize(r,s-3)[0]).length>3?i.substring(0,i.length-3)+"...":i.substring(0,1)+"...",(i=l.splitTextToSize(r,s-3)[0])!=r&&(r=i));l.cell(10,10,s,18.75,r,c)})),c++})),e.jqx.browser.msie&&e.jqx.browser.version<10)throw new Error("PDF export requires a browser with HTML5 support");l.save(i+".pdf")}},this.exportToLocalFile=function(e,t,i,s){var r=this.exportTo(e,i,s);document.location.href="data:application/octet-stream;filename="+t+","+encodeURIComponent(r)}}).extend=function(t,i){if(!(i instanceof e.jqx.dataAdapter.DataExportModuleBase))throw"The module "+t+" is not instance of DataExportModuleBase.";a[t]=i},n}();e.jqx.dataAdapter.ArrayExporter=t}(jqxBaseFramework),function(e){e.jqx.dataAdapter.DataExportModuleBase=function(){this.formatData=function(t,i,s,r){if("date"===i){var n="";if("string"==typeof t&&(t=n=e.jqx.dataFormat.tryparsedate(t)),""===t||null===t)return"";if((n=e.jqx.dataFormat.formatdate(t,s,r))&&"NaN"==n.toString()||null==n)return"";t=n}else if("number"===i||"float"===i||"int"===i||"integer"==i){if(""===t||null===t)return"";if(!isNaN(new Number(t))){var o=e.jqx.dataFormat.formatnumber(t,s,r);if("NaN"==o.toString())return"";t=o}}return null===t?"":t},this.getFormat=function(e){var t,i=e?e.formatString:"",s=e?e.localization:"";return"number"!=(t=e?e.type:"string")&&"float"!=t||i||(i="f2"),"int"!=t&&"integer"!=t||i||(i="n0"),"date"==t&&(i||(i="d")),{type:t,formatString:i,localization:s}},this.beginFile=function(){throw"Not implemented!"},this.beginHeader=function(){throw"Not implemented!"},this.appendHeaderCell=function(){throw"Not implemented!"},this.endHeader=function(){throw"Not implemented!"},this.beginBody=function(){throw"Not implemented!"},this.beginRow=function(){throw"Not implemented!"},this.beginRows=function(){throw"Not implemented!"},this.endRows=function(){throw"Not implemented!"},this.appendBodyCell=function(){throw"Not implemented!"},this.endRow=function(){throw"Not implemented!"},this.endBody=function(){throw"Not implemented!"},this.endFile=function(){throw"Not implemented!"},this.getFile=function(){throw"Not implemented!"}}}(jqxBaseFramework),function(e){var t=function(e){var t,i,s=0,r=this;function n(i,s){i=function(e,t){if(t){var i=r.getFormat(t);e=r.formatData(e,i.type,i.formatString,i.localization)}return'"'+e+'"'}(i,s),t+=i+e}this.beginFile=function(){t=""},this.beginHeader=function(){},this.appendHeaderCell=function(e,t,s,r,o){if(s&&null!=s.level){if(o<s.maxLevel)return;if(o===s.maxLevel){r&&n(e.text);for(var a=0;a<s.maxLevel;a++)n("");return}}i=r,r&&n(e.text)},this.endHeader=function(){this.endRow()},this.beginBody=function(){s=0},this.beginRow=function(){(s>0||0==s&&i)&&(t+="\n"),s++},this.appendBodyCell=function(e,t,i,s,r){if(i&&null!=i.maxLevel&&r===i.maxLevel){n(e,t);for(var o=0;o<i.maxLevel-s.level-1;o++)n("",t)}else n(e,t)},this.endRow=function(){t=t.substring(0,t.length-1)},this.endBody=function(){},this.endFile=function(){},this.getFile=function(){return t}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t(",");var s=function(){};s.prototype=new t("\t"),e.jqx.dataAdapter.ArrayExporter.extend("csv",new i),e.jqx.dataAdapter.ArrayExporter.extend("tsv",new s)}(jqxBaseFramework),function(e){var t=function(){var e,t,i=!1,s=0;function r(e){var t="";for(var s in e)e.hasOwnProperty(s)&&(i&&"font-size"==s&&(e[s]="100%"),t+=s+":"+e[s]+";");return t}this.setPDF=function(){i=!0},this.beginFile=function(t){e=i||null==t?'<table style="empty-cells: show;" cellspacing="0" cellpadding="2">':'<html>\n\t<head>\n\t\t<title></title>\n\t\t<meta http-equiv=Content-type content="text/html; charset=UTF-8">\n\t</head>\n\t<body>\n\t\t<table style="empty-cells: show;" cellspacing="0" cellpadding="2">'},this.beginHeader=function(){e+=i?"\n\t<thead><tr>":"\n\t\t\t<thead>"},this.appendHeaderCell=function(s,n,o,a){if(t=a,a)if(i)e+='\n\t\t\t\t<th style="'+r(o)+'">'+s.text+"</th>";else{if(o.disabled)return;o.merge?s.width?e+="\n\t\t\t\t<th colspan="+(1+o.merge)+' style="width: '+s.width+"px; "+r(o)+'">'+s.text+"</th>":e+="\n\t\t\t\t<th colspan="+(1+o.merge)+' style="'+r(o)+'">'+s.text+"</th>":s.width?e+='\n\t\t\t\t<th style="width: '+s.width+"px; "+r(o)+'">'+s.text+"</th>":e+='\n\t\t\t\t<th style="'+r(o)+'">'+s.text+"</th>"}},this.endHeader=function(){e+=i?"\n\t</tr></thead>":"\n\t\t\t</thead>"},this.beginBody=function(){e+=i?"\n\t<tbody>":"\n\t\t\t<tbody>",s=0},this.beginRow=function(){e+=i?"\n\t<tr>":"\n\t\t\t\t<tr>",s++},this.appendBodyCell=function(n,o,a){var l=this.getFormat(o);""===n&&(n="&nbsp;"),i?e+=1!=s||t?'\n\t\t\t\t\t<td style="'+r(a)+'">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":'\n\t\t\t\t\t<td style="'+r(a)+' border-top-width: 1px;">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":a.merge?e+=1!=s||t?"\n\t\t\t\t\t<td colspan="+(1+a.merge)+' style="'+r(a)+'">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":"\n\t\t\t\t\t<td colspan="+(1+a.merge)+' style="'+r(a)+' border-top-width: 1px;">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":e+=1!=s||t?'\n\t\t\t\t\t<td style="'+r(a)+'">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>":'\n\t\t\t\t\t<td style="'+r(a)+' border-top-width: 1px;">'+this.formatData(n,l.type,l.formatString,l.localization)+"</td>"},this.endRow=function(){e+=i?"\n\t</tr>":"\n\t\t\t\t</tr>"},this.endBody=function(){e+=i?"\n\t</tbody>":"\n\t\t\t</tbody>"},this.endFile=function(t){e+=i||null==t?"\n</table>":"\n\t\t</table>\n\t</body>\n</html>\n"},this.getFile=function(){return e}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase;var i=function(){};i.prototype=new t;var s=function(){};s.prototype=new t;var r=new s;e.jqx.dataAdapter.ArrayExporter.extend("html",new i),e.jqx.dataAdapter.ArrayExporter.extend("pdf",r)}(jqxBaseFramework),function(e){var t=function(){var e,t,i,s,r,n,o={style:"",stylesMap:{font:{color:"Color","font-family":"FontName","font-style":"Italic","font-weight":"Bold"},interior:{"background-color":"Color",background:"Color"},alignment:{left:"Left",center:"Center",right:"Right"}},startStyle:function(e){this.style+='\n\t\t<Style ss:ID="'+e+'" ss:Name="'+e+'">'},buildAlignment:function(e){if(e["text-align"]){var t=this.stylesMap.alignment[e["text-align"]];t||(t="Left");var i='\n\t\t\t<Alignment ss:Vertical="Bottom" ss:Horizontal="'+t+'"/>';this.style+=i}},buildBorder:function(e){if(e["border-color"]){var t="\n\t\t\t<Borders>";t+='\n\t\t\t\t<Border ss:Position="Bottom" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Left" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Right" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+='\n\t\t\t\t<Border ss:Position="Top" ss:LineStyle="Continuous" ss:Weight="1" ss:Color="'+e["border-color"]+'"/>',t+="\n\t\t\t</Borders>",this.style+=t}},buildFont:function(e){var t=this.stylesMap.font,i="\n\t\t\t<Font ";for(var s in t)void 0!==e[s]&&("font-style"===s&&"italic"===e[s].toString().toLowerCase()?i+='ss:Italic="1" ':"font-weight"===s&&"bold"===e[s].toString().toLowerCase()?i+='ss:Bold="1" ':"color"===s&&(i+="ss:"+t[s]+'="'+e[s]+'" '));i+="/>",this.style+=i},buildInterior:function(e){var t=this.stylesMap.interior,i="\n\t\t\t<Interior ",s=!1;for(var r in t)void 0!==e[r]&&(i+="ss:"+t[r]+'="'+e[r]+'" ',s=!0);s&&(i+='ss:Pattern="Solid"'),i+="/>",this.style+=i},buildFormat:function(e){if("number"==e.dataType||"float"==e.dataType||"int"==e.dataType||"integer"==e.dataType){var t=e.formatString;""==t||-1!=t.indexOf("n")||-1!=t.indexOf("N")?this.style+='\n\t\t\t<NumberFormat ss:Format="0"/>':"f"==t||"F"==t||"D"==t||-1!=t.indexOf("d")?this.style+='\n\t\t\t<NumberFormat ss:Format="#,##0.00_);[Red](#,##0.00)"/>':-1!=t.indexOf("p")||-1!=t.indexOf("P")?this.style+='\n\t\t\t<NumberFormat ss:Format="Percent"/>':-1==t.indexOf("c")&&-1==t.indexOf("C")||(e.currencysymbol&&8364==parseInt(e.currencysymbol.charCodeAt(0))?this.style+='\n\t\t\t<NumberFormat ss:Format="Euro Currency"/>':this.style+='\n\t\t\t<NumberFormat ss:Format="Currency"/>')}else"date"==e.dataType&&(this.style+='\n\t\t\t<NumberFormat ss:Format="Short Date"/>')},closeStyle:function(){this.style+="\n\t\t</Style>"},toString:function(){var e=this.style;return this.style="",e}};function a(i,s,a,h){var d="String",c=this.getFormat(s);if(null!=i&&"_AG"==i.toString().substring(0,3))i=i.toString().substring(3),d="String";else{if("date"==c.type){var u=i;null===(i=this.formatData(i,c.type,c.formatString,c.localization))||""===i?(i="",d="String"):(i=u.toISOString(),d="DateTime")}"string"==c.type&&(null==i?i="":(i.toString().indexOf("&")>=0&&(i=i.toString().replace(/&/g,"&amp;")),i.toString().indexOf(">")>=0&&(i=i.toString().replace(/>/g,"&gt;")),i.toString().indexOf("<")>=0&&(i=i.toString().replace(/</g,"&lt;")),i.toString().indexOf('"')>=0&&(i=i.toString().replace(/"/g,"&quot;")),i.toString().indexOf("'")>=0&&(i=i.toString().replace(/'/g,"&apos;")))),"number"!=a.dataType&&"float"!=a.dataType&&"int"!=a.dataType&&"integer"!=a.dataType||(d="Number",(null===(i=parseFloat(i))||isNaN(i)||""===i)&&(i="",d="String"),i&&"String"!=d&&""!=i&&s&&s.formatString&&s.formatString.indexOf("p")>=0&&(i/=100),a.currencysymbol=s.localization.currencysymbol)}var p=function(t){if(!t)return"";var i=function(e){for(var t in r)if(l(e,r[t])&&l(r[t],e))return t;return}(t);void 0===i&&(i="xls-style-"+(n+=1),r[i]=t,function(t,i){o.startStyle(t),o.buildAlignment(i),o.buildBorder(i),o.buildFont(i),o.buildInterior(i),o.buildFormat(i),o.closeStyle(),e+=o.toString()}(i,t));return i}(a);a.merge?t+='\n\t\t\t\t<Cell ss:MergeAcross="'+a.merge+'" ss:StyleID="'+p+'"><Data ss:Type="'+d+'">'+i+"</Data></Cell>":t+='\n\t\t\t\t<Cell ss:StyleID="'+p+'"><Data ss:Type="'+d+'">'+i+"</Data></Cell>"}function l(e,t){var i=!0;for(var s in e)e[s]!==t[s]&&(i=!1);return i}this.beginFile=function(){r={},n=0,e='<?xml version="1.0"?>\n\t<?mso-application progid="Excel.Sheet"?> \n\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:o="urn:schemas-microsoft-com:office:office" \n\txmlns:x="urn:schemas-microsoft-com:office:excel" \n\txmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \n\txmlns:html="http://www.w3.org/TR/REC-html40"> \n\t<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \n\t<Version>12.00</Version> \n\t</DocumentProperties> \n\t<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \n\t<WindowHeight>8130</WindowHeight> \n\t<WindowWidth>15135</WindowWidth> \n\t<WindowTopX>120</WindowTopX> \n\t<WindowTopY>45</WindowTopY> \n\t<ProtectStructure>False</ProtectStructure> \n\t<ProtectWindows>False</ProtectWindows> \n\t</ExcelWorkbook> \n\t<Styles>'},this.beginHeader=function(){t='\n\t<Worksheet ss:Name="Sheet1">\n\t\t<Table>',i=[],s=[]},this.appendHeaderCell=function(e,r,n){var o=null!=e.width?e.width:10*e.text.length;t+='\n\t\t\t<Column ss:Width="'+o+'"/>',i.push(e),s.push(n)},this.endHeader=function(e){if(e){this.beginRow();for(var t=0;t<i.length;t+=1)s[t].disabled||a.call(this,i[t].text,null,s[t]);this.endRow()}},this.beginBody=function(){},this.beginRow=function(e){if(null==e)t+="\n\t\t\t<Row>";else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="<Row>"}},this.beginRows=function(e){t+="\n\t\t\t\t<Rows>"},this.appendBodyCell=function(e,t,i,s){a.call(this,e,t,i,s)},this.endRow=function(e){if(null==e)t+="\n\t\t\t</Row>";else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="</Row>"}},this.endRows=function(e){if(null==e);else{t+="\n\t\t\t";for(var i=0;i<e;i++)t+="\t";t+="</Rows>"}},this.endBody=function(){t+="\n\t\t</Table>"},this.endFile=function(){t+="\n\t</Worksheet>\n</Workbook>",e+="\n\t</Styles>"},this.getFile=function(){return e+t}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xls",new t)}(jqxBaseFramework),function(e){var t=function(){var e,t,i;this.beginFile=function(){e='<?xml version="1.0" encoding="UTF-8" ?>',e+="\n<table>"},this.beginHeader=function(){t=[]},this.appendHeaderCell=function(e,i){t.push(i)},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(t){var s=this;if(s||(s=window.jqx),null!=t&&s.hierarchy){e+="\n\t";for(var r=0;r<t;r++)e+="\t\t";return e+="<row>",void(i=0)}e+="\n\t<row>",i=0},this.beginRows=function(t){if(null!=t){e+="\n\t\t";for(var s=0;s<t;s++)e+="\t\t";return e+="<rows>",void(i=0)}e+="\n\t\t<rows>"},this.appendBodyCell=function(s,r,n,o,a,l){var h=this;h||(h=window.jqx);var d=this.getFormat(r);if(s=this.formatData(s,d.type,d.formatString,d.localization),"string"==d.type&&(s.toString().indexOf("&")>=0&&(s=s.toString().replace(/&/g,"&amp;")),s.toString().indexOf(">")>=0&&(s=s.toString().replace(/>/g,"&gt;")),s.toString().indexOf("<")>=0&&(s=s.toString().replace(/</g,"&lt;")),s.toString().indexOf('"')>=0&&(s=s.toString().replace(/"/g,"&quot;")),s.toString().indexOf("'")>=0&&(s=s.toString().replace(/'/g,"&apos;"))),null!=o.level)if(h.hierarchy){e+="\n\t\t";for(var c=0;c<o.level;c++)e+="\t\t";e+=void 0===l?"<"+t[i]+">"+s+"</"+t[i]+">":"<"+l+">"+s+"</"+l+">"}else e+=null!=l?"\n\t\t<"+l+">"+s+"</"+l+">":"\n\t\t<"+t[i]+">"+s+"</"+t[i]+">";else e+="\n\t\t<"+t[i]+">"+s+"</"+t[i]+">";i++},this.endRow=function(t){var s=this;if(s||(s=window.jqx),null!=t&&s.hierarchy){e+="\n\t";for(var r=0;r<t;r++)e+="\t\t";return e+="</row>",void(i=0)}e+="\n\t</row>",i=0},this.endRows=function(t){if(null!=t){e+="\n\t\t";for(var s=0;s<t;s++)e+="\t\t";return e+="</rows>",void(i=0)}e+="\n\t\t</rows>"},this.endBody=function(){},this.endFile=function(){e+="\n</table>"},this.getFile=function(){return e}};t.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("xml",new t)}(jqxBaseFramework),function(e){var t=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function s(e){return'"'+e.replace(t,(function(e){var t=i[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"'}function r(e){return e<10?"0"+e:e}function n(e){switch(Object.prototype.toString.call(e)){case"[object Date]":return t=e,isFinite(t.valueOf())?t.getUTCFullYear()+"-"+r(t.getUTCMonth()+1)+"-"+r(t.getUTCDate())+"T"+r(t.getUTCHours())+":"+r(t.getUTCMinutes())+":"+r(t.getUTCSeconds())+'Z"':"null";case"[object Array]":return function(e){var t,i=e.length,s=[];for(t=0;t<i;t++)s.push(o(t,e)||"null");return"["+s.join(",")+"]"}(e)}var t;return function(e){var t,i,r=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&(i=o(t,e))&&r.push(s(t)+":"+i);return"{"+r.join(",")+"}"}(e)}function o(e,t){var i=t[e],r=typeof i;return i&&"object"==typeof i&&"function"==typeof i.toJSON&&(r=typeof(i=i.toJSON(e))),/(number|float|int|integer|string|boolean)/.test(r)||!i&&"object"===r?function(e,t){switch(t){case"string":return s(e);case"number":case"float":case"integer":case"int":return isFinite(e)?e:"null";case"boolean":return e}return"null"}(i,r):n(i)}var a=function(){var e=this;this.prepareData=function(t,i){if(i){var s=e.getFormat(i);t=e.formatData(t,s.type,s.formatString,s.localization)}return t};var t,i,s,r=[],n=0;this.beginFile=function(){i=[]},this.beginHeader=function(){},this.appendHeaderCell=function(e){},this.endHeader=function(){},this.beginBody=function(e,t){},this.beginRow=function(){var e=this;e||(e=window.jqx),e.hierarchy||window.jqx.hierarchy?r[n]={}:s={}},this.beginRows=function(){r[n].rows=[],n++,r[n]={}},this.endRows=function(){n--},this.appendBodyCell=function(e,t){var i=this;i||(i=window.jqx);var o=this.prepareData(e,t);i.hierarchy||window.jqx.hierarchy?r[n][t.text]=o:s[t.text]=o},this.endRow=function(){var e=this;e||(e=window.jqx),e.hierarchy||window.jqx.hierarchy?0==n?i.push(r[n]):r[n-1].rows.push(r[n]):i.push(s)},this.endBody=function(){},this.endFile=function(){t=function(e){return window.JSON&&"function"==typeof window.JSON.stringify?window.JSON.stringify(e):o("",{"":e})}(i)},this.getFile=function(){return t}};a.prototype=new e.jqx.dataAdapter.DataExportModuleBase,e.jqx.dataAdapter.ArrayExporter.extend("json",new a)}(jqxBaseFramework);var pdfDataExport=window.jqxPdfDataExport=function(){"undefined"==typeof btoa&&(window.btoa=function(e){var t,i,s,r,n,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),l=0,h=0,d="",c=[];do{t=(n=e.charCodeAt(l++)<<16|e.charCodeAt(l++)<<8|e.charCodeAt(l++))>>18&63,i=n>>12&63,s=n>>6&63,r=63&n,c[h++]=a[t]+a[i]+a[s]+a[r]}while(l<e.length);return d=c.join(""),((o=e.length%3)?d.slice(0,o-3):d)+"===".slice(o||3)}),"undefined"==typeof atob&&(window.atob=function(e){var t,i,s,r,n,o,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l=0,h=0,d=[];if(!e)return e;e+="";do{t=(o=a.indexOf(e.charAt(l++))<<18|a.indexOf(e.charAt(l++))<<12|(r=a.indexOf(e.charAt(l++)))<<6|(n=a.indexOf(e.charAt(l++))))>>16&255,i=o>>8&255,s=255&o,d[h++]=64===r?String.fromCharCode(t):64===n?String.fromCharCode(t,i):String.fromCharCode(t,i,s)}while(l<e.length);return d.join("")});var e="function"==typeof Object.keys?function(e){return Object.keys(e).length}:function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i},t=function(e){this.topics={},this.context=e,this.publish=function(e,t){if(this.topics[e]){var i,s,r,n,o=this.topics[e],a=[],l=function(){};for(t=Array.prototype.slice.call(arguments,1),s=0,r=o.length;s<r;s++)i=(n=o[s])[0],n[1]&&(n[0]=l,a.push(s)),i.apply(this.context,t);for(s=0,r=a.length;s<r;s++)o.splice(a[s],1)}},this.subscribe=function(e,t,i){return this.topics[e]?this.topics[e].push([t,i]):this.topics[e]=[[t,i]],{topic:e,callback:t}},this.unsubscribe=function(e){if(this.topics[e.topic]){var t,i,s=this.topics[e.topic];for(t=0,i=s.length;t<i;t++)s[t][0]===e.callback&&s.splice(t,1)}}};function i(s,r,n,o){s=void 0===s?"p":s.toString().toLowerCase(),void 0===r&&(r="mm"),void 0===n&&(n="a4"),void 0===o&&"undefined"==typeof zpipe&&(o=!1);var a,l,h,d,c,u,p,m,f,g=n.toString().toLowerCase(),v=[],x=0,b=o,y={a3:[841.89,1190.55],a4:[595.28,841.89],a5:[420.94,595.28],letter:[612,792],legal:[612,1008]},w="0 g",_=0,q=[],j=2,T=!1,C=[],I={},S={},k=16,P={title:"",subject:"",author:"",keywords:"",creator:""},H=0,B=0,D={},z=new t(D),E=function(e){return e.toFixed(2)},A=function(e){return e.toFixed(3)},M=function(e){var t=e.toFixed(0);return e<10?"0"+t:t},O=function(e){var t=e.toFixed(0);return t.length<10?new Array(11-t.length).join("0")+t:t},N=function(e){T?q[_].push(e):(v.push(e),x+=e.length+1)},L=function(){return j++,C[j]=x,N(j+" 0 obj"),j},W=function(e){N("stream"),N(e),N("endstream")},R=function(e){e.objectNumber=L(),N("<</BaseFont/"+e.PostScriptName+"/Type/Font"),"string"==typeof e.encoding&&N("/Encoding/"+e.encoding),N("/Subtype/Type1>>"),N("endobj")},F=function(){var e;for(e in N("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),N("/Font <<"),I)I.hasOwnProperty(e)&&N("/"+e+" "+I[e].objectNumber+" 0 R");N(">>"),N("/XObject <<"),z.publish("putXobjectDict"),N(">>")},V=function(){!function(){var e;for(e in I)I.hasOwnProperty(e)&&R(I[e])}(),z.publish("putResources"),C[2]=x,N("2 0 obj"),N("<<"),F(),N(">>"),N("endobj"),z.publish("postPutResources")},U=function(e,t,i){undefined===S[t]&&(S[t]={}),S[t][i]=e},K=function(t,i,s,r){var n="F"+(e(I)+1).toString(10),o=I[n]={id:n,PostScriptName:t,fontName:i,fontStyle:s,encoding:r,metadata:{}};return U(n,i,s),z.publish("addFont",o),n},G=function(e,t){return function(e,t){var i,s,r,n,o,l,h,d,c,u;if(t===r&&(t={}),n=t.sourceEncoding?n:"Unicode",l=t.outputEncoding,(t.autoencode||l)&&I[a].metadata&&I[a].metadata[n]&&I[a].metadata[n].encoding&&(o=I[a].metadata[n].encoding,!l&&I[a].encoding&&(l=I[a].encoding),!l&&o.codePages&&(l=o.codePages[0]),"string"==typeof l&&(l=o[l]),l)){for(d=!1,h=[],i=0,s=e.length;i<s;i++)(c=l[e.charCodeAt(i)])?h.push(String.fromCharCode(c)):h.push(e[i]),h[i].charCodeAt(0)>>8&&(d=!0);e=h.join("")}for(i=e.length;d===r&&0!==i;)e.charCodeAt(i-1)>>8&&(d=!0),i--;if(d){for(h=t.noBOM?[]:[254,255],i=0,s=e.length;i<s;i++){if((u=(c=e.charCodeAt(i))>>8)>>8)throw new Error("Character at position "+i.toString(10)+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");h.push(u),h.push(c-(u<<8))}return String.fromCharCode.apply(r,h)}return e}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},X=function(){_++,T=!0,q[_]=[],N(E(.200025*d)+" w"),N("0 G"),0!==H&&N(H.toString(10)+" J"),0!==B&&N(B.toString(10)+" j"),z.publish("addPage",{pageNumber:_})},Y=function(e,t){var i,s;e===s&&(e=I[a].fontName),t===s&&(t=I[a].fontStyle);try{i=S[e][t]}catch(e){i=s}if(!i)throw new Error("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts.");return i},J=function(){T=!1,v=[],C=[],N("%PDF-1.3"),function(){var e,t,i,s,r,n;for(p=h*d,m=l*d,e=1;e<=_;e++){if(L(),N("<</Type /Page"),N("/Parent 1 0 R"),N("/Resources 2 0 R"),N("/Contents "+(j+1)+" 0 R>>"),N("endobj"),t=q[e].join("\n"),L(),b){for(i=[],s=0;s<t.length;++s)i[s]=t.charCodeAt(s);for(s in n=adler32cs.from(t),(r=new Deflater(6)).append(new Uint8Array(i)),t=r.flush(),i=[new Uint8Array([120,156]),new Uint8Array(t),new Uint8Array([255&n,n>>8&255,n>>16&255,n>>24&255])],t="",i)i.hasOwnProperty(s)&&(t+=String.fromCharCode.apply(null,i[s]));N("<</Length "+t.length+" /Filter [/FlateDecode]>>")}else N("<</Length "+t.length+">>");W(t),N("endobj")}for(C[1]=x,N("1 0 obj"),N("<</Type /Pages"),f="/Kids [",s=0;s<_;s++)f+=3+2*s+" 0 R ";N(f+"]"),N("/Count "+_),N("/MediaBox [0 0 "+E(p)+" "+E(m)+"]"),N(">>"),N("endobj")}(),V(),L(),N("<<"),function(){N("/Producer (pdfDataExport 0.9.0rc2)"),P.title&&N("/Title ("+G(P.title)+")"),P.subject&&N("/Subject ("+G(P.subject)+")"),P.author&&N("/Author ("+G(P.author)+")"),P.keywords&&N("/Keywords ("+G(P.keywords)+")"),P.creator&&N("/Creator ("+G(P.creator)+")");var e=new Date;N("/CreationDate (D:"+[e.getFullYear(),M(e.getMonth()+1),M(e.getDate()),M(e.getHours()),M(e.getMinutes()),M(e.getSeconds())].join("")+")")}(),N(">>"),N("endobj"),L(),N("<<"),N("/Type /Catalog"),N("/Pages 1 0 R"),N("/OpenAction [3 0 R /FitH null]"),N("/PageLayout /OneColumn"),z.publish("putCatalog"),N(">>"),N("endobj");var e,t=x;for(N("xref"),N("0 "+(j+1)),N("0000000000 65535 f "),e=1;e<=j;e++)N(O(C[e])+" 00000 n ");return N("trailer"),N("<<"),N("/Size "+(j+1)),N("/Root "+j+" 0 R"),N("/Info "+(j-1)+" 0 R"),N(">>"),N("startxref"),N(t),N("%%EOF"),T=!0,v.join("\n")},$=function(e){var t="S";return"F"===e?t="f":"FD"!==e&&"DF"!==e||(t="B"),t},Q=function(e,t){var i,s,r,n,o;switch(e){case undefined:return J();case"save":if(navigator.getUserMedia){if(void 0===window.URL)return D.output("dataurlnewwindow");if(void 0===window.URL.createObjectURL)return D.output("dataurlnewwindow")}for(s=(i=J()).length,r=new Uint8Array(new ArrayBuffer(s)),n=0;n<s;n++)r[n]=i.charCodeAt(n);o=new Blob([r],{type:"application/pdf"}),saveAs(o,t);break;case"datauristring":case"dataurlstring":return"data:application/pdf;base64,"+btoa(J());case"datauri":case"dataurl":document.location.href="data:application/pdf;base64,"+btoa(J());break;case"dataurlnewwindow":window.open("data:application/pdf;base64,"+btoa(J()));break;default:throw new Error('Output type "'+e+'" is not supported.')}};if("pt"===r)d=1;else if("mm"===r)d=72/25.4;else if("cm"===r)d=72/2.54;else{if("in"!==r)throw"Invalid unit: "+r;d=72}if(y.hasOwnProperty(g))l=y[g][1]/d,h=y[g][0]/d;else try{l=n[1],h=n[0]}catch(e){throw"Invalid format: "+n}if("p"===s||"portrait"===s)s="p",h>l&&(c=h,h=l,l=c);else{if("l"!==s&&"landscape"!==s)throw"Invalid orientation: "+s;s="l",l>h&&(c=h,h=l,l=c)}D.internal={pdfEscape:G,getStyle:$,getFont:function(){return I[Y.apply(D,arguments)]},getFontSize:function(){return k},btoa:btoa,write:function(e,t,i,s){N(1===arguments.length?e:Array.prototype.join.call(arguments," "))},getCoordinateString:function(e){return E(e*d)},getVerticalCoordinateString:function(e){return E((l-e)*d)},collections:{},newObject:L,putStream:W,events:z,scaleFactor:d,pageSize:{width:h,height:l},output:function(e,t){return Q(e,t)}},D.addPage=function(){return X(),this};var Z=["","0","00","000","0000"],ee=function(e,t){for(var i,s=["FEFF"],r=0,n=e.length;r<n;++r)i=e.charCodeAt(r).toString(16).toUpperCase(),s.push(Z[4-i.length],i);return s.join("")};for(u in D.text16=function(e,t,i,s){var r,n,o,h,c,u;if("number"==typeof e&&(n=e,o=t,e=i,t=n,i=o),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===s?s={noBOM:!0,autoencode:!0}:(s.noBOM===r&&(s.noBOM=!0),s.autoencode===r&&(s.autoencode=!0)),s.autoencode=!1,"string"==typeof e)c=ee(e);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(u=(h=e.concat()).length-1;-1!==u;u--)h[u]=ee(h[u]);c=h.join("> Tj\nT* <")}return N("BT\n/"+a+" "+k+" Tf\n"+k+" TL\n"+w+"\n"+E(t*d)+" "+E((l-i)*d)+" Td\n<"+c+"> Tj\nET"),this},D.text=function(e,t,i,s){var r,n,o,h,c,u;if("number"==typeof e&&(n=e,o=t,e=i,t=n,i=o),"string"==typeof e&&e.match(/[\n\r]/)&&(e=e.split(/\r\n|\r|\n/g)),void 0===s?s={noBOM:!0,autoencode:!0}:(s.noBOM===r&&(s.noBOM=!0),s.autoencode===r&&(s.autoencode=!0)),"string"==typeof e)c=G(e,s);else{if(!(e instanceof Array))throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');for(u=(h=e.concat()).length-1;-1!==u;u--)h[u]=G(h[u],s);c=h.join(") Tj\nT* (")}return N("BT\n/"+a+" "+k+" Tf\n"+k+" TL\n"+w+"\n"+E(t*d)+" "+E((l-i)*d)+" Td\n("+c+") Tj\nET"),this},D.line=function(e,t,i,s){return N(E(e*d)+" "+E((l-t)*d)+" m "+E(i*d)+" "+E((l-s)*d)+" l S"),this},D.lines=function(e,t,i,s,r){var n,o,a,h,c,u,p,m,f,g,v,x,b;for("number"==typeof e&&(n=e,o=t,e=i,t=n,i=o),r=$(r),s=undefined===s?[1,1]:s,N(A(t*d)+" "+A((l-i)*d)+" m "),a=s[0],h=s[1],u=e.length,x=t,b=i,c=0;c<u;c++)2===(p=e[c]).length?(x=p[0]*a+x,b=p[1]*h+b,N(A(x*d)+" "+A((l-b)*d)+" l")):(m=p[0]*a+x,f=p[1]*h+b,g=p[2]*a+x,v=p[3]*h+b,x=p[4]*a+x,b=p[5]*h+b,N(A(m*d)+" "+A((l-f)*d)+" "+A(g*d)+" "+A((l-v)*d)+" "+A(x*d)+" "+A((l-b)*d)+" c"));return N(r),this},D.rect=function(e,t,i,s,r){var n=$(r);return N([E(e*d),E((l-t)*d),E(i*d),E(-s*d),"re",n].join(" ")),this},D.triangle=function(e,t,i,s,r,n,o){return this.lines([[i-e,s-t],[r-i,n-s],[e-r,t-n]],e,t,[1,1],o),this},D.roundedRect=function(e,t,i,s,r,n,o){var a=4/3*(Math.SQRT2-1);return this.lines([[i-2*r,0],[r*a,0,r,n-n*a,r,n],[0,s-2*n],[0,n*a,-r*a,n,-r,n],[2*r-i,0],[-r*a,0,-r,-n*a,-r,-n],[0,2*n-s],[0,-n*a,r*a,-n,r,-n]],e+r,t,[1,1],o),this},D.ellipse=function(e,t,i,s,r){var n=$(r),o=4/3*(Math.SQRT2-1)*i,a=4/3*(Math.SQRT2-1)*s;return N([E((e+i)*d),E((l-t)*d),"m",E((e+i)*d),E((l-(t-a))*d),E((e+o)*d),E((l-(t-s))*d),E(e*d),E((l-(t-s))*d),"c"].join(" ")),N([E((e-o)*d),E((l-(t-s))*d),E((e-i)*d),E((l-(t-a))*d),E((e-i)*d),E((l-t)*d),"c"].join(" ")),N([E((e-i)*d),E((l-(t+a))*d),E((e-o)*d),E((l-(t+s))*d),E(e*d),E((l-(t+s))*d),"c"].join(" ")),N([E((e+o)*d),E((l-(t+s))*d),E((e+i)*d),E((l-(t+a))*d),E((e+i)*d),E((l-t)*d),"c",n].join(" ")),this},D.circle=function(e,t,i,s){return this.ellipse(e,t,i,i,s)},D.setProperties=function(e){var t;for(t in P)P.hasOwnProperty(t)&&e[t]&&(P[t]=e[t]);return this},D.setFontSize=function(e){return k=e,this},D.setFont=function(e,t){return a=Y(e,t),this},D.setFontStyle=D.setFontType=function(e){return a=Y(undefined,e),this},D.getFontList=function(){var e,t,i,s={};for(e in S)if(S.hasOwnProperty(e))for(t in s[e]=i=[],S[e])S[e].hasOwnProperty(t)&&i.push(t);return s},D.setLineWidth=function(e){return N((e*d).toFixed(2)+" w"),this},D.setDrawColor=function(e,t,i,s){var r;return r=void 0===t||void 0===s&&e===t===i?"string"==typeof e?e+" G":E(e/255)+" G":void 0===s?"string"==typeof e?[e,t,i,"RG"].join(" "):[E(e/255),E(t/255),E(i/255),"RG"].join(" "):"string"==typeof e?[e,t,i,s,"K"].join(" "):[E(e),E(t),E(i),E(s),"K"].join(" "),N(r),this},D.setFillColor=function(e,t,i,s){var r;return r=void 0===t||void 0===s&&e===t===i?"string"==typeof e?e+" g":E(e/255)+" g":void 0===s?"string"==typeof e?[e,t,i,"rg"].join(" "):[E(e/255),E(t/255),E(i/255),"rg"].join(" "):"string"==typeof e?[e,t,i,s,"k"].join(" "):[E(e),E(t),E(i),E(s),"k"].join(" "),N(r),this},D.setTextColor=function(e,t,i){return w=0===e&&0===t&&0===i||void 0===t?A(e/255)+" g":[A(e/255),A(t/255),A(i/255),"rg"].join(" "),this},D.CapJoinStyles={0:0,butt:0,but:0,bevel:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,milter:2},D.setLineCap=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return H=t,N(t.toString(10)+" J"),this},D.setLineJoin=function(e){var t=this.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return B=t,N(t.toString(10)+" j"),this},D.output=Q,D.save=function(e){D.output("save",e)},i.API)i.API.hasOwnProperty(u)&&("events"===u&&i.API.events.length?function(e,t){var i,s,r;for(r=t.length-1;-1!==r;r--)i=t[r][0],s=t[r][1],e.subscribe.apply(e,[i].concat("function"==typeof s?[s]:s))}(z,i.API.events):D[u]=i.API[u]);return function(){var e,t,i,s,r="helvetica",n="times",o="courier",a="normal",l="bold",h="italic",d="bolditalic",c=[["Helvetica",r,a],["Helvetica-Bold",r,l],["Helvetica-Oblique",r,h],["Helvetica-BoldOblique",r,d],["Courier",o,a],["Courier-Bold",o,l],["Courier-Oblique",o,h],["Courier-BoldOblique",o,d],["Times-Roman",n,a],["Times-Bold",n,l],["Times-Italic",n,h],["Times-BoldItalic",n,d]];for(e=0,t=c.length;e<t;e++){i=K(c[e][0],c[e][1],c[e][2],"StandardEncoding"),s=c[e][0].split("-"),U(i,s[0],s[1]||"")}z.publish("addFonts",{fonts:I,dictionary:S})}(),a="F1",X(),z.publish("initialized"),D}return i.API={events:[]},i}();!function(e){var t,i,s,r=0,n=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=!1,h=function(e,t,i,s,r){o={x:e,y:t,w:i,h:s,ln:r}},d=function(){return o},c=function(){return r},u=function(e){n=e},p=function(e){return n};e.getTextDimensions=function(e){t=this.internal.getFont().fontName,i=this.internal.getFontSize(),s=this.internal.getFont().fontStyle;var r,n,o=19.049976/25.4;return(n=document.createElement("font")).id="pdfDataExportCell",n.style.fontStyle=s,n.style.fontName=t,n.style.fontSize=i+"pt",n.innerHTML=e,document.body.appendChild(n),r={w:(n.offsetWidth+1)*o,h:(n.offsetHeight+1)*o},document.body.removeChild(n),r},e.cellAddPage=function(){this.addPage(),h(void 0,void 0,void 0,void 0,void 0),l=!0,a+=1,u(1)},e.cellInitialize=function(){r=0,o={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},a=1,l=!1,u(0)},e.cell=function(e,t,i,s,n,o){this.lnMod=void 0===this.lnMod?0:this.lnMod,!0!==this.printingHeaderRow&&0!==this.lnMod&&(o+=this.lnMod),(o*s+t+2*s)/a>=this.internal.pageSize.height&&1===a&&!l?(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(o),this.lnMod+=1,o+=1),0===c()&&function(e){r=e}(Math.round((this.internal.pageSize.height-2*s)/s))):l&&d().ln!==o&&p()===c()&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&(this.printHeaderRow(o),this.lnMod+=1,o+=1));var m=d(),f=(this.getTextDimensions(n),1);return void 0!==m.x&&m.ln===o&&(e=m.x+m.w),void 0!==m.y&&m.y===t&&(t=m.y),void 0!==m.h&&m.h===s&&(s=m.h),void 0!==m.ln&&m.ln===o&&(o=m.ln,f=0),l?t=s*(p()+f):t+=s*Math.abs(c()*a-o-c()),this.rect(e,t,i,s),/[Ð°-ÑÐ-Ð¯ÐÑ]/.test(n)?this.text16(n,e+3,t+s-3):this.text(n,e+3,t+s-3),u(p()+f),h(e,t,i,s,o),this},e.getKeys="function"==typeof Object.keys?function(e){return e?Object.keys(e):[]}:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i},e.arrayMax=function(e,t){var i,s,r,n=e[0];for(i=0,s=e.length;i<s;i+=1)r=e[i],t?-1===t(n,r)&&(n=r):r>n&&(n=r);return n},e.table=function(t,i,s){var r,n,o,a,l,h,d,c,u,p=[],m=[],f={},g={},v=[],x=[];if(this.lnMod=0,s&&(s.autoSize||!1,this.printHeaders=s.printHeaders||!0,s.autoStretch||!0),!t)throw"No data for PDF table";if(null==i)p=this.getKeys(t[0]);else if(i[0]&&"string"!=typeof i[0])for(n=0,o=i.length;n<o;n+=1)r=i[n],p.push(r.name),m.push(r.prompt);else p=i;if(s.autoSize)for(u=function(e){return e[r]},n=0,o=p.length;n<o;n+=1){for(f[r=p[n]]=t.map(u),v.push(this.getTextDimensions(m[n]||r).w),h=0,o=(l=f[r]).length;h<o;h+=1)a=l[h],v.push(this.getTextDimensions(a).w);g[r]=e.arrayMax(v)}if(s.printHeaders){for(n=0,o=p.length;n<o;n+=1)r=p[n],x.push([10,10,g[r],25,String(m.length?m[n]:r)]);this.setTableHeaderRow(x),this.printHeaderRow(1)}for(n=0,o=t.length;n<o;n+=1)for(d=t[n],h=0,c=p.length;h<c;h+=1)r=p[h],this.cell(10,10,g[r],25,String(d[r]),n+2);return this},e.setTableHeaderRow=function(e){this.tableHeaderRow=e},e.printHeaderRow=function(e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var t,i,s,r;for(this.printingHeaderRow=!0,s=0,r=this.tableHeaderRow.length;s<r;s+=1)t=this.tableHeaderRow[s],i=[].concat(t),this.cell.apply(this,i.concat(e));this.printingHeaderRow=!1}}(pdfDataExport.API),function(e){var t=e.getCharWidthsArray=function(e,t){t||(t={});var i,s,r,n=t.widths?t.widths:this.internal.getFont().metadata.Unicode.widths,o=n.fof?n.fof:1,a=t.kerning?t.kerning:this.internal.getFont().metadata.Unicode.kerning,l=a.fof?a.fof:1,h=0,d=n[0]||o,c=[];for(i=0,s=e.length;i<s;i++)r=e.charCodeAt(i),c.push((n[r]||d)/o+(a[r]&&a[r][h]||0)/l),h=r;return c},i=function(e){for(var t=e.length,i=0;t;)i+=e[--t];return i},s=(e.getStringUnitWidth=function(e,s){return i(t.call(this,e,s))},function(e,t,i,s){for(var r=[],n=0,o=e.length,a=0;n!==o&&a+t[n]<i;)a+=t[n],n++;r.push(e.slice(0,n));var l=n;for(a=0;n!==o;)a+t[n]>s&&(r.push(e.slice(l,n)),a=0,l=n),a+=t[n],n++;return l!==n&&r.push(e.slice(l,n)),r}),r=function(e,r,n){n||(n={});var o,a,l,h,d,c=t(" ",n)[0],u=e.split(" "),p=[],m=[p],f=n.textIndent||0,g=0,v=0;for(l=0,h=u.length;l<h;l++)if(o=u[l],a=t(o,n),f+g+(v=i(a))>r){if(v>r){for(d=s(o,a,r-(f+g),r),p.push(d.shift()),p=[d.pop()];d.length;)m.push([d.shift()]);v=i(a.slice(o.length-p[0].length))}else p=[o];m.push(p),f=v,g=c}else p.push(o),f+=g+v,g=c;var x=[];for(l=0,h=m.length;l<h;l++)x.push(m[l].join(" "));return x};e.splitTextToSize=function(e,t,i){i||(i={});var s,n=i.fontSize||this.internal.getFontSize(),o=function(e){var t={0:1},i={};if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var s=this.internal.getFont(e.fontName,e.fontStyle),r="Unicode";return s.metadata[r]?{widths:s.metadata[r].widths||t,kerning:s.metadata[r].kerning||i}:{widths:t,kerning:i}}.call(this,i);s=e.match(/[\n\r]/)?e.split(/\r\n|\r|\n/g):[e];var a=1*this.internal.scaleFactor*t/n;o.textIndent=i.textIndent?1*i.textIndent*this.internal.scaleFactor/n:0;var l,h,d=[];for(l=0,h=s.length;l<h;l++)d=d.concat(r(s[l],a,o));return d}}(pdfDataExport.API),function(e){var t="addImage_",i=function(e){var t=this.internal.newObject(),i=this.internal.write,s=this.internal.putStream;if(e.n=t,i("<</Type /XObject"),i("/Subtype /Image"),i("/Width "+e.w),i("/Height "+e.h),"Indexed"===e.cs?i("/ColorSpace [/Indexed /DeviceRGB "+(e.pal.length/3-1)+" "+(t+1)+" 0 R]"):(i("/ColorSpace /"+e.cs),"DeviceCMYK"===e.cs&&i("/Decode [1 0 1 0 1 0 1 0]")),i("/BitsPerComponent "+e.bpc),"f"in e&&i("/Filter /"+e.f),"dp"in e&&i("/DecodeParms <<"+e.dp+">>"),"trns"in e&&e.trns.constructor==Array)for(var r="",n=0;n<e.trns.length;n++)i("/Mask ["+(r+=e[r][n]+" "+e.trns[n]+" ")+"]");"smask"in e&&i("/SMask "+(t+1)+" 0 R"),i("/Length "+e.data.length+">>"),s(e.data),i("endobj")},s=function(){var e=this.internal.collections[t+"images"];for(var s in e)i.call(this,e[s])},r=function(){var e,i=this.internal.collections[t+"images"],s=this.internal.write;for(var r in i)s("/I"+(e=i[r]).i,e.n,"0","R")};e.addImage=function(e,i,n,o,a,l){if("object"==typeof e&&1===e.nodeType){var h=document.createElement("canvas");h.width=e.clientWidth,h.height=e.clientHeight;var d=h.getContext("2d");if(!d)throw"addImage requires canvas to be supported by browser.";d.drawImage(e,0,0,h.width,h.height),e=h.toDataURL("image/jpeg"),i="JPEG"}if("JPEG"!==i.toUpperCase())throw new Error("addImage currently only supports format 'JPEG', not '"+i+"'");var c,u=this.internal.collections[t+"images"],p=this.internal.getCoordinateString,m=this.internal.getVerticalCoordinateString;"data:image/jpeg;base64,"===e.substring(0,23)&&(e=atob(e.replace("data:image/jpeg;base64,",""))),u?c=Object.keys?Object.keys(u).length:function(e){var t=0;for(var i in e)e.hasOwnProperty(i)&&t++;return t}(u):(c=0,this.internal.collections[t+"images"]=u={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",r));var f=function(e){var t;if(255===!e.charCodeAt(0)||216===!e.charCodeAt(1)||255===!e.charCodeAt(2)||224===!e.charCodeAt(3)||!e.charCodeAt(6)==="J".charCodeAt(0)||!e.charCodeAt(7)==="F".charCodeAt(0)||!e.charCodeAt(8)==="I".charCodeAt(0)||!e.charCodeAt(9)==="F".charCodeAt(0)||0===!e.charCodeAt(10))throw new Error("getJpegSize requires a binary jpeg file");for(var i=256*e.charCodeAt(4)+e.charCodeAt(5),s=4,r=e.length;s<r;){if(s+=i,255!==e.charCodeAt(s))throw new Error("getJpegSize could not find the size of the image");if(192===e.charCodeAt(s+1))return t=256*e.charCodeAt(s+5)+e.charCodeAt(s+6),[256*e.charCodeAt(s+7)+e.charCodeAt(s+8),t];s+=2,i=256*e.charCodeAt(s)+e.charCodeAt(s+1)}}(e),g={w:f[0],h:f[1],cs:"DeviceRGB",bpc:8,f:"DCTDecode",i:c,data:e};return u[c]=g,a||l||(a=-96,l=-96),a<0&&(a=-1*g.w*72/a/this.internal.scaleFactor),l<0&&(l=-1*g.h*72/l/this.internal.scaleFactor),0===a&&(a=l*g.w/g.h),0===l&&(l=a*g.h/g.w),this.internal.write("q",p(a),"0 0",p(l),p(n),m(o+l),"cm /I"+g.i,"Do Q"),this}}(pdfDataExport.API),function(e){var t=function(e){for(var t="klmnopqrstuvwxyz",i={},s=0;s<t.length;s++)i[t[s]]="0123456789abcdef"[s];var r,n,o,a,l,h={},d=1,c=h,u=[],p="",m="",f=e.length-1;for(s=1;s!=f;)l=e[s],s+=1,"'"==l?n?(a=n.join(""),n=r):n=[]:n?n.push(l):"{"==l?(u.push([c,a]),c={},a=r):"}"==l?((o=u.pop())[0][o[1]]=c,a=r,c=o[0]):"-"==l?d=-1:a===r?i.hasOwnProperty(l)?(p+=i[l],a=parseInt(p,16)*d,d=1,p=""):p+=l:i.hasOwnProperty(l)?(m+=i[l],c[a]=parseInt(m,16)*d,d=1,a=r,m=""):m+=l;return h},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:t("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},s={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},r={Unicode:{"Courier-Oblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":t("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":t("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":t("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":t("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":t("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":t("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":t("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFonts",function(e){var t,i,n,o,a,l="Unicode";for(i in e.fonts)e.fonts.hasOwnProperty(i)&&(t=e.fonts[i],(n=r[l][t.PostScriptName])&&((o=t.metadata[l]?t.metadata[l]:t.metadata[l]={}).widths=n.widths,o.kerning=n.kerning),(a=s[l][t.PostScriptName])&&((o=t.metadata[l]?t.metadata[l]:t.metadata[l]={}).encoding=a,a.codePages&&a.codePages.length&&(t.encoding=a.codePages[0])))}])}(pdfDataExport.API);var saveAs=window.jqxSaveAs=saveAs||navigator.msSaveBlob&&navigator.msSaveBlob.bind(navigator)||function(e){var t=e.document,i=e.URL||e.webkitURL||e,s=$("<a></a>")[0],r="download"in s,n=e.webkitRequestFileSystem,o=e.requestFileSystem||n||e.mozRequestFileSystem,a=function(t){(e.setImmediate||e.setTimeout)((function(){throw t}),0)},l="application/octet-stream",h=0,d=[],c=function(e,t,i){for(var s=(t=[].concat(t)).length;s--;){var r=e["on"+t[s]];if("function"==typeof r)try{r.call(e,i||e)}catch(e){a(e)}}},u=function(i,a){var u,p,m,f=this,g=i.type,v=!1,x=function(){var t=(e.URL||e.webkitURL||e).createObjectURL(i);return d.push(t),t},b=function(){c(f,"writestart progress write writeend".split(" "))},y=function(){!v&&u||(u=x()),p&&(p.location.href=u),f.readyState=f.DONE,b()},w=function(e){return function(){if(f.readyState!==f.DONE)return e.apply(this,arguments)}},_={create:!0,exclusive:!1};if(f.readyState=f.INIT,a||(a="download"),r&&(u=x(),s.href=u,s.download=a,function(i){var s=t.createEvent("MouseEvents");return s.initMouseEvent("click",!0,!1,e,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(s)}(s)))return f.readyState=f.DONE,void b();e.chrome&&g&&g!==l&&(m=i.slice||i.webkitSlice,i=m.call(i,0,i.size,l),v=!0),n&&"download"!==a&&(a+=".download"),p=g===l||n?e:e.open(),o?(h+=i.size,o(e.TEMPORARY,h,w((function(e){e.root.getDirectory("saved",_,w((function(e){var t=function(){e.getFile(a,_,w((function(e){e.createWriter(w((function(t){t.onwriteend=function(t){p.location.href=e.toURL(),d.push(e),f.readyState=f.DONE,c(f,"writeend",t)},t.onerror=function(){var e=t.error;e.code!==e.ABORT_ERR&&y()},"writestart progress write abort".split(" ").forEach((function(e){t["on"+e]=f["on"+e]})),t.write(i),f.abort=function(){t.abort(),f.readyState=f.DONE},f.readyState=f.WRITING})),y)})),y)};e.getFile(a,{create:!1},w((function(e){e.remove(),t()})),w((function(e){e.code===e.NOT_FOUND_ERR?t():y()})))})),y)})),y)):y()},p=u.prototype;return p.abort=function(){var e=this;e.readyState=e.DONE,c(e,"abort")},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,e.addEventListener&&e.addEventListener("unload",(function(){for(var e=d.length;e--;){var t=d[e];"string"==typeof t?i.revokeObjectURL(t):t.remove()}d.length=0}),!1),function(e,t){return new u(e,t)}}(self);!function(e){e.output=function(e,t){return this.internal.output(e,t)}}(pdfDataExport.API),function(e){e.jqx.jqxWidget("jqxMenu","",{}),e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var t={items:new Array,mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:10,menuElements:new Array,autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:1e3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:["shown","closed","itemclick","initialized","open","close"]};return this===e.jqx._jqxMenu.prototype||e.extend(!0,this,t),t},createInstance:function(t){var i=this;if(this.host.attr("role","menubar"),e.jqx.utilities.resize(this.host,(function(){i.refresh()}),!1,"popup"!=this.mode),"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize((function(){i.refresh()})),i.isMaterialized()){var s=window.getComputedStyle(this.element).getPropertyValue("--jqx-dropdown-animation");s&&(this.animationType=s.trim(),"transform"===this.animationType&&(this.animationShowDuration=0,this.animationHideDuration=0,this.animationShowDelay=0))}if(this.host.css("outline","none"),this.source&&null!=this.source){var r=this.loadItems(this.source);this.element.innerHTML=r}if(this._tmpHTML=this.element.innerHTML,this.element.innerHTML.indexOf("UL")){var n=this.host.find("ul:first");n.length>0&&this._createMenu(n[0])}this.host.data("autoclose",{}),this._render(),this._setSize(),e.jqx.browser.msie&&e.jqx.browser.version<8&&this.host.attr("hideFocus",!0)},focus:function(){try{if("popup"===this.mode&&this.keyboardNavigation)this.host.closest("div.jqx-menu-wrapper").focus();if(this.keyboardNavigation){this.host.focus();var t=this,i=function(){if(e.jqx.isHidden(e(t.items[0].element))){var i=t._nextVisibleItem(t.items[0],0);i&&(e(i.element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=i)}else e(t.items[0].element).addClass(t.toThemeProperty("jqx-fill-state-focus")),t.activeItem=t.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),i()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):i()}}catch(e){}},loadItems:function(t,i){if(null!=t){if(0==t.length)return"";var s=this;this.items=new Array;var r='<ul class="jqx-menu-ul">';return i&&(r='<ul class="jqx-menu-ul" style="width:'+i+';">'),e.map(t,(function(e){if(null==e)return null;r+=s._parseItem(e)})),r+="</ul>"}},_parseItem:function(e){var t="";if(null==e)return null;var i=e.label;!e.label&&e.html&&(i=e.html),i||(i="Item"),"string"==typeof e&&(i=e);null!=e.selected&&e.selected;var s=!1;return null!=e.disabled&&e.disabled&&(s=!0),t+="<li",s&&(t+=' item-disabled="true" '),e.label&&!e.html&&(t+=' item-label="'+i+'" '),null!=e.value&&(t+=' item-value="'+e.value+'" '),null!=e.id&&(t+=' id="'+e.id+'" '),t+=">"+i,e.items&&(e.subMenuWidth?t+=this.loadItems(e.items,e.subMenuWidth):t+=this.loadItems(e.items)),t+="</li>"},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):null==this.width||isNaN(this.width)||this.host.width(this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):null==this.height||isNaN(this.height)||this.host.height(this.height),null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var t=e(window).width();if(!e.jqx.response){var i=!1;if(navigator.userAgent.match(/Windows|Linux|MacOS/))navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0||(i=!0);var s=this.minimizeWidth;if(i&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){var r=new e.jqx.response;"Phone"!=r.device.type&&"Tablet"!=r.device.type||this.minimized||this.minimize()}else t<s&&!this.minimized?this.minimize():this.minimized&&t>=s&&this.restore()}},minimize:function(){if(!this.minimized){var t=this;if(this.host.addClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!0,this._tmpMode=this.mode,this.mode="simple",(r=this.host.closest("div.jqx-menu-wrapper")).remove(),e("#menuWrapper"+this.element.id).remove(),e.each(this.items,(function(){e(this.element);e(this.subMenuElement).closest("div.jqx-menu-popup").remove()})),this.source){var i=this.loadItems(this.source);this.element.innerHTML=i,this._tmpHTML=this.element.innerHTML}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var s=this.host.find("ul:first");s.length>0&&this._createMenu(s[0])}this._render();var r,n=this.host.find("ul:first");n.wrap('<div class="jqx-menu-wrapper" style="z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>'),(r=n.closest("div.jqx-menu-wrapper"))[0].id="menuWrapper"+this.element.id,r.detach(),r.appendTo(e(document.body)),r.addClass(this.toThemeProperty("jqx-widget")),r.addClass(this.toThemeProperty("jqx-menu")),r.addClass(this.toThemeProperty("jqx-menu-minimized")),r.addClass(this.toThemeProperty("jqx-widget-header")),n.children().hide(),r.hide(),r.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.minimizedItem=e("<div></div>"),this.minimizedItem.addClass(this.toThemeProperty("jqx-item")),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top")),this.addHandler(r,"keydown",(function(e){return t.handleKeyDown(e)})),this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button")),this.minimizedItem.prependTo(this.host),this.titleElement=e("<div>"+this.title+"</div>"),this.titleElement.addClass(this.toThemeProperty("jqx-item")),this.titleElement.addClass(this.toThemeProperty("jqx-menu-title")),this.titleElement.prependTo(this.host),e("<div style='clear:both;'></div>").insertAfter(this.minimizedItem),t.minimizedHidden=!0;var o=function(e){if(t.minimizedHidden){r.find("ul:first").children().show(),t.minimizedHidden=!1,r.show(),r.css("opacity",0),r.css("left",-r.outerWidth());var i=!1,s=r.width();"right"==t.minimizedItem.css("float")&&(r.css("left",t.host.coord().left+t.host.width()+s),i=!0),r.css("top",t.host.coord().top+t.host.height()),r.animate({left:i?t.host.coord().left+t.host.width()-s:t.host.coord().left,opacity:.95},t.animationShowDuration,(function(){}))}else!function(e){t.minimizedHidden=!0,t.minimizedItem.show();var i=!1;"right"==t.minimizedItem.css("float")&&(i=!0),r.animate({left:i?t.host.coord().left+t.host.width()+r.width():-r.outerWidth(),opacity:0},t.animationHideDuration,(function(){r.find("ul:first").children().hide(),r.hide()}))}();t._raiseEvent("2",{type:"mouse",item:t.minimizedItem[0],event:e}),t._setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,(function(e){setTimeout((function(){if(!t.minimizedHidden){var e=r.width(),i=!1;e=r.width();"right"==t.minimizedItem.css("float")&&(i=!0),r.css("top",t.host.coord().top+t.host.height()),r.css({left:i?t.host.coord().left+t.host.width()-e:t.host.coord().left})}}),25)})),this.addHandler(this.minimizedItem,"click",(function(e){o(e)}))}},restore:function(){if(this.minimized){if(this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized")),this.host.removeClass(this.toThemeProperty("jqx-menu-minimized")),this.minimized=!1,this.mode=this._tmpMode,this.minimizedItem&&this.minimizedItem.remove(),e("#menuWrapper"+this.element.id).remove(),this.source){var t=this.loadItems(this.source);this.element.innerHTML=t,this._tmpHTML=t}if(this.element.innerHTML=this._tmpHTML,this.element.innerHTML.indexOf("UL")){var i=this.host.find("ul:first");i.length>0&&this._createMenu(i[0])}this._setSize(),this._render()}},isTouchDevice:function(){if(null!=this._isTouchDevice)return this._isTouchDevice;var t=e.jqx.mobile.isTouchDevice();return 1==this.touchMode?t=!0:0==this.touchMode&&(t=!1),t&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch"))),this._isTouchDevice=t,t},refresh:function(e){e||this._setSize()},resize:function(e,t){this.width=e,this.height=t,this.refresh()},_closeAll:function(t){var i=null!=t?t.data:this,s=i.items;(e.each(s,(function(){var e=this;1==e.hasItems&&e.isOpen&&i._closeItem(i,e)})),"popup"==i.mode)&&(null!=t&&(i._isRightClick(t)||i.close()))},closeItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,(function(){var e=this;1==e.isOpen&&e.element==s&&(r._closeItem(r,e),e.parentId)})),!0},openItem:function(t){if(null==t)return!1;var i=t,s=document.getElementById(i),r=this;return e.each(r.items,(function(){var e=this;0==e.isOpen&&e.element==s&&(r._openItem(r,e),e.parentId&&r.openItem(e.parentId))})),!0},_getClosedSubMenuOffset:function(t){var i=e(t.subMenuElement),s=-i.outerHeight(),r=-i.outerWidth(),n=0==t.level&&"horizontal"==this.mode;switch(n?r=0:s=0,t.openVerticalDirection){case"up":case"center":s=i.outerHeight()}switch(t.openHorizontalDirection){case this._getDir("left"):case"center":r=n?0:i.outerWidth()}return{left:r,top:s}},_closeItem:function(t,i,s,r){if(null==t||null==i)return!1;var n=e(i.subMenuElement),o=0==i.level&&"horizontal"==this.mode,a=this._getClosedSubMenuOffset(i),l=a.top,h=a.left,d=(e(i.element),n.closest("div.jqx-menu-popup"));if(null!=d){d.removeClass("show");var c=t.animationHideDelay;1==r&&(c=0),n.data("timer")&&null!=n.data("timer").show&&(clearTimeout(n.data("timer").show),n.data("timer").show=null);var u=function(){i.isOpen=!1,o?n.stop().animate({top:l},t.animationHideDuration,(function(){e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),e(i.element).removeClass(t.toThemeProperty("jqx-rc-b-expanded")),d.removeClass(t.toThemeProperty("jqx-rc-t-expanded"));var s=e(i.arrow);s.length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),0==t.animationHideDuration&&n.css({top:l}),t._raiseEvent("1",i)})):(e.jqx.browser.msie,n.stop().animate({left:h},t.animationHideDuration,(function(){var s;(0==t.animationHideDuration&&n.css({left:h}),i.level>0)?(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))))):(e(i.element).removeClass(t.toThemeProperty("jqx-fill-state-pressed")),e(i.element).removeClass(t.toThemeProperty("jqx-menu-item-top-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("right"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-top-"+t._getDir("left"))),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left"))))));e.jqx.aria(e(i.element),"aria-expanded",!1),d.css({display:"none"}),t._raiseEvent("1",i)})))};if(c>0?n.data("timer")&&(n.data("timer").hide=setTimeout((function(){u()}),c)):u(),null!=s&&s){var p=n.children();e.each(p,(function(){if(t.menuElements[this.id]&&t.menuElements[this.id].isOpen){e(t.menuElements[this.id].subMenuElement);t._closeItem(t,t.menuElements[this.id],!0,!0)}}))}}},getSubItems:function(t,i){if(null==t)return!1;var s=this,r=new Array;null!=i&&e.extend(r,i);var n=t,o=this.menuElements[n],a=e(o.subMenuElement).find(".jqx-menu-item");return e.each(a,(function(){r[this.id]=s.menuElements[this.id];var t=s.getSubItems(this.id,r);e.extend(r,t)})),r},disable:function(t,i){if(null!=t){var s=t,r=this;if(this.menuElements[s]){var n=this.menuElements[s];n.disabled=i;var o=e(n.element);n.element.disabled=i,e.each(o.children(),(function(){this.disabled=i})),i?(o.addClass(r.toThemeProperty("jqx-menu-item-disabled")),o.addClass(r.toThemeProperty("jqx-fill-state-disabled"))):(o.removeClass(r.toThemeProperty("jqx-menu-item-disabled")),o.removeClass(r.toThemeProperty("jqx-fill-state-disabled")))}}},getItem:function(e){return this.menuElements[e]?this.menuElements[e]:null},disableItem:function(e){this.disable(e,!0)},hideItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).hide()}},showItem:function(t){if(this.menuElements[t]){var i=this.menuElements[t];e(i.element).show()}},enableItem:function(e){this.disable(e,!1)},_setItemProperty:function(e,t,i){if(null!=e){var s=e;if(this.menuElements[s]){var r=this.menuElements[s];r[t]&&(r[t]=i)}}},setItemOpenDirection:function(t,i,s){if(null!=t){var r=t,n=this,o=e.jqx.browser.msie&&e.jqx.browser.version<8;if(this.menuElements[r]){var a=this.menuElements[r];if(null!=i)if(a.openHorizontalDirection=i,a.hasItems&&a.level>0)if(null!=(h=e(a.element))){var l=e(a.arrow);null==a.arrow&&(l=e('<span id="arrow'+h[0].id+'"></span>'),o?l.appendTo(h):l.prependTo(h),a.arrow=l[0]),l.removeClass(),"left"==a.openHorizontalDirection?(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("left"))),l.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("left")))):(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-"+n._getDir("right"))),l.addClass(n.toThemeProperty("jqx-icon-arrow-"+n._getDir("right")))),l.css("visibility","inherit"),o?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right"))}if(null!=s){a.openVerticalDirection=s;l=e(a.arrow);var h=e(a.element);if(!n.showTopLevelArrows)return;null!=h&&(null==a.arrow&&(l=e('<span id="arrow'+h[0].id+'"></span>'),o?l.appendTo(h):l.prependTo(h),a.arrow=l[0]),l.removeClass(),"down"==a.openVerticalDirection?(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-down")),l.addClass(n.toThemeProperty("jqx-icon-arrow-down"))):(l.addClass(n.toThemeProperty("jqx-menu-item-arrow-up")),l.addClass(n.toThemeProperty("jqx-icon-arrow-up"))),l.css("visibility","inherit"),o?(l.css("display","inline-block"),l.css("float","none")):(l.css("display","block"),l.css("float","right")))}}}},_getSiblings:function(e){for(var t=new Array,i=0,s=0;s<this.items.length;s++)this.items[s]!=e&&this.items[s].parentId==e.parentId&&this.items[s].hasItems&&(t[i++]=this.items[s]);return t},_openItem:function(t,i,s){if(null==t||null==i)return!1;if(i.isOpen)return!1;if(i.disabled)return!1;if(t.disabled)return!1;var r=t.popupZIndex;null!=s&&(r=s);var n=t.animationHideDuration;t.animationHideDuration=0,t._closeItem(t,i,!0,!0),t.animationHideDuration=n,e(i.element).focus();var o=[5,5],a=e(i.subMenuElement);null!=a&&a.stop(),a.data("timer")&&null!=a.data("timer").hide&&clearTimeout(a.data("timer").hide);var l=a.closest("div.jqx-menu-popup"),h=e(i.element),d=0==i.level?this._getOffset(i.element):h.position();if(i.level>0&&this.hasTransform){var c=parseInt(h.coord().top)-parseInt(this._getOffset(i.element).top);d.top+=c}0==i.level&&"popup"==this.mode&&(d=h.coord());var u=0==i.level&&"horizontal"==this.mode,p=u?d.left:null!=this.menuElements[i.parentId]&&null!=this.menuElements[i.parentId].subMenuElement?parseInt(e(e(this.menuElements[i.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-o[0]:parseInt(a.outerWidth());if(l.css({visibility:"visible",display:"block",left:p,top:u?d.top+h.outerHeight():d.top,zIndex:r}),a.css("display","block"),"horizontal"!=this.mode&&0==i.level){var m=this._getOffset(this.element);l.css("left",-1+m.left+this.host.outerWidth()),a.css("left",-a.outerWidth())}else{var f=this._getClosedSubMenuOffset(i);a.css("left",f.left),a.css("top",f.top)}l.css({height:parseInt(a.outerHeight())+parseInt(o[1])+"px"});var g=0,v=0;switch(i.openVerticalDirection){case"up":if(u){a.css("top",a.outerHeight()),g=o[1];var x=parseInt(a.parent().css("padding-bottom"));isNaN(x)&&(x=0),x>0&&l.addClass(this.toThemeProperty("jqx-menu-popup-clear")),a.css("top",a.outerHeight()-x),l.css({display:"block",top:d.top-l.outerHeight(),zIndex:r})}else g=o[1],a.css("top",a.outerHeight()),l.css({display:"block",top:d.top-l.outerHeight()+o[1]+h.outerHeight(),zIndex:r});break;case"center":u?(a.css("top",0),l.css({display:"block",top:d.top-l.outerHeight()/2+o[1],zIndex:r})):(a.css("top",0),l.css({display:"block",top:d.top+h.outerHeight()/2-l.outerHeight()/2+o[1],zIndex:r}))}switch(i.openHorizontalDirection){case this._getDir("left"):u?l.css({left:d.left-(l.outerWidth()-h.outerWidth()-o[0])}):(v=0,a.css("left",l.outerWidth()),l.css({left:d.left-l.outerWidth()+2*i.level}));break;case"center":u?l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-o[0]/2)}):(l.css({left:d.left-(l.outerWidth()/2-h.outerWidth()/2-o[0]/2)}),a.css("left",l.outerWidth()))}if(u){if(parseInt(a.css("top"))==g)return void(i.isOpen=!0)}else if(parseInt(a.css("left"))==v)return void i.isOpen;e.each(t._getSiblings(i),(function(){t._closeItem(t,this,!0,!0)}));var b=e.data(t.element,"animationHideDelay");t.animationHideDelay=b,this.autoCloseInterval>0&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout((function(){t._closeAll()}),this.autoCloseInterval))),a.data("timer")&&(a.data("timer").show=setTimeout((function(){if(null!=l)if(u){a.stop(),a.css("left",v),e.jqx.browser.msie,h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),"down"==i.openVerticalDirection?(e(i.element).addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("show"))):(e(i.element).addClass(t.toThemeProperty("jqx-rc-t-expanded")),l.addClass(t.toThemeProperty("jqx-rc-b-expanded")),l.addClass(t.toThemeProperty("show"))),(s=e(i.arrow)).length>0&&t.showTopLevelArrows&&(s.removeClass(),"down"==i.openVerticalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-down-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-down"))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-up-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-up")))),0==t.animationShowDuration?(a.css({top:g}),i.isOpen=!0,t._raiseEvent("0",i),e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({top:g},t.animationShowDuration,t.easing,(function(){i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0),t._raiseEvent("0",i)}))}else{var s;if(a.stop(),a.css("top",g),l.addClass(t.toThemeProperty("show")),e.jqx.browser.msie,i.level>0)h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));else h.addClass(t.toThemeProperty("jqx-fill-state-pressed")),h.addClass(t.toThemeProperty("jqx-menu-item-top-selected")),(s=e(i.arrow)).length>0&&(s.removeClass(),"left"!=i.openHorizontalDirection?(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("right")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("right")))):(s.addClass(t.toThemeProperty("jqx-menu-item-arrow-"+t._getDir("left")+"-selected")),s.addClass(t.toThemeProperty("jqx-icon-arrow-"+t._getDir("left")))));e.jqx.browser.msie,0==t.animationShowDuration?(a.css({left:v}),t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)):a.animate({left:v},t.animationShowDuration,t.easing,(function(){t._raiseEvent("0",i),i.isOpen=!0,e.jqx.aria(e(i.element),"aria-expanded",!0)}))}}),this.animationShowDelay))},_getDir:function(e){switch(e){case"left":return this.rtl?"right":"left";case"right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(t,i){var s=this,r=0;if(s.host.removeClass(s.toThemeProperty("jqx-menu-horizontal")),s.host.removeClass(s.toThemeProperty("jqx-menu-vertical")),s.host.removeClass(s.toThemeProperty("jqx-menu")),s.host.removeClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-widget")),s.host.addClass(s.toThemeProperty("jqx-menu")),null!=t&&null!=i&&"popup"==i){if(s.host.parent().length>0&&s.host.parent().parent().length>0&&s.host.parent().parent()[0]==document.body){var n=e.data(document.body,"jqxMenuOldHost"+s.element.id);if(null!=n)(o=s.host.closest("div.jqx-menu-wrapper")).remove(),o.appendTo(n),s.host.css("display","block"),s.host.css("visibility","visible"),o.css("display","block"),o.css("visibility","visible")}}else null==t&&null==i&&e.data(document.body,"jqxMenuOldHost"+s.element.id,s.host.parent()[0]);switch(s.autoOpenPopup?"popup"==s.mode?(s.addHandler(e(document),"contextmenu."+s.element.id,(function(e){return!1})),s.addHandler(e(document),"mousedown.menu"+s.element.id,(function(e){s._openContextMenu(e)}))):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id)):(s.removeHandler(e(document),"contextmenu."+s.element.id),s.removeHandler(e(document),"mousedown.menu"+s.element.id),s.addHandler(e(document),"contextmenu."+s.element.id,(function(e){if(e.target&&e.target.className.indexOf&&e.target.className.indexOf("jqx-menu")>=0)return!1}))),s.rtl&&s.host.addClass(s.toThemeProperty("jqx-rtl")),s.mode){case"horizontal":s.host.addClass(s.toThemeProperty("jqx-widget-header")),s.host.addClass(s.toThemeProperty("jqx-menu-horizontal")),e.each(s.items,(function(){var t=this,i=e(t.element);((n=e(t.arrow)).removeClass(),t.hasItems&&t.level>0)&&((n=e('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>')).prependTo(i),n.css("float",s._getDir("right")),n.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),n.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right"))),t.arrow=n[0]);if(0==t.level){if(e(t.element).css("float",s._getDir("left")),!t.ignoretheme&&t.hasItems&&s.showTopLevelArrows){var n=e('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>'),o=e.jqx.browser.msie&&e.jqx.browser.version<8;null==t.arrow?o?n.appendTo(i):n.prependTo(i):n=e(t.arrow),"down"==t.openVerticalDirection?(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-down")),n.addClass(s.toThemeProperty("jqx-icon-arrow-down"))):(n.addClass(s.toThemeProperty("jqx-menu-item-arrow-up")),n.addClass(s.toThemeProperty("jqx-icon-arrow-up"))),n.css("visibility","inherit"),o?n.css("display","inline-block"):(n.css("display","block"),n.css("float","right")),t.arrow=n[0]}else{if(!t.ignoretheme&&t.hasItems&&!s.showTopLevelArrows)if(null!=t.arrow)(n=e(t.arrow)).remove(),t.arrow=null}r=Math.max(r,i.height())}}));break;case"vertical":case"popup":case"simple":if(s.host.addClass(s.toThemeProperty("jqx-menu-vertical")),e.each(s.items,(function(){var t=this,i=e(t.element);if(t.hasItems&&!t.ignoretheme){if(t.arrow&&e(t.arrow).remove(),"simple"==s.mode)return!0;var r=e('<span style="border: none; background-color: transparent;" id="arrow'+i[0].id+'"></span>');r.prependTo(i),r.css("float","right"),0==t.level?(r.addClass(s.toThemeProperty("jqx-menu-item-arrow-top-"+s._getDir("right"))),r.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))):(r.addClass(s.toThemeProperty("jqx-menu-item-arrow-"+s._getDir("right"))),r.addClass(s.toThemeProperty("jqx-icon-arrow-"+s._getDir("right")))),t.arrow=r[0]}i.css("float","none")})),"popup"==s.mode){s.host.addClass(s.toThemeProperty("jqx-widget-content")),s.host.wrap('<div tabindex=0 class="jqx-menu-wrapper" style="z-index:'+s.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"></div>');var o=s.host.closest("div.jqx-menu-wrapper");s.host.addClass(s.toThemeProperty("jqx-popup")),o[0].id="menuWrapper"+s.element.id,o.appendTo(e(document.body)),s.addHandler(o,"keydown",(function(e){return s.handleKeyDown(e)}))}else s.host.addClass(s.toThemeProperty("jqx-widget-header"));if("popup"==s.mode){var a=s.host.height();s.host.css("position","absolute"),s.host.css("top","0"),s.host.css("left","0"),"simple"!=s.mode&&(s.host.height(a),s.host.css("display","none"))}}var l=s.isTouchDevice();s.autoCloseOnClick&&(s.removeHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick),s.addHandler(e(document),"mousedown.menu"+s.element.id,s._closeAfterClick,s),l&&(s.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s),s.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+s.element.id,s._closeAfterClick,s)))},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},_getOffset:function(t){var i=e.jqx.mobile.isSafariMobileBrowser(),s=e(t).coord(!0),r=s.top,n=s.left;"0px"!=e("body").css("border-top-width")&&(r=parseInt(r)+this._getBodyOffset().top),"0px"!=e("body").css("border-left-width")&&(n=parseInt(n)+this._getBodyOffset().left);var o=e.jqx.mobile.isWindowsPhone(),a=e.jqx.mobile.isTouchDevice();return this.hasTransform||null!=i&&i||o||a?{left:e.jqx.mobile.getLeftPos(t),top:e.jqx.mobile.getTopPos(t)}:{left:n,top:r}},_isRightClick:function(e){var t;if(!e)e=window.event;return e.which?t=3==e.which:e.button&&(t=2==e.button),t},_openContextMenu:function(e){this._isRightClick(e)&&this.open(parseInt(e.clientX)+5,parseInt(e.clientY)+5)},close:function(){var t=this;if(this.element&&e.data(this.element,"contextMenuOpened"+this.element.id)){this.host;t.host.removeClass("jqx-popup-show"),e.each(t.items,(function(){this.hasItems&&t._closeItem(t,this)})),e.each(t.items,(function(){1==this.isOpen&&e(this.subMenuElement).closest("div.jqx-menu-popup").hide(this.animationHideDuration)})),this.host.hide(this.animationHideDuration),e.data(t.element,"contextMenuOpened"+this.element.id,!1),t._raiseEvent("1",t),t._raiseEvent("5")}},open:function(t,i){if("popup"==this.mode){var s=0;"block"==this.host.css("display")&&(this.close(),s=this.animationHideDuration);var r=this;null!=t&&null!=t||(t=0),null!=i&&null!=i||(i=0),setTimeout((function(){r.host.show(r.animationShowDuration),r.host.css("visibility","visible"),r.host.addClass("jqx-popup-show"),e.data(r.element,"contextMenuOpened"+r.element.id,!0),r._raiseEvent("0",r),r._raiseEvent("4",{left:t,top:i}),r.host.css("z-index",r.popupZIndex),null!=t&&null!=i&&r.host.css({left:t,top:i}),r.focus()}),s)}},_renderHover:function(e,t,i){var s=this;t.ignoretheme||(this.addHandler(e,"mouseenter",(function(){s.hoveredItem=t,t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.addClass(s.toThemeProperty("jqx-fill-state-hover")),e.addClass(s.toThemeProperty("jqx-menu-item-top-hover"))))})),this.addHandler(e,"mouseleave",(function(){t.disabled||t.separator||!s.enableHover||s.disabled||(t.level>0?(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-hover"))):(e.removeClass(s.toThemeProperty("jqx-fill-state-hover")),e.removeClass(s.toThemeProperty("jqx-menu-item-top-hover"))))})))},_closeAfterClick:function(t){var i=null!=t?t.data:this,s=!1;i.autoCloseOnClick&&(e.each(e(t.target).parents(),(function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return s=!0,!1})),s||(t.data=i,i._closeAll(t)))},_autoSizeHorizontalMenuItems:function(){var t=this;if(t.autoSizeMainItems&&"horizontal"==this.mode){var i=this.maxHeight;parseInt(i)>parseInt(this.host.height())&&(i=parseInt(this.host.height())),i=parseInt(this.host.height()),e.each(this.items,(function(){var s=e(this.element);if(0==this.level&&i>0){var r=s.children().length>0?parseInt(s.children().height()):s.height(),n=t.host.find("ul:first"),o=parseInt(n.css("padding-top")),a=parseInt(n.css("margin-top")),l=i-2*(a+o),h=parseInt(l)/2-r/2,d=parseInt(h),c=parseInt(h);if(s.css("padding-top",d),s.css("padding-bottom",c),parseInt(s.outerHeight())>l){s.css("padding-top",d-1),d-=1}}}))}e.each(this.items,(function(){var t=this;e(t.element);if(t.hasItems&&t.level>0&&t.arrow){var i=e(t.arrow),s=e(t.element).height();s>15&&i.css("margin-top",(s-15)/2)}}))},_nextVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.nextItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_prevVisibleItem:function(e,t){if(null==e||null==e)return null;for(var i=e;null!=i;)if(i=i.prevItem,this._isVisible(i)&&!i.disabled&&"separator"!==i.type){if(this.minimized)return i;if(null!=t&&i&&i.level!=t)continue;return i}return null},_parentItem:function(t){if(null==t||null==t)return null;var i=t.parentElement;if(!i)return null;var s=null;return e.each(this.items,(function(){if(this.element==i)return s=this,!1})),s},_isElementVisible:function(t){return null!=t&&("none"!=e(t).css("display")&&"hidden"!=e(t).css("visibility"))},_isVisible:function(e){if(null==e||null==e)return!1;if(!this._isElementVisible(e.element))return!1;var t=this._parentItem(e);if(null==t)return!0;if(this.minimized)return!0;if(null!=t){if(!this._isElementVisible(t.element))return!1;if(!t.isOpen&&!this.minimized)return!1;for(;null!=t;){if(null!=(t=this._parentItem(t))&&!this._isElementVisible(t.element))return!1;if(null!=t&&!t.isOpen)return!1}}return!0},_render:function(t,i){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled"))),null==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var s=this.popupZIndex,r=[5,5],n=this;e.data(n.element,"animationHideDelay",n.animationHideDelay);var o=this.isTouchDevice(),a=o&&(e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("Touch")>=0);-1!=navigator.platform.toLowerCase().indexOf("win")&&(navigator.userAgent.indexOf("Windows Phone")>=0||navigator.userAgent.indexOf("WPDesktop")>=0||navigator.userAgent.indexOf("IEMobile")>=0||navigator.userAgent.indexOf("ZuneWP7")>=0?this.touchDevice=!0:navigator.userAgent.indexOf("Touch")>=0&&("MSPointerDown"in window||e.jqx.mobile.isWindowsPhone()||navigator.userAgent.indexOf("ARM")>=0)&&(!0,a=!0,n.clickToOpen=!0,n.autoCloseOnClick=!1,n.enableHover=!1));e.data(document.body,"menuel",this),this.hasTransform=e.jqx.utilities.hasTransform(this.host),this._applyOrientation(t,i),this.removeHandler(this.host,"blur"),this.removeHandler(this.host,"focus"),this.addHandler(this.host,"blur",(function(t){if(n.keyboardNavigation&&n.activeItem){if("popup"===n.mode&&document.activeElement&&document.activeElement.className.indexOf("jqx-menu-wrapper")>=0)return;e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null}})),this.addHandler(this.host,"focus",(function(t){if(n.keyboardNavigation&&!n.activeItem)if(n.hoveredItem)e(n.hoveredItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.hoveredItem;else{var i=function(){if(e.jqx.isHidden(e(n.items[0].element))){var t=n._nextVisibleItem(n.items[0],0);t&&(e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t)}else e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0]};n.activeItem?e.jqx.isHidden(e(n.activeItem.element))?(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),i()):e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")):i()}})),this.removeHandler(this.host,"keydown.menu"+this.element.id),n.handleKeyDown=function(t){if(!n.keyboardNavigation)return!0;if("input"===t.target.nodeName.toLowerCase())return!0;var i=null,s=null;if(e.each(n.items,(function(){return!!this.disabled||(this.element.className.indexOf("pressed")>=0&&(s=this),this.element.className.indexOf("focus")>=0?(i=this,!1):void 0)})),!i&&s)return i=s,!1;if(!i)return e(n.items[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=n.items[0],i=n.activeItem,!1;if(27==t.keyCode){if(t.data=n,n._closeAll(t),i)for(var r=i;null!=r;)r.parentItem||(e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=r,e(n.activeItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus"))),r=r.parentItem;!0}if(13==t.keyCode&&i){!0,n._raiseEvent("2",{item:i.element,event:t,type:"keyboard"});var o=null!=i.anchor?e(i.anchor):null;if(null!=o&&o.length>0){var a=o.attr("href"),l=o.attr("target");null!=a&&(null!=l?window.open(a,l):window.location=a)}t.preventDefault(),t.stopPropagation(),e(i.element).focus()}var h=function(e){if(null==e)return new Array;for(var t=new Array,i=0,s=0;s<n.items.length;s++)n.items[s].parentId==e.parentId&&(t[i++]=n.items[s]);return t},d="";switch(t.keyCode){case 40:d="down";break;case 38:d="up";break;case 39:d="right";break;case 37:d="left"}if(i&&"left"===i.openHorizontalDirection&&"left"===d&&(d="right"),i&&"left"===i.openHorizontalDirection&&"right"===d&&(d="left"),i&&"top"===i.openVerticalDirection&&"top"===d&&(d="bottom"),i&&"top"===i.openVerticalDirection&&"bottom"===d&&(d="top"),n.rtl&&("right"===d?d="left":"left"===d&&(d="right")),"right"===d&&!n.minimized){if(t.altKey&&(0!=i.level&&i.hasItems||"horizontal"!=n.mode))n._openItem(n,i);else{var c=n._nextVisibleItem(i,0),u=n._nextVisibleItem(i),p=h(u);c||(c=u),c&&(c.parentId===i.parentId&&0==c.level&&"horizontal"==n.mode||u.id==p[0].id&&0!=u.level)&&(u.id==p[0].id&&(0!=i.level||0==i.level&&"horizontal"!=n.mode)&&(c=u),e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c)}t.preventDefault(),t.stopPropagation()}if("left"===d&&!n.minimized){if(t.altKey&&(0!=i.level&&"horizontal"!==n.mode||i.level>1&&"horizontal"===n.mode||1==i.level&&i.hasItems&&"horizontal"===n.mode))i.hasItems?n._closeItem(n,i):i.parentItem&&(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem);else{var c=n._prevVisibleItem(i,0),m=i.parentItem;c&&c.parentId===i.parentId&&0==c.level&&"horizontal"==n.mode?(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c):m&&0==m.level&&"horizontal"==n.mode||!m||m.level!=i.level-1||(e(m.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=m)}t.preventDefault(),t.stopPropagation()}if("down"===d){if(t.altKey)0==i.level&&i.hasItems&&n._openItem(n,i),n.minimized&&n.minimizedHidden&&n.minimizedItem.trigger("click");else{p=h(c=n._nextVisibleItem(i,i.level));if(n.minimized&&c)e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c;else if(c&&(c.parentId===i.parentId||c.id==p[0].id&&"horizontal"==n.mode)&&(0==c.level&&"horizontal"==n.mode||(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c)),"horizontal"===n.mode&&0===i.level&&i.isOpen&&i.hasItems){c=n._nextVisibleItem(i);e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c}}t.preventDefault(),t.stopPropagation()}else if("up"===d){if(t.altKey)i.parentItem&&0==i.parentItem.level?(n._closeItem(n,i.parentItem),e(i.parentItem.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=i.parentItem):null===i.parentItem&&0===i.level&&"horizontal"===n.mode&&n._closeItem(n,i),n.minimized&&(n.minimizedHidden||n.minimizedItem.trigger("click"));else{c=n._prevVisibleItem(i,i.level),p=h(i);if(n.minimized&&c)e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c;else if(c&&(c.parentId===i.parentId||c.id==i.parentId&&0==c.level&&"horizontal"==n.mode))0==c.level&&"horizontal"===n.mode&&0===i.level||(e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c);else if(i&&i.id==p[0].id&&i.parentItem&&0===i.parentItem.level&&"horizontal"===n.mode){c=i.parentItem;e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c}}t.preventDefault(),t.stopPropagation()}if(9==t.keyCode)if(c=t.shiftKey?n._prevVisibleItem(i):n._nextVisibleItem(i))e(c.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=c,t.preventDefault(),t.stopPropagation();else if(n.lockFocus){p=new Array;for(var f=0,g=0;g<n.items.length;g++)n.items[g]!=i&&n.items[g].parentId==i.parentId&&(p[f++]=n.items[g]);p.length>0&&(t.shiftKey?(e(p[p.length-1].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=p[p.length-1]):(e(p[0].element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=p[0]),e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus"))),t.preventDefault(),t.stopPropagation()}else i&&(e(i.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=null)},this.addHandler(this.host,"keydown.menu"+this.element.id,(function(e){n.handleKeyDown(e)})),n.enableRoundedCorners&&this.host.addClass(n.toThemeProperty("jqx-rc-all")),e.each(this.items,(function(){var t=this,i=e(t.element);if(i.attr("role","menuitem"),n.enableRoundedCorners&&i.addClass(n.toThemeProperty("jqx-rc-all")),n.removeHandler(i,"click"),n.addHandler(i,"click",(function(i){if(!t.disabled&&!n.disabled&&(n.keyboardNavigation&&(n.activeItem&&e(n.activeItem.element).removeClass(n.toThemeProperty("jqx-fill-state-focus")),n.activeItem=t,e(t.element).addClass(n.toThemeProperty("jqx-fill-state-focus")),n.minimized&&i.stopPropagation()),n._raiseEvent("2",{type:"mouse",item:t.element,event:i}),n.autoOpen?!n.autoCloseOnClick||o||n.clickToOpen||t.closeOnClick&&(i.data=n,n._closeAll(i)):t.level>0&&(!n.autoCloseOnClick||o||n.clickToOpen||(i.data=n,n._closeAll(i))),o&&n.autoCloseOnClick&&(i.data=n,t.hasItems||n._closeAll(i)),"A"!=i.target.tagName&&"a"!=i.target.tagName)){var s=null!=t.anchor?e(t.anchor):null;if(null!=s&&s.length>0){var r=s.attr("href"),a=s.attr("target");null!=r&&(null!=a?window.open(r,a):window.location=r)}}})),n.removeHandler(i,"mouseenter"),n.removeHandler(i,"mouseleave"),a||"simple"==n.mode||n._renderHover(i,t,o),null!=t.subMenuElement){var l=e(t.subMenuElement);if("simple"==n.mode)return l.show(),!0;l.wrap('<div class="jqx-menu-popup '+n.toThemeProperty("jqx-menu-popup")+'" style="border: none; background-color: transparent; z-index:'+s+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"><div style="background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"></div></div>'),l.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-l.outerHeight()}),l.data("timer",{}),t.level>0?l.css("left",-l.outerWidth()):"horizontal"==n.mode&&l.css("left",0),s++;var h=e(t.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(t.subMenuElement).outerWidth())+parseInt(r[0])+"px",height:parseInt(e(t.subMenuElement).outerHeight())+parseInt(r[1])+"px"}),d=i.closest("div.jqx-menu-popup");if(d.length>0){var c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right");h.addClass("horizontal"),h.appendTo(d),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)}else{c=l.css("margin-left"),u=l.css("margin-right"),p=l.css("padding-left"),m=l.css("padding-right");"horizontal"===n.mode?h.addClass("top"):h.addClass("horizontal"),h.appendTo(e(document.body)),l.css("margin-left",c),l.css("margin-right",u),l.css("padding-left",p),l.css("padding-right",m)}n.clickToOpen?(n.removeHandler(i,"mousedown"),n.addHandler(i,"mousedown",(function(e){clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t)}))):((o||a)&&(n.removeHandler(i,e.jqx.mobile.getTouchEventName("touchstart")),n.addHandler(i,e.jqx.mobile.getTouchEventName("touchstart"),(function(e){return clearTimeout(l.data("timer").hide),null!=l&&l.stop(),0!=t.level||t.isOpen||"popup"==n.mode||(e.data=n,n._closeAll(e)),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t),!1}))),a||(n.addHandler(i,"mouseenter",(function(){if(((n.autoOpen||t.level>0&&!n.autoOpen)&&clearTimeout(l.data("timer").hide),t.parentId&&0!=t.parentId)&&(n.menuElements[t.parentId]&&!n.menuElements[t.parentId].isOpen))return;return(n.autoOpen||t.level>0&&!n.autoOpen)&&n._openItem(n,t),!1})),n.addHandler(i,"mousedown",(function(){n.autoOpen||0!=t.level||(clearTimeout(l.data("timer").hide),null!=l&&l.stop(),t.isOpen?n._closeItem(n,t,!0):n._openItem(n,t))})),n.addHandler(i,"mouseleave",(function(i){if(n.autoCloseOnMouseLeave){clearTimeout(l.data("timer").hide);var s=e(t.subMenuElement),r={left:parseInt(i.pageX),top:parseInt(i.pageY)},o={left:parseInt(s.coord().left),top:parseInt(s.coord().top),width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())},a=!0;o.left-5<=r.left&&r.left<=o.left+o.width+5&&o.top<=r.top&&r.top<=o.top+o.height&&(a=!1),a&&n._closeItem(n,t,!0)}})),n.removeHandler(h,"mouseenter"),n.addHandler(h,"mouseenter",(function(){clearTimeout(l.data("timer").hide)})),n.removeHandler(h,"mouseleave"),n.addHandler(h,"mouseleave",(function(e){n.autoCloseOnMouseLeave&&(clearTimeout(l.data("timer").hide),clearTimeout(l.data("timer").show),null!=l&&l.stop(),n._closeItem(n,t,!0))}))))}})),"simple"==this.mode&&this._renderSimpleMode(),this._autoSizeHorizontalMenuItems(),this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){var e=Math.random()+"";for(e="99"+(e=e.replace(".","")),e/=1;this.items[e];)e=(e=Math.random()+"").replace(".",""),e/=1;return"menuItem"+e},_createMenu:function(t,i){if(null!=t){null==i&&(i=!0),null==i&&(i=!0);e(t).addClass("jqx-menu-ul");var s=e(t).find("li"),r=0;this.itemMapping=new Array;for(var n=0;n<s.length;n++){var o=s[n],a=e(o);if(-1!=o.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=o.id;l||(l=this.createID()),i&&(o.id=l,this.items[r]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[r]),r+=1;var h=0,d=this;a.children().each((function(){return i||(this.className="",d.autoGenerate&&(e(d.items[r-1].subMenuElement)[0].className="",d.minimized||e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-widget-content")),e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(d.items[r-1].subMenuElement).addClass(d.toThemeProperty("jqx-popup")))),-1!=this.className.indexOf("jqx-menu-dropdown")?(i&&(d.items[r-1].subMenuElement=this),!1):!d.autoGenerate||"ul"!=this.tagName&&"UL"!=this.tagName?void 0:(i&&(d.items[r-1].subMenuElement=this),this.className="",d.minimized||e(this).addClass(d.toThemeProperty("jqx-widget-content")),e(this).addClass(d.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(d.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),d.rtl?e(this).addClass(d.toThemeProperty("jqx-rc-l")):e(this).addClass(d.toThemeProperty("jqx-rc-r")),e(this).addClass(d.toThemeProperty("jqx-rc-b")),!1)})),a.parents().each((function(){return-1!=this.className.indexOf("jqx-menu-item")?(h=this.id,!1):!d.autoGenerate||"li"!=this.tagName&&"LI"!=this.tagName?void 0:(h=this.id,!1)}));var c=!1,u=o.getAttribute("type"),p=o.getAttribute("ignoretheme")||o.getAttribute("data-ignoretheme");if(p?"true"!=p&&1!=p||(p=!0):p=!1,u){if("separator"==u)c=!0}else u=o.type;c||(u=h?"sub":"top");var m=this.items[r-1];if(i){m.id=l,m.parentId=h,m.type=u,m.separator=c,m.element=s[n];var f=a.children("a");m.disabled="true"==o.getAttribute("item-disabled"),m.level=a.parents("li").length,m.anchor=f.length>0?f:null,m.anchor&&e(m.anchor).attr("tabindex",-1)}m.ignoretheme=p;var g=this.menuElements[h];null!=g&&(g.ignoretheme&&(m.ignoretheme=g.ignoretheme,p=g.ignoretheme),m.parentItem=g,m.parentElement=g.element),this.autoGenerate&&("separator"==u?(a.removeClass(),a.addClass(this.toThemeProperty("jqx-menu-item-separator")),a.attr("role","separator")):p||(a[0].className.indexOf("jqx-grid-menu-item-touch")>=0?a[0].className=this.toThemeProperty("jqx-grid-menu-item-touch"):a[0].className="",this.rtl&&a.addClass(this.toThemeProperty("jqx-rtl")),m.level>0&&!d.minimized?(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item"))):(a.addClass(this.toThemeProperty("jqx-item")),a.addClass(this.toThemeProperty("jqx-menu-item-top"))))),m.disabled&&(a.addClass(d.toThemeProperty("jqx-menu-item-disabled")),a.addClass(d.toThemeProperty("jqx-fill-state-disabled"))),this.itemMapping[n]={element:s[n],item:m},this.itemMapping["id"+s[n].id]=this.itemMapping[n],i&&!p&&(m.hasItems=a.find("li").length>0,m.hasItems&&m.element&&(e.jqx.aria(e(m.element),"aria-haspopup",!0),m.subMenuElement.id||(m.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(m.element),"aria-owns",m.subMenuElement.id)))}}for(var v=0;v<s.length;v++){var x=s[v];if(this.itemMapping["id"+x.id]){if(!(m=this.itemMapping["id"+x.id].item))continue;m.prevItem=null,m.nextItem=null,v>0&&this.itemMapping["id"+s[v-1].id]&&(m.prevItem=this.itemMapping["id"+s[v-1].id].item),v<s.length-1&&this.itemMapping["id"+s[v+1].id]&&(m.nextItem=this.itemMapping["id"+s[v+1].id].item)}}}},destroy:function(){var t=this;e.jqx.utilities.resize(t.host,null,!0);var i=t.host.closest("div.jqx-menu-wrapper");t.removeHandler(i,"keydown"),i.remove(),t.removeHandler(e("#menuWrapper"+t.element.id),"keydown"),e("#menuWrapper"+t.element.id).remove(),t.removeHandler(t.host,"keydown"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(e(document),"mousedown.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"mouseup.menu"+t.element.id,t._closeAfterClick),t.removeHandler(e(document),"contextmenu."+t.element.id),t.removeHandler(t.host,"contextmenu."+t.element.id),e.data(document.body,"jqxMenuOldHost"+t.element.id,null),t.isTouchDevice()&&t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+t.element.id,t._closeAfterClick,this),e(window).off&&e(window).off("resize.menu"+t.element.id),e.each(t.items,(function(){var i=e(this.element);t.removeHandler(i,"click"),t.removeHandler(i,"selectstart"),t.removeHandler(i,"mouseenter"),t.removeHandler(i,"mouseleave"),t.removeHandler(i,"mousedown"),t.removeHandler(i,"mouseleave"),e(this.subMenuElement).closest("div.jqx-menu-popup").remove(),delete this.subMenuElement,delete this.element})),e.data(document.body,"menuel",null),delete t.menuElements,t.items=new Array,delete t.items;var s=e.data(t.element,"jqxMenu");s&&delete s.instance,t.host.removeClass(),t.host.remove(),delete t.host,delete t.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t],r=i;r.owner=this;var n=new e.Event(s);return"2"==t&&((r=i.item).owner=this,r.clickType=i.type,e.extend(n,i.event),n.type="itemclick"),n.owner=this,n.args=r,this.host.trigger(n)},propertiesChangedHandler:function(t,i,s){if(s.width&&s.height&&2==Object.keys(s).length&&(t._setSize(),"popup"===t.mode)){this.host.closest("div.jqx-menu-wrapper")[i](s);var r=this.host[0].id;e("#"+r)[i](s)}},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&("disabled"==i&&(t.disabled?(t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.addClass(t.toThemeProperty("jqx-menu-disabled"))):(t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.host.removeClass(t.toThemeProperty("jqx-menu-disabled")))),r!=s))if("touchMode"==i&&(this._isTouchDevice=null,t._render(r,s)),"width"!==i&&"height"!==i){if("source"==i&&null!=t.source){var n=t.loadItems(t.source);t.element.innerHTML=n;var o=t.host.find("ul:first");o.length>0&&(t.refresh(),t._createMenu(o[0]),t._render())}"autoCloseOnClick"==i?0==r?t.removeHandler(e(document),"mousedown.menu"+this.element.id,t._closeAll):t.addHandler(e(document),"mousedown.menu"+this.element.id,t,t._closeAll):"mode"==i||"width"==i||"height"==i||"showTopLevelArrows"==i?(t.refresh(),"mode"==i?t._render(r,s):t._applyOrientation()):"theme"==i&&e.jqx.utilities.setTheme(s,r,t.host)}else if(t._setSize(),"popup"===t.mode){this.host.closest("div.jqx-menu-wrapper")[i](r);var a=this.host[0].id;e("#"+a)[i](r)}}})}(jqxBaseFramework),jqxBaseFramework.jqx._jqxMenu.jqxMenuItem=function(e,t,i){return{id:e,parentId:t,parentItem:null,anchor:null,type:i,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}},function(e){function t(t){var i=e(t);return"none"!==i.css("display")&&"hidden"!==i.css("visibility")}e.jqx.jqxWidget("jqxWindow","",{}),e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var t={height:"auto",width:200,minHeight:50,maxHeight:1200,minWidth:50,maxWidth:1200,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:["created","closed","moving","moved","open","collapse","expand","open","close","resize"],initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:1299,modalZIndex:1800,zIndex:1e3,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};return this===e.jqx._jqxWindow.prototype||e.extend(!0,this,t),t},createInstance:function(){this.host.initAnimate&&this.host.initAnimate(),this.host.attr("role","dialog"),this.host.removeAttr("data-bind"),this.host.appendTo(document.body);var t=this;!function(e){for(var i=0;i<e.length;i++){var s=e[i];t[s]&&t[s].toString().indexOf("px")>=0&&(t[s]=parseInt(t[s],10))}}(["minWidth","minHeight","maxWidth","maxHeight","width","height"]);var i=function(){var i=parseInt(e(t.restricter).css("padding-top"),10),s=parseInt(e(t.restricter).css("padding-left"),10),r=parseInt(e(t.restricter).css("padding-bottom"),10),n=parseInt(e(t.restricter).css("padding-right"),10),o=e(t.restricter).coord();t.dragArea={left:s+o.left,top:i+o.top,width:1+n+e(t.restricter).width(),height:1+r+e(t.restricter).height()}};if(this.restricter&&i(),this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,(function(){i()})),this.addHandler(e(window),"orientationchanged."+this.element.id,(function(){i()})),this.addHandler(e(window),"orientationchange."+this.element.id,(function(){i()}))),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validateProperties(),this._createStructure(),this._refresh(),this.autoOpen||(this.element.style.display="none"),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.isModal||this._fixWindowZIndex(),this._setStartupSettings(),this._positionWindow(),this._raiseEvent(0),this.autoOpen){this._performLayout();var s=this;this.isModal&&this._fixWindowZIndex("modal-show"),s.initContent&&(s.initContent(),s._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9)}},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable(),this.collapsed&&(this.collapsed=!1,this.collapse(0)),this.autoOpen||(this.hide(null,.001,!0),this._visible=!1),null!==this.title&&""!==this.title&&this.setTitle(this.title),null!==this.content&&""!==this.content&&this.setContent(this.content),this.title=this._headerContentWrapper.html(),this.content=this._content.html()},_fixWindowZIndex:function(t){var i=e.data(document.body,"jqxwindows-list")||[],s=this.zIndex;if(this.isModal){i&&(i=this._removeFromArray(this.host,i),e.data(document.body,"jqxwindows-list",i));var r=e.data(document.body,"jqxwindows-modallist");if(r)if("modal-show"==t)r.push(this.host);else{var n=r.indexOf(this.host);-1!=n&&r.splice(n,1)}else if("modal-show"==t){var o=[];o.push(this.host),e.data(document.body,"jqxwindows-modallist",o),r=o}else e.data(document.body,"jqxwindows-modallist",[]),r=[];return s=this.modalZIndex,e.each(r,(function(){if(this.data()&&this.data().jqxWindow){var e=this.data().jqxWindow.instance;e._modalBackground.style.zIndex=s,e.element.style.zIndex=s+1,s+=2}})),void e.data(document.body,"jqxwindow-modal",this.host)}if(this._indexOf(this.host,i)<0&&i.push(this.host),e.data(document.body,"jqxwindows-list",i),i.length>1){var a=i[i.length-2];if("auto"==a.css("z-index"))s=this.zIndex+i.length+1;else{var l=this.zIndex;(s=parseInt(a.css("z-index"),10)+1)<l&&(s=l)}}this.element.style.zIndex=s,this._sortByStyle("z-index",i)},_validateProperties:function(){try{if(this._validateSize(),this._validateAnimationProperties(),this._validateInteractionProperties(),this._validateModalProperties(),!this.position)throw new Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||parseInt(this.closeButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||parseInt(this.collapseButtonSize,10)<0)throw new Error(this._invalidArgumentExceptions.invalidCollapseButtonSize)}catch(e){throw new Error(e)}},_validateModalProperties:function(){if(this.modalOpacity<0||this.modalOpacity>1)throw new Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw new Error(this._invalidArgumentExceptions.invalidIsModal)},_validateSize:function(){if(this._validateSizeLimits(),"auto"!==this.height&&isNaN(parseInt(this.height,10)))throw new Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width,10)))throw new Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight),this.width<this.minWidth&&(this.width=this.minWidth),"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight),this.width>this.maxWidth&&(this.width=this.maxWidth),null!==this.dragArea&&(this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10)>this.dragArea.height)||null!==this.dragArea.width&&this.width>this.dragArea.width||this.maxHeight>this.dragArea.height||(this.maxWidth,this.dragArea.width))},_validateSizeLimits:function(){if(null==this.maxHeight&&(this.maxHeight=9999),null==this.minWidth&&(this.minWidth=0),null==this.maxWidth&&(this.maxWidth=9999),null==this.minHeight&&(this.minHeight=0),isNaN(parseInt(this.minHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth,10)))throw new Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight&&this.maxHeight&&parseInt(this.minHeight,10)>parseInt(this.maxHeight,10)&&this.maxHeight!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth&&this.maxWidth&&parseInt(this.minWidth,10)>parseInt(this.maxWidth,10)&&this.maxWidth!=Number.MAX_VALUE)throw new Error(this._invalidArgumentExceptions.invalidMinWidth)},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw new Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration,10))||this.closeAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration,10))||this.showAnimationDuration<0)throw new Error(this._invalidArgumentExceptions.invalidShowAnimationDuration)},_validateInteractionProperties:function(){if(parseInt(this.keyCode,10)<0||parseInt(this.keyCode,10)>130&&"esc"!==this.keyCode)throw new Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&(void 0===this.dragArea.width||void 0===this.dragArea.height||void 0===this.dragArea.left||void 0===this.dragArea.top))throw new Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw new Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw new Error(this._invalidArgumentExceptions.invalidCloseButtonAction)},_singleModalCheck:function(){for(var t=e.data(document.body,"jqxwindows-list")||[],i=t.length;i;)if(e(t[i-=1].attr("id")).length>0&&e(t[i].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var t=this.host.children();if(1===t.length)this._content=t[0],this._header=document.createElement("div"),this._header.innerHTML=this.host.attr("caption"),this.element.insertBefore(this._header,this._content),this.host.attr("caption",""),this._header=e(this._header),this._content=e(this._content);else{if(2!==t.length)throw new Error("Invalid structure!");this._header=e(t[0]),this._content=e(t[1])}},_refresh:function(){this._render(),this._addStyles(),this._performLayout(),this._removeEventHandlers(),this._addEventHandlers(),this._initializeResize()},_render:function(){this._addHeaderWrapper(),this._addCloseButton(),this._addCollapseButton(),this._removeModal(),this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header[0].innerHTML='<div style="float:left;">'+this._header[0].innerHTML+"</div>",this._headerContentWrapper=e(this._header.children()[0]),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=document.createElement("div"),this._closeButtonWrapper.className=this.toThemeProperty("jqx-window-close-button-background"),this._closeButton=document.createElement("div"),this._closeButton.className=this.toThemeProperty("jqx-window-close-button jqx-icon-close"),this._closeButton.style.width="100%",this._closeButton.style.height="100%",this._closeButtonWrapper.appendChild(this._closeButton),this._header[0].appendChild(this._closeButtonWrapper),this._closeButtonWrapper=e(this._closeButtonWrapper),this._closeButton=e(this._closeButton))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=document.createElement("div"),this._collapseButtonWrapper.className=this.toThemeProperty("jqx-window-collapse-button-background"),this._collapseButton=document.createElement("div"),this._collapseButton.className=this.toThemeProperty("jqx-window-collapse-button jqx-icon-arrow-up"),this._collapseButton.style.width="100%",this._collapseButton.style.height="100%",this._collapseButtonWrapper.appendChild(this._collapseButton),this._header[0].appendChild(this._collapseButtonWrapper),this._collapseButtonWrapper=e(this._collapseButtonWrapper),this._collapseButton=e(this._collapseButton))},_removeModal:function(){this.isModal||"object"!=typeof this._modalBackground||null===this._modalBackground||(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var e=this;setTimeout((function(){e.host.focus()}),10)}catch(e){}},_makeModal:function(){if(this.isModal&&!this._modalBackground){var t=e.data(document.body,"jqxwindows-list");t&&(this._removeFromArray(this.host,t),e.data(document.body,"jqxwindows-list",t)),this._modalBackground=document.createElement("div"),this._modalBackground.className=this.toThemeProperty("jqx-window-modal"),this._setModalBackgroundStyles(),document.body.appendChild(this._modalBackground),this.addHandler(this._modalBackground,this._getEvent("click"),(function(){return!1}));var i=this;this.addHandler(this._modalBackground,"mouseup",(function(e){i._stopResizing(i),e.preventDefault()})),this.addHandler(this._modalBackground,"mousedown",(function(e){var t=i._getTabbables();return t.length>0&&(t[0].focus(),setTimeout((function(){t[0].focus()}),100)),e.preventDefault(),!1})),this.addHandler(e(document),"keydown.window"+this.element.id,(function(t){if(9===t.keyCode){var s=e.data(document.body,"jqxwindows-modallist");if(!(s.length>1&&s[s.length-1][0]!=i.element)){var r=i._getTabbables(),n=null,o=null;if(0!==i.element.offsetWidth&&0!==i.element.offsetHeight&&(r.length>0&&(n=r[0],o=r[r.length-1]),t.target!=i.element&&null!=n))return function(e,t){return t.contains(e)}(t.target,i.element)&&(t.target!==o||t.shiftKey)?t.target===n&&t.shiftKey?(o.focus(),!1):void 0:(n.focus(),!1)}}}))}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-window")),this.host.addClass(this.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-window-header")),this._content.addClass(this.toThemeProperty("jqx-window-content")),this._header.addClass(this.toThemeProperty("jqx-widget-header")),this._content.addClass(this.toThemeProperty("jqx-widget-content")),this._header.addClass(this.toThemeProperty("jqx-disableselect")),this._header.addClass(this.toThemeProperty("jqx-rc-t")),this._content.addClass(this.toThemeProperty("jqx-rc-b")),this.host.attr("tabindex")||(this.element.tabIndex=0,this._header[0].tabIndex=0,this._content[0].tabIndex=0),this.element.setAttribute("hideFocus","true"),this.element.style.outline="none"},_performHeaderLayout:function(){this._handleHeaderButtons(),this._header[0].style.position="relative",this.rtl?(this._headerContentWrapper[0].style.direction="rtl",this._headerContentWrapper[0].style.float="right"):(this._headerContentWrapper[0].style.direction="ltr",this._headerContentWrapper[0].style.float="left"),this._performHeaderCloseButtonLayout(),this._performHeaderCollapseButtonLayout(),this._centerElement(this._headerContentWrapper,this._header,"y","margin"),this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){if(this._closeButtonWrapper){if(this.showCloseButton){this._closeButtonWrapper[0].style.visibility="visible";var e=this._toPx(this.closeButtonSize);this._closeButtonWrapper[0].style.width=e,this._closeButtonWrapper[0].style.height=e}else this._closeButtonWrapper[0].style.visibility="hidden";if(this.showCollapseButton){this._collapseButtonWrapper[0].style.visibility="visible";var t=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=t,this._collapseButtonWrapper[0].style.height=t}else this._collapseButtonWrapper[0].style.visibility="hidden"}},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var e=parseInt(this._header.css("padding-right"),10);isNaN(e)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper[0].style.marginRight="0px",this._closeButtonWrapper[0].style.marginLeft=this._toPx(e)):(this._closeButtonWrapper[0].style.marginRight=this._toPx(e),this._closeButtonWrapper[0].style.marginLeft="0px")),this._closeButtonWrapper[0].style.position="absolute",this.rtl?(this._closeButtonWrapper[0].style.right="",this._closeButtonWrapper[0].style.left="0px"):(this._closeButtonWrapper[0].style.right="0px",this._closeButtonWrapper[0].style.left="")}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var t=parseInt(this._header.css("padding-right"),10);if(!isNaN(t)){var i=this._toPx(this.collapseButtonSize);this._collapseButtonWrapper[0].style.width=i,this._collapseButtonWrapper[0].style.height=i,this.rtl?(this._collapseButtonWrapper[0].style.marginRight="0px",this._collapseButtonWrapper[0].style.marginLeft=this._toPx(t)):(this._collapseButtonWrapper[0].style.marginRight=this._toPx(t),this._collapseButtonWrapper[0].style.marginLeft="0px")}this._collapseButtonWrapper[0].style.position="absolute";var s=this._toPx(this.showCloseButton?this._closeButton.outerWidth(!0):0);this.rtl?(this._collapseButtonWrapper[0].style.right="",this._collapseButtonWrapper[0].style.left=s):(this._collapseButtonWrapper[0].style.right=s,this._collapseButtonWrapper[0].style.left=""),this._centerElement(this._collapseButton,e(this._collapseButton[0].parentElement),"y")}},_performWidgetLayout:function(){var e;"auto"!==this.width&&(this.width&&this.width.toString().indexOf("%")>=0?this.element.style.width=this.width:this.element.style.width=this._toPx(this.width)),this.collapsed||("auto"!==this.height?this.height&&this.height.toString().indexOf("%")>=0?this.element.style.height=this.height:this.element.style.height=this._toPx(this.height):this.element.style.height=this.host.height()+"px",this.element.style.minHeight=this._toPx(this.minHeight)),this._setChildrenLayout(),e=this._validateMinSize(),this.element.style.maxHeight=this._toPx(this.maxHeight),this.element.style.minWidth=this._toPx(this.minWidth),this.element.style.maxWidth=this._toPx(this.maxWidth),e||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width())),this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width())),this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var t=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),t=!1);var i=e(this._header.children()[0]).outerWidth()+(this._header.children()[1]?e(this._header.children()[1]).outerWidth():0);return this.minWidth<100&&(this.minWidth=Math.min(i,100),t=!1),t},_centerElement:function(e,t,i,s){"number"==typeof t.left&&"number"==typeof t.top&&"number"==typeof t.height&&"number"==typeof t.width?this._centerElementInArea(e,t,i):this._centerElementInParent(e,t,i,s)},_centerElementInParent:function(e,t,i,s){var r,n,o="none"===e.css("display");if(s?(r=s+"Top",n=s+"Left"):(r="top",n="left"),(i=i.toLowerCase()).indexOf("y")>=0){o&&(e[0].style.display="block");var a,l=e.outerHeight(!0);o&&(e[0].style.display="none"),a=t.height();var h=Math.max(0,a-l)/2;e[0].style[r]=h+"px"}if(i.indexOf("x")>=0){o&&(e[0].style.display="block");var d,c=e.outerWidth(!0);o&&(e[0].style.display="none"),d=t.width();var u=Math.max(0,d-c)/2;e[0].style[n]=u+"px"}},_centerElementInArea:function(e,t,i){if((i=i.toLowerCase()).indexOf("y")>=0){var s=e.outerHeight(!0),r=(t.height-s)/2;e[0].style.top=r+t.top+"px"}if(i.indexOf("x")>=0){var n=e.outerWidth(!0),o=(t.width-n)/2;e[0].style.left=o+t.left+"px"}},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown")),this.removeHandler(this._header,this._getEvent("mousemove")),this.removeHandler(this._header,"focus"),this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id")),this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id")),this.removeHandler(this.host,"keydown"),this.removeHandler(this._closeButton,this._getEvent("click")),this.removeHandler(this._closeButton,this._getEvent("mouseenter")),this.removeHandler(this._closeButton,this._getEvent("mouseleave")),this.removeHandler(this._collapseButton,this._getEvent("click")),this.removeHandler(this._collapseButton,this._getEvent("mouseenter")),this.removeHandler(this._collapseButton,this._getEvent("mouseleave")),this.removeHandler(this.host,this._getEvent("mousedown")),this.okButton&&this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler),this.cancelButton&&this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler),this.removeHandler(this._header,this._getEvent("mouseenter")),this.removeHandler(this._header,this._getEvent("mouseleave")),this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(e,t){return this._indexOf(e,t)>=0?t.splice(this._indexOf(e,t),1):t},_sortByStyle:function(e,t){for(var i=0;i<t.length;i++)for(var s=t.length-1;s>i;s--){var r,n=t[s],o=t[s-1];parseInt(n.css(e),10)<parseInt(o.css(e),10)&&(r=n,t[s]=o,t[s-1]=r)}},_initializeResize:function(){if(this.resizable){var e=this;this.initResize({target:this.host,alsoResize:e._content,maxWidth:e.maxWidth,minWidth:e.minWidth,maxHeight:e.maxHeight,minHeight:e.minHeight,indicatorSize:10,resizeParent:e.dragArea})}},_removeResize:function(){this.removeResize()},_getEvent:function(e){return this._isTouchDevice?this._touchEvents[e]:e},_addEventHandlers:function(){this._addDragDropHandlers(),this._addCloseHandlers(),this._addCollapseHandlers(),this._addFocusHandlers(),this._documentResizeHandlers(),this._closeButtonHover(),this._collapseButtonHover(),this._addDialogButtonsHandlers(),this._addHeaderHoverEffect(),this._addResizeHandlers();var e=this;this.addHandler(this._header,this._getEvent("mousemove"),(function(){e._addHeaderCursorHandlers(e)}))},_addResizeHandlers:function(){var t=this;t.addHandler(t.host,"resizing",t._windowResizeHandler,{self:t}),this.addHandler(e(window),"orientationchanged."+this.element.id,(function(){t._performLayout()})),this.addHandler(e(window),"orientationchange."+this.element.id,(function(){t._performLayout()}))},_windowResizeHandler:function(t){var i=t.data.self;if(i._header.width(i.host.width()-(i._header.outerWidth(!0)-i._header.width())),i.width&&i.width.toString().indexOf("%")>=0){var s=1/(e(document.body).width()/100);i.width=s*t.args.width+"%"}else i.width=t.args.width;if(i.height&&i.height.toString().indexOf("%")>=0){s=1/(e(document.body).height()/100);i.height=s*t.args.height+"%"}else i.height=t.args.height},_addHeaderHoverEffect:function(){var t=this;this.addHandler(this._header,this._getEvent("mouseenter"),(function(){e(this).addClass(t.toThemeProperty("jqx-window-header-hover"))})),this.addHandler(this._header,this._getEvent("mouseleave"),(function(){e(this).removeClass(t.toThemeProperty("jqx-window-header-hover"))}))},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"}),this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var t=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,(function(){if("object"==typeof t._modalBackground&&null!==t._modalBackground){if(t.isOpen()&&(t._modalBackground.style.display="none"),t.restricter)t._modalBackground.style.left=t._toPx(t.dragArea.left),t._modalBackground.style.top=t._toPx(t.dragArea.top),t._modalBackground.style.width=t._toPx(t.dragArea.width),t._modalBackground.style.height=t._toPx(t.dragArea.height);else{var e=t._getDocumentSize();t._modalBackground.style.width=e.width+"px",t._modalBackground.style.height=e.height+"px"}t.isOpen()&&(t._modalBackground.style.display="block")}}))},_setDialogResultHandler:function(e){var t=e.data.self;t._setDialogResult(e.data.result),t.closeWindow()},_setDialogResult:function(e){switch(this.dialogResult.OK=!1,this.dialogResult.None=!1,this.dialogResult.Cancel=!1,e=e.toLowerCase()){case"ok":this.dialogResult.OK=!0;break;case"cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var t=e.jqx.browser.msie&&e.jqx.browser.version<9,i=t?4:0,s=i;return document.body.scrollHeight>document.body.clientHeight&&t&&(i=this._SCROLL_WIDTH),document.body.scrollWidth>document.body.clientWidth&&t&&(s=this._SCROLL_WIDTH),{width:e(document).width()-i,height:e(document).height()-s}},_closeButtonHover:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),(function(){e._closeButton.addClass(e.toThemeProperty("jqx-window-close-button-hover"))})),this.addHandler(this._closeButton,this._getEvent("mouseleave"),(function(){e._closeButton.removeClass(e.toThemeProperty("jqx-window-close-button-hover"))}))},_collapseButtonHover:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),(function(){e._collapseButton.addClass(e.toThemeProperty("jqx-window-collapse-button-hover"))})),this.addHandler(this._collapseButton,this._getEvent("mouseleave"),(function(){e._collapseButton.removeClass(e.toThemeProperty("jqx-window-collapse-button-hover"))}))},_setModalBackgroundStyles:function(){if(this.isModal){var t=this._getDocumentSize();e.jqx.browser.msie&&e.jqx.browser.version<9?this._modalBackground.style.filter="alpha(opacity="+100*this.modalOpacity+")":this._modalBackground.style.opacity=this.modalOpacity,this._modalBackground.style.position="absolute",this._modalBackground.style.top="0px",this._modalBackground.style.left="0px",this._modalBackground.style.width=t.width,this._modalBackground.style.height=t.height,this._modalBackground.style.zIndex=this.modalBackgroundZIndex,this.autoOpen||(this._modalBackground.style.display="none")}},_addFocusHandlers:function(){var e=this;this.addHandler(this.host,this._getEvent("mousedown"),(function(){e.isModal||e.bringToFront()}))},_indexOf:function(e,t){for(var i=0;i<t.length;i++)if(t[i][0]===e[0])return i;return-1},_addCloseHandlers:function(){var e=this;this.addHandler(this._closeButton,this._getEvent("click"),(function(t){return e._closeWindow(t)})),"none"!==this.keyboardCloseKey&&"number"!=typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27),this.addHandler(this.host,"keydown",(function(t){t.keyCode===e.keyboardCloseKey&&null!=e.keyboardCloseKey&&"none"!=e.keyboardCloseKey?e._closeWindow(t):e._handleKeys(t)}),{self:this}),this.addHandler(this.host,"keyup",(function(){if(e.keyboardNavigation&&e._moved){var t=e.host.coord(),i=t.left,s=t.top;e._raiseEvent(3,i,s,i,s),e._moved=!1}}))},_handleKeys:function(t){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var i=t.ctrlKey,s=t.keyCode,r=this.host.coord(),n=r.left,o=r.top,a=this._getDraggingArea(),l=this.host.width(),h=this.host.height(),d=!0,c=10;switch(s){case 37:i?this.resizable&&this.resize(l-c,h):this.draggable&&n-c>=0&&this.move(n-c,o),d=!1;break;case 38:i?this.resizable&&this.resize(l,h-c):this.draggable&&o-c>=0&&this.move(n,o-c),d=!1;break;case 39:i?this.resizable&&this.resize(l+c,h):this.draggable&&n+l+c<=a.width&&this.move(n+c,o),d=!1;break;case 40:i?this.resizable&&this.resize(l,h+c):this.draggable&&o+h+c<=a.height&&this.move(n,o+c),d=!1}return d||(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()),d}},_addCollapseHandlers:function(){var e=this;this.addHandler(this._collapseButton,this._getEvent("click"),(function(){e.collapsed?e.expand():e.collapse()}))},_closeWindow:function(){return this.closeWindow(),!1},_addHeaderCursorHandlers:function(e){e.resizeArea&&e.resizable&&!e.collapsed?e._header[0].style.cursor=e._resizeWrapper.style.cursor:e.draggable?e._header[0].style.cursor="move":(e._header[0].style.cursor="default",e._resizeWrapper&&(e._resizeWrapper.style.cursor="default"))},_addDragDropHandlers:function(){if(this.draggable){var t=this;this.addHandler(this.host,"focus",(function(){t._headerFocused=!0})),this.addHandler(this.host,"blur",(function(){t._headerFocused=!1})),this.addHandler(this._header,"focus",(function(){return t._headerFocused=!0,!1})),this.addHandler(this._header,this._getEvent("mousedown"),(function(e,i,s){return i&&(e.pageX=i),s&&(e.pageY=s),t._headerMouseDownHandler(t,e),!0})),this.addHandler(this._header,"dragstart",(function(e){return e.preventDefault&&e.preventDefault(),!1})),this.addHandler(this._header,this._getEvent("mousemove"),(function(e){return t._headerMouseMoveHandler(t,e)})),this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),(function(e){return t._dragHandler(t,e)})),this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),(function(e){return t._dropHandler(t,e)}));try{if(""!==document.referrer||window.frameElement){var i=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._dropHandler(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}}catch(e){}}},_headerMouseDownHandler:function(t,i){if(t.isModal||t.bringToFront(),null==t._resizeDirection){var s=e.jqx.position(i);t._mousePosition.x=s.left,t._mousePosition.y=s.top,t._mouseDown=!0,t._isDragging=!1}},_headerMouseMoveHandler:function(t,i){if(t._mouseDown&&!t._isDragging){var s=e.jqx.mobile.getTouches(i)[0],r=s.pageX,n=s.pageY,o=e.jqx.position(i);return r=o.left,n=o.top,(r+3<t._mousePosition.x||r-3>t._mousePosition.x||n+3<t._mousePosition.y||n-3>t._mousePosition.y)&&(t._isDragging=!0,t._mousePosition={x:r,y:n},t._windowPosition={x:t.host.coord().left,y:t.host.coord().top},e(document.body).addClass(t.toThemeProperty("jqx-disableselect"))),!!t._isTouchDevice&&(i.preventDefault(),!0)}return!t._isDragging||!!t._isTouchDevice&&(i.preventDefault(),!0)},_dropHandler:function(t,i){var s=!0;if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var r=parseInt(t.host.css("left"),10),n=parseInt(t.host.css("top"),10),o=t._isTouchDevice?0:i.pageX,a=t._isTouchDevice?0:i.pageY;t.enableResize=t._enableResizeBackup,t._enableResizeBackup="undefined",t._raiseEvent(3,r,n,o,a),s=!1,"undefined"!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),"undefined"!=i.stopPropagation&&i.stopPropagation()}return t._isDragging=!1,t._mouseDown=!1,e(document.body).removeClass(t.toThemeProperty("jqx-disableselect")),s},_dragHandler:function(t,i){if(t._isDragging&&!t.isResizing&&!t._resizeDirection){var s=t._isTouchDevice?i.originalEvent.which:i.which;if(void 0===t._enableResizeBackup&&(t._enableResizeBackup=t.enableResize),t.enableResize=!1,0===s&&e.jqx.browser.msie&&e.jqx.browser.version<8)return t._dropHandler(t,i);var r=e.jqx.position(i),n=r.left,o=r.top,a=n-t._mousePosition.x,l=o-t._mousePosition.y,h=t._windowPosition.x+a,d=t._windowPosition.y+l;return t.move(h,d,i),i.preventDefault(),!1}return!0},_validateCoordinates:function(e,t,i,s){var r=this._getDraggingArea();e=e<r.left?r.left:e,t=t<r.top?r.top:t;var n=this.host.outerWidth(!0),o=this.host.outerHeight(!0);return e+n>=r.width+r.left-2*s&&(e=r.width+r.left-n-s),t+o>=r.height+r.top-i&&(t=r.height+r.top-o-i),{x:e,y:t}},_performLayout:function(){this._performHeaderLayout(),this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){if(this._parseDragAreaAttributes(),this.position instanceof Array&&2===this.position.length&&"number"==typeof this.position[0]&&"number"==typeof this.position[1])this.element.style.left=this._toPx(this.position[0]),this.element.style.top=this._toPx(this.position[1]);else if(this.position instanceof Object){if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!==this.position.y)this.element.style.left=this._toPx(this.position.x),this.element.style.top=this._toPx(this.position.y);else if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var e=this.position.center.coord(),t=parseInt(this.host.css("left"),10),i=parseInt(this.host.css("top"),10);this.element.style.left=this._toPx(t+e.left),this.element.style.top=this._toPx(i+e.top)}}else this._positionFromLiteral()},_getDraggingArea:function(){var e={};return e.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0,e.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0,e.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width,e.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height,e},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var t=this.position.length,i=this._getDraggingArea();t;)switch(t-=1,this.position[t]=this.position[t].replace(/ /g,""),this.position[t]){case"top":this.element.style.top=this._toPx(i.top);break;case"left":this.element.style.left=this._toPx(i.left);break;case"bottom":this.element.style.top=this._toPx(i.height-this.host.height()+i.top);break;case"right":this.element.style.left=this._toPx(i.left+i.width-this.host.width());break;default:this.dragArea||(i=e(window)),this._centerElement(this.host,i,"xy")}},_raiseEvent:function(t){var i=this._events[t],s=e.Event(i),r={};return 2!==t&&3!==t||(r.x=arguments[1],r.y=arguments[2],r.pageX=arguments[3],r.pageY=arguments[4]),"closed"!==i&&"close"!==i||(r.dialogResult=this.dialogResult),s.args=r,this.host.trigger(s)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id),this._removeEventHandlers(),this._destroy()},_destroy:function(){this.isModal&&(null!==this._modalBackground&&e(this._modalBackground).remove(),this.host.jqxWindow({isModal:!1})),this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id)),this.host.remove(),null!==this._modalBackground&&e(this._modalBackground).remove()},_toClose:function(e,t){return e&&t[0]===this.element||t[0]!==this.element&&"object"==typeof t[0]},propertyChangedHandler:function(t,i,s,r){switch(this._validateProperties(),i){case"rtl":case"collapseButtonSize":case"closeButtonSize":case"showCloseButton":case"showCollapseButton":case"height":case"width":this._performLayout();break;case"dragArea":case"position":this._positionWindow();break;case"isModal":if(this._refresh(),this._fixWindowZIndex(),!1===r)for(var n=e.data(document.body,"jqxwindows-modallist"),o=[],a=0;a<n.length;a++){n[a][0]!==this.element&&o.push(n[a])}e.data(document.body,"jqxwindows-modallist",o);break;case"keyboardCloseKey":this._removeEventHandlers(),this._addEventHandlers();break;case"disabled":r?this.disable():(this.disabled=!0,this.enable());break;case"title":this.setTitle(r),this.title=r;break;case"content":this.setContent(r);break;case"draggable":this._removeEventHandlers(),this._addEventHandlers(),this._removeResize(),this._initializeResize();break;case"resizable":this.enableResize=r,r?this._initializeResize():this._removeResize();break;case"modalOpacity":this._setModalBackgroundStyles();break;case"okButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case"cancelButton":r?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case"collapsed":r?s||(this.collapsed=!1,this.collapse(0)):s&&(this.collapsed=!0,this.expand(0));break;case"theme":e.jqx.utilities.setTheme(s,r,this.host);break;case"enableResize":default:return;case"maxWidth":case"maxHeight":case"minWidth":case"minHeight":return t._performLayout(),t._removeResize(),void t._initializeResize()}},collapse:function(t){if(!this.collapsed&&!0!==this._animationInProgress){if("none"==this.host.css("display"))return;var i=this,s=this._header.outerHeight(!0),r=parseInt(this._header.css("border-bottom-width"),10),n=parseInt(this._header.css("margin-bottom"),10);t=isNaN(parseInt(t,10))?this.collapseAnimationDuration:t,isNaN(r)||(s-=2*r),isNaN(n)||(s+=n),this._heightBeforeCollapse=this.host.height(),this._minHeightBeforeCollapse=this.host.css("min-height"),this.element.style.minHeight=this._toPx(s),i._animationInProgress=!0,this.host.animate({height:s},{duration:t,complete:function(){i._animationInProgress=!1,i.collapsed=!0,i._collapseButton.addClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.addClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content[0].style.display="none",i._raiseEvent(5),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!1)}})}},expand:function(t){if(this.collapsed&&!0!==this._animationInProgress){var i=this;t=isNaN(parseInt(t,10))?this.collapseAnimationDuration:t,i._animationInProgress=!0,this.host.animate({height:this._heightBeforeCollapse},{duration:t,complete:function(){i._animationInProgress=!1,i.collapsed=!1,i.element.style.minHeight=i._toPx(i._minHeightBeforeCollapse),i._collapseButton.removeClass(i.toThemeProperty("jqx-window-collapse-button-collapsed")),i._collapseButton.removeClass(i.toThemeProperty("jqx-icon-arrow-down")),i._content[0].style.display="block",i._raiseEvent(6),i._performWidgetLayout(),i._raiseEvent(9),e.jqx.aria(i,"aria-expanded",!0)}})}},closeAll:function(t){for(var i=e.data(document.body,"jqxwindows-list"),s=i.length,r=e.data(document.body,"jqxwindow-modal")||[];s;)s-=1,this._toClose(true,i[s])&&(i[s].jqxWindow("closeWindow","close"),i.splice(s,1));this._toClose(true,r)&&(r.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[])),e.data(document.body,"jqxwindows-list",i)},setTitle:function(e){if("string"==typeof e)this._headerContentWrapper.html(e);else if("object"==typeof e)try{this._headerContentWrapper[0].innerHTML="",e instanceof HTMLElement?this._headerContentWrapper[0].appendChild(e):e.appendTo&&e.appendTo(this._headerContentWrapper)}catch(e){throw new Error(e)}this.title=e,this._performLayout()},setContent:function(t){this._contentInitialized=!1;for(var i=this._content,s=!1;!s;)i[0].style.width="auto",i[0].style.height="auto",i.hasClass("jqx-window")?s=!0:i=e(i[0].parentNode);if(e.isArray(t))for(var r=0;r<t.length;r++)t[r].appendTo(this._content);else if("string"==typeof t)e(this._content[0]).html(t);else if("object"==typeof t)try{this._content[0].innerHTML="",t instanceof HTMLElement?this._content[0].appendChild(t):t.appendTo&&t.appendTo(this._content)}catch(e){throw new Error(e)}this.content=t,this._performLayout()},disable:function(){this.disabled=!0,this._removeEventHandlers(),this._header.addClass(this.toThemeProperty("jqx-window-header-disabled")),this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this._content.addClass(this.toThemeProperty("jqx-window-content-disabled")),this.host.addClass(this.toThemeProperty("jqx-window-disabled")),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(e){var t=this;e=void 0===e?this.closeButtonAction:e,this.hide((function(){"close"===e&&t._destroy()}))},bringToFront:function(){var t=e.data(document.body,"jqxwindows-list");if(this.isModal)return t=e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),void this._fixWindowZIndex("modal-show");for(var i=t[t.length-1],s=parseInt(i.css("z-index"),10),r=this._indexOf(this.host,t),n=t.length-1;n>r;n-=1){var o=parseInt(t[n].css("z-index"),10)-1;t[n][0].style.zIndex=o}this.element.style.zIndex=s,this._sortByStyle("z-index",t)},hide:function(t,i,s){var r=this;if(this.closing&&!1===this.closing())return;switch(i=i||this.closeAnimationDuration,this.animationType){case"none":this.element.style.display="none";break;case"fade":r._animationInProgress=!0,this.host.fadeOut({duration:i,callback:function(){r._animationInProgress=!1,t instanceof Function&&t()}});break;case"slide":r._animationInProgress=!0,this.host.slideUp({duration:i,callback:function(){r._animationInProgress=!1,t instanceof Function&&t()}});break;case"combined":r._animationInProgress=!0,this.host.animate({opacity:0,width:"0px",height:"0px"},{duration:i,complete:function(){r._animationInProgress=!1,r.element.style.display="none",t instanceof Function&&t()}})}this._visible=!1,this.isModal&&(e(this._modalBackground).hide(),this._fixWindowZIndex("modal-hide")),!0!==s&&(this._raiseEvent(1),this._raiseEvent(8))},open:function(e,t){this.show(e,t)},close:function(e,t,i){this.hide(e,t,i)},show:function(t,i){var s=this;switch(this._setDialogResult("none"),i=i||this.showAnimationDuration,this.animationType){case"none":this.element.style.display="block";break;case"fade":s._animationInProgress=!0,this.host.fadeIn({duration:i,complete:function(){s._animationInProgress=!1,t instanceof Function&&t()}});break;case"slide":s._animationInProgress=!0,this.host.slideDown({duration:i,callback:function(){s._animationInProgress=!1,t instanceof Function&&t()}});break;case"combined":this.element.style.display="block";var r=s.host.width(),n=s.host.height();this.element.style.minWidth="0px",this.element.style.minHeight="0px",this.element.style.opacity=0,this.element.style.width="0px",this.element.style.height="0px",s._animationInProgress=!0,this.host.animate({opacity:1,width:r+"px",height:n+"px"},{duration:i,complete:function(){s._animationInProgress=!1,s._performLayout(),t instanceof Function&&t()}})}this.isModal&&(e(this._modalBackground).show(),this._fixWindowZIndex("modal-show"));var o=this;if(this._visible||(i>150&&"none"!=this.animationType?setTimeout((function(){o._contentInitialized||o.initContent&&(o.initContent(),o._contentInitialized=!0),o._raiseEvent(7),o._raiseEvent(9)}),i-150):(o._contentInitialized||o.initContent&&(o.initContent(),o._contentInitialized=!0),this._raiseEvent(7),o._raiseEvent(9))),this._visible=!0,"combined"!==s.animationType&&this._performLayout(),this.autoFocus){var a=function(){o._isTouchDevice||o._content[0].focus()};a(),setTimeout((function(){a()}),100)}},_getTabbables:function(){var i;i=e.jqx.browser.msie&&e.jqx.browser.version<9?this._content.find("*"):this._content[0].querySelectorAll("*");var s=[];return e.each(i,(function(){(function(i){var s=i.getAttribute("tabindex"),r=null===s;return(r||s>=0)&&function(i,s){var r=i.nodeName.toLowerCase();if("area"===r){var n,o=i.parentNode,a=o.name;return!(!i.href||!a||"map"!==o.nodeName.toLowerCase())&&(!!(n=e("img[usemap=#"+a+"]")[0])&&t(n))}return(/input|select|textarea|button|object/.test(r)?!i.disabled:"a"==r&&i.href||s)&&t(i)}(i,!r)})(this)&&(s[s.length]=this)})),s},move:function(t,i,s,r){var n,o,a,l=0,h=0;if(t=parseInt(t,10),i=parseInt(i,10),e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(h=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(l=this._SCROLL_WIDTH)),n=this._validateCoordinates(t,i,h,l),parseInt(this.host.css("left"),10)!==n.x||parseInt(this.host.css("top"),10)!==n.y){if(s){var d=e.jqx.position(s);o=d.left,a=d.top}void 0===o&&(o=t),void 0===a&&(a=i),!1!==r&&this._raiseEvent(2,n.x,n.y,o,a)}this.element.style.left=n.x+"px",this.element.style.top=n.y+"px",this._moved=!0},_toPx:function(e){return"number"==typeof e?e+"px":e}})}(jqxBaseFramework),function(e){var t,i=(t=jqxBaseFramework,{resizeConfig:function(){this.resizeTarget=null,this.resizeIndicatorSize=5,this.resizeTargetChildren=null,this.isResizing=!1,this.resizeArea=!1,this.minWidth=1,this.maxWidth=100,this.minHeight=1,this.maxHeight=100,this.resizeParent=null,this.enableResize=!0,this._resizeEvents=["resizing","resized","resize"],this._resizeMouseDown=!1,this._resizeCurrentMode=null,this._mouseResizePosition={},this._resizeMethods=null,this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var e=t(this.resizeTarget.children(".jqx-resize"));e.detach();var i=e.children();this._removeResizeEventListeners();for(var s=0;s<i.length;s+=1)t(i[s]).detach(),this.resizeTarget.append(i[s]);e.remove()}this._resizeDirection=null},initResize:function(e){this.resizeConfig(),this.resizeTarget=t(e.target),this.resizeIndicatorSize=e.indicatorSize||10,this.maxWidth=e.maxWidth||100,this.minWidth=e.minWidth||1,this.maxHeight=e.maxHeight||100,this.minHeight=e.minHeight||1,this.resizeParent=e.resizeParent,this._parseResizeParentProperties(),this._validateResizeProperties(),this._validateResizeTargetDimensions(),this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,e.alsoResize),this._refreshResize(),this._cursorBackup=this.resizeTarget.css("cursor"),"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth,this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth,this.resizeTarget.maxHeight=this.maxHeight,this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(e,i,s,r,n){this.resizeTargetChildren=t(n),this.resizeTargetChildren=this.resizeTargetChildren.toArray();for(var o=this.resizeTargetChildren.length;o;)o-=1,this.resizeTargetChildren[o]=t(this.resizeTargetChildren[o])},_refreshResize:function(){this._renderResize(),this._performResizeLayout(),this._removeResizeEventListeners(),this._addResizeEventHandlers()},_renderResize:function(){var e=this;if(!(void 0!==e._resizeWrapper&&t(e._resizeWrapper).parents().length>0)){var i=document.createElement("div");i.className="jqx-resize jqx-rc-all",i.style.zIndex=8e3,i.appendChild(e._header[0]),i.appendChild(e._content[0]),e.resizeTarget[0].appendChild(i),e._resizeWrapper=i}},_performResizeLayout:function(){this._resizeWrapper.style.height=this.resizeTarget.height()+"px",this._resizeWrapper.style.width=this.resizeTarget.width()+"px"},_removeResizeEventListeners:function(){var e=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+e),this.removeHandler(this._resizeWrapper,"mousedown.resize"+e),this.removeHandler(t(document),"mousemove.resize"+e),this.removeHandler(t(document),"mouseup.resize"+e)},_addResizeEventHandlers:function(){var e=this.resizeTarget.attr("id"),i=this;i._isTouchDevice?(this.addHandler(this._resizeWrapper,"touchmove.resize."+e,(function(e){i._resizeCursorChangeHandler(i,e)})),this.addHandler(this._resizeWrapper,"touchstart.resize."+e,(function(e){i._resizeCursorChangeHandler(i,e),i._resizeMouseDownHandler(i,e)})),this.addHandler(t(document),"touchmove.resize."+e,(function(e){return i._resizeHandler(i,e)})),this.addHandler(t(document),"touchend.resize."+e,(function(e){i._stopResizing(i,e)}))):(this.addHandler(this._resizeWrapper,"mousemove.resize."+e,(function(e){i._resizeCursorChangeHandler(i,e)})),this.addHandler(this._resizeWrapper,"mousedown.resize."+e,(function(e){i._resizeMouseDownHandler(i,e)})),this.addHandler(t(document),"mousemove.resize."+e,(function(e){return i._resizeHandler(i,e)})),this.addHandler(t(document),"mouseup.resize."+e,(function(e){i._stopResizing(i,e)})));try{if(""!==document.referrer||window.frameElement){var s=function(e){i._stopResizing(i,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}catch(e){}},_stopResizing:function(e){e.enableResize&&(e.isResizing&&e._raiseResizeEvent(1),e._resizeMouseDown=!1,e.isResizing=!1,e._resizeDirection=null,e.resizeTarget&&e.resizeTarget.removeClass("jqx-disableselect")),"undefined"==e._cursorBackup&&(e._cursorBackup="default"),e._resizeWrapper&&(e._resizeWrapper.style.cursor=e._cursorBackup)},_resizeHandler:function(e,i){if(e.enableResize&&!e.collapsed){if(e.isResizing&&e._resizeDirection){if(0===i.which&&t.jqx.browser.msie&&t.jqx.browser.version<9&&e._stopResizing(i),e._isTouchDevice){var s=t.jqx.position(i);return e._performResize(s.left,s.top),!1}return e._performResize(i.pageX,i.pageY),!1}return e._isTouchDevice?(s=t.jqx.position(i),e._resizeCaptureCursor(s.left,s.top)):e._resizeCaptureCursor(i.pageX,i.pageY)}},_resizeCaptureCursor:function(e,t){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection){if(this._isTouchDevice)return this._changeCursor(e-parseInt(this.resizeTarget.css("left"),10),t-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1;if(e+3<this._mouseResizePosition.x||e-3>this._mouseResizePosition.x||t+3<this._mouseResizePosition.y||t-3>this._mouseResizePosition.y)return this._changeCursor(e-parseInt(this.resizeTarget.css("left"),10),t-parseInt(this.resizeTarget.css("top"),10)),this._mouseResizePosition={x:e,y:t},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1}},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width(),this.resizeTarget.lastHeight=this.resizeTarget.height(),this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10),this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10),this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var e,t=this.resizeTargetChildren.length;t;)t-=1,e=this.resizeTargetChildren[t],this.resizeTargetChildren[t].lastWidth=e.width(),this.resizeTargetChildren[t].lastHeight=e.height()},_performResize:function(e,t){var i=e-this._mouseResizePosition.x,s=t-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,i,s)},_resizeCursorChangeHandler:function(e,i){if(e.enableResize&&!e.collapsed&&!e.isResizing){if(e._isTouchDevice){var s=t.jqx.position(i);return void e._changeCursor(s.left-parseInt(e.resizeTarget.css("left"),10),s.top-parseInt(e.resizeTarget.css("top"),10))}e._changeCursor(i.pageX-parseInt(e.resizeTarget.css("left"),10),i.pageY-parseInt(e.resizeTarget.css("top"),10))}},_resizeMouseDownHandler:function(e,i){if(e.enableResize&&null!==e._resizeDirection){if(e._resizeMouseDown=!0,e._isTouchDevice){var s=t.jqx.position(i);e._mouseResizePosition.x=s.left,e._mouseResizePosition.y=s.top}else e._mouseResizePosition.x=i.pageX,e._mouseResizePosition.y=i.pageY;i.preventDefault()}},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw new Error(this._resizeExceptions.invalidTarget);if(this.minHeight<0||isNaN(parseInt(this.minHeight,10)))throw new Error(this._resizeExceptions.invalidMinHeight);if(this.maxHeight<=0||isNaN(parseInt(this.maxHeight,10)))throw new Error(this._resizeExceptions.invalidMaxHeight);if(this.minWidth<0||isNaN(parseInt(this.minWidth,10)))throw new Error(this._resizeExceptions.invalidMinWidth);if(this.maxWidth<0||isNaN(parseInt(this.maxWidth,10)))throw new Error(this._resizeExceptions.invalidMaxWidth);if(this.resizeIndicatorSize<0||isNaN(parseInt(this.resizeIndicatorSize,10)))throw new Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw new Error(this._resizeExceptions.invalidSize)}catch(e){throw new Error(e)}},_changeCursor:function(e,t){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,e<=this.resizeIndicatorSize&&e>=0&&t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.style.cursor="nw-resize",this._resizeDirection="topleft"):t<=this.resizeIndicatorSize&&t>0&&e>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.style.cursor="ne-resize",this._resizeDirection="topright"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.style.cursor="sw-resize",this._resizeDirection="bottomleft"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()&&e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="se-resize",this._resizeDirection="bottomright"):e<=this.resizeIndicatorSize&&e>=0?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="left"):t<=this.resizeIndicatorSize&&t>0?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="top"):t>=this.resizeTarget.height()-this.resizeIndicatorSize&&t<this.resizeTarget.height()?(this._resizeWrapper.style.cursor="n-resize",this._resizeDirection="bottom"):e>=this.resizeTarget.width()-this.resizeIndicatorSize&&e<this.resizeTarget.width()?(this._resizeWrapper.style.cursor="e-resize",this._resizeDirection="right"):(this._resizeWrapper.style.cursor=this._cursorBackup,this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(e){this._resizeMethods=[],e.indexOf("left")>=0&&this._resizeMethods.push(this._resizeLeft),e.indexOf("top")>=0&&this._resizeMethods.push(this._resizeTop),e.indexOf("right")>=0&&this._resizeMethods.push(this._resizeRight),e.indexOf("bottom")>=0&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(e,t,i,s,r){return"horizontal"===i||"both"===i?this._validateWidth(e,s,r):"vertical"===i||"both"===i?this._validateHeight(t,s,r):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:t(document).width(),height:t(document).height()}},_validateHeight:function(e,i,s){var r=0,n=this._getParent();return t(window).width()>t(document).width()&&t.jqx.browser.msie&&n.height===t(document).height()&&(r=this._SCROLL_WIDTH),"bottom"===s&&e+i.position().top+r+2>n.height+n.top?{fix:n.height-i.position().top-r-2+n.top,result:!1}:"top"===s&&i.lastHeight-e+i.y<n.top?{fix:e+(i.lastHeight-e+i.y)-n.top,result:!1}:e<i.minHeight?{fix:i.minHeight,result:!1}:e>i.maxHeight?{fix:i.maxHeight,result:!1}:{result:!0,fix:e}},_validateWidth:function(e,i,s){var r=0,n=this._getParent();return t(window).height()<t(document).height()&&t.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&n.width===t(document).width()&&(r=this._SCROLL_WIDTH),"right"===s&&e+i.position().left+r+2>n.width+n.left?{fix:n.width-i.position().left-r-2+n.left,result:!1}:"left"===s&&i.lastWidth-e+i.x<n.left?{fix:e+(i.lastWidth-e+i.x)-n.left,result:!1}:e<i.minWidth?{fix:i.minWidth,result:!1}:e>i.maxWidth?{fix:i.maxWidth,result:!1}:{result:!0,fix:e}},_resize:function(e,t,i){for(var s=this._resizeMethods.length,r=0;r<s;r++)if(this._resizeMethods[r]instanceof Function){var n={element:e,x:t,y:i,self:this};this._resizeMethods[r](n)}this._performResizeLayout()},resize:function(e,t){if(this.resizable){var i=e-this.host.width(),s=t-this.host.height(),r="right";0!==s&&(r="bottom"),this._resizeDirection=r,this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1,i>0&&s>0&&(this._resizeDirection="right",this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this._resize(this.resizeTarget,i,s),this.isResizing=!1)}},_setResizeChildrenSize:function(e,t){for(var i=this.resizeTargetChildren.length;i;)if(i--,"width"===t){var s=this.resizeTargetChildren[i].lastWidth-(this.resizeTarget.lastWidth-e);s<this.resizeTarget.maxWidth&&s>0&&this.resizeTargetChildren[i].width(s)}else{var r=this.resizeTargetChildren[i].lastHeight-(this.resizeTarget.lastHeight-e);r<this.resizeTarget.maxHeight&&r>0&&this.resizeTargetChildren[i].height(r)}},_resizeRight:function(e){var i=e.element.lastWidth+e.x,s=e.self._validateResize(i,0,"horizontal",e.element,"right");if(s.result||(i=s.fix),e.element.width()!==i){if(e.self._setResizeChildrenSize(i,"width"),e.element.width(i),e.self.width.toString().indexOf("%")>=0){var r=1/(t(document.body).width()/100);e.element[0].style.width=r*i+"%",e.self._setChildrenLayout()}e.self._raiseResizeEvent(0)}return i},_resizeLeft:function(e){var i=e.element.lastWidth-e.x,s=e.self._validateResize(i,0,"horizontal",e.element,"left"),r=e.element.x+e.x;if(!s.result)return r=e.element.x+(e.element.lastWidth-s.fix),void(i=s.fix);if(e.element.width()!==i){if(e.self._setResizeChildrenSize(i,"width"),e.element.width(i),e.self.width.toString().indexOf("%")>=0){var n=1/(t(document.body).width()/100);e.element[0].style.width=n*i+"%",e.self._setChildrenLayout()}e.element[0].style.left=e.self._toPx(r),e.self._raiseResizeEvent(0)}return i},_resizeBottom:function(e){var i=e.element.lastHeight+e.y,s=e.self._validateResize(0,i,"vertical",e.element,"bottom");if(s.result||(i=s.fix),e.element.height()!==i){if(e.self._setResizeChildrenSize(i,"height"),e.element.height(i),e.self.height.toString().indexOf("%")>=0){var r=1/(t(document.body).height()/100);e.element[0].style.height=r*i+"%",e.self._setChildrenLayout()}e.self._raiseResizeEvent(0)}return i},_resizeTop:function(e){var i=e.element.lastHeight-e.y,s=e.self._validateResize(0,i,"vertical",e.element,"top"),r=e.element.y+e.y;if(!s.result)return r=e.element.y+(e.element.lastHeight-s.fix),void(i=s.fix);if(e.element.height()!==i){if(e.self._setResizeChildrenSize(i,"height"),e.element.height(i),e.self.height.toString().indexOf("%")>=0){var n=1/(t(document.body).height()/100);e.element[0].style.height=n*i+"%",e.self._setChildrenLayout()}e.element[0].style.top=e.self._toPx(r),e.self._raiseResizeEvent(0)}return i},_raiseResizeEvent:function(e){var i=this._resizeEvents[e],s=t.Event(i),r={};if(r.width=parseInt(this.resizeTarget[0].style.width,10),r.height=parseInt(this.resizeTarget[0].style.height,10),s.args=r,0===e){i=this._resizeEvents[2];var n=t.Event(i);n.args=r,this.resizeTarget.trigger(n)}return this.resizeTarget.trigger(s)}});e.extend(e.jqx._jqxWindow.prototype,i)}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxScrollBar","",{}),e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var t={height:null,width:null,vertical:!1,min:0,max:1e3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1,offset:0,reference:0,velocity:0,frame:0,timestamp:0,ticker:null,amplitude:0,target:0};return this===e.jqx._jqxScrollBar.prototype||e.extend(!0,this,t),t},createInstance:function(e){this.render()},render:function(){this._mouseup=new Date;var t=this,i="<div id='jqxScrollOuterWrap' style='box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'><div id='jqxScrollWrap' style='box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'><div id='jqxScrollBtnUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div><div id='jqxScrollAreaUp' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollThumb' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollAreaDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='jqxScrollBtnDown' style='box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><div></div></div></div></div>";if(e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1),t.WinJS?MSApp.execUnsafeLocalFunction((function(){t.host.html(i)})):this.element.innerHTML=i,null!=this.width&&parseInt(this.width)>0&&this.host.width(parseInt(this.width)),null!=this.height&&parseInt(this.height)>0&&this.host.height(parseInt(this.height)),this.isPercentage=!1,null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0),this.isPercentage){var s=this;e.jqx.utilities.resize(this.host,(function(){s._arrange()}),!1)}this.thumbCapture=!1,this.scrollOuterWrap=e(this.element.firstChild),this.scrollWrap=e(this.scrollOuterWrap[0].firstChild),this.btnUp=e(this.scrollWrap[0].firstChild),this.areaUp=e(this.btnUp[0].nextSibling),this.btnThumb=e(this.areaUp[0].nextSibling),this.arrowUp=e(this.btnUp[0].firstChild),this.areaDown=e(this.btnThumb[0].nextSibling),this.btnDown=e(this.areaDown[0].nextSibling),this.arrowDown=e(this.btnDown[0].firstChild);var r=this.element.id;if(this.btnUp[0].id="jqxScrollBtnUp"+r,this.btnDown[0].id="jqxScrollBtnDown"+r,this.btnThumb[0].id="jqxScrollThumb"+r,this.areaUp[0].id="jqxScrollAreaUp"+r,this.areaDown[0].id="jqxScrollAreaDown"+r,this.scrollWrap[0].id="jqxScrollWrap"+r,this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+r,!this.host.jqxRepeatButton)throw new Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance,this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance,this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0}),this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled}),this.propertyChangeMap.value=function(e,t,i,s){isNaN(s)||i!=s&&e.setPosition(parseFloat(s),!0)},this.propertyChangeMap.width=function(e,t,i,s){null!=e.width&&parseInt(e.width)>0&&(e.host.width(parseInt(e.width)),e._arrange())},this.propertyChangeMap.height=function(e,t,i,s){null!=e.height&&parseInt(e.height)>0&&(e.host.height(parseInt(e.height)),e._arrange())},this.propertyChangeMap.theme=function(e,t,i,s){e.setTheme()},this.propertyChangeMap.max=function(e,t,i,s){isNaN(s)||i!=s&&(e.max=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.min=function(e,t,i,s){isNaN(s)||i!=s&&(e.min=parseInt(s),e.min>e.max&&(e.max=e.min+1),e._arrange(),e.setPosition(e.value))},this.propertyChangeMap.disabled=function(e,t,i,s){i!=s&&(s?e.host.addClass(e.toThemeProperty("jqx-fill-state-disabled")):e.host.removeClass(e.toThemeProperty("jqx-fill-state-disabled")),e.btnUp.jqxRepeatButton("disabled",e.disabled),e.btnDown.jqxRepeatButton("disabled",e.disabled),e.btnThumb.jqxButton("disabled",e.disabled))},this.propertyChangeMap.touchMode=function(e,t,i,s){i!=s&&(e._updateTouchBehavior(),!0===s?(e.showButtons=!1,e.refresh()):!1===s&&(e.showButtons=!0,e.refresh()))},this.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},this.buttonUpCapture=!1,this.buttonDownCapture=!1,this._updateTouchBehavior(),this.setPosition(this.value),this._addHandlers(),this.setTheme()},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_updateTouchBehavior:function(){if(this.isTouchDevice=e.jqx.mobile.isTouchDevice(),1==this.touchMode){if(e.jqx.browser.msie&&e.jqx.browser.version<9)return void this.setTheme();this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers(),this.setTheme()}else 0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var t=this,i=!1;try{("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)&&(i=!0,this._touchSupport=!0)}catch(e){}if((t.isTouchDevice||i)&&(this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),(function(e){var i=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),s=t.toThemeProperty("jqx-fill-state-pressed");return t.btnThumb.removeClass(i),t.btnThumb.removeClass(s),t.disabled||t.handlemouseup(t,e),!1})),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),(function(e){if(!t.disabled){if(1==t.touchMode)e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY;else{var i=e;i.originalEvent.touches&&i.originalEvent.touches.length?(e.clientX=i.originalEvent.touches[0].clientX,e.clientY=i.originalEvent.touches[0].clientY):(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)}t.handlemousedown(e),e.preventDefault&&e.preventDefault()}})),e.jqx.mobile.touchScroll(this.element,t.max,(function(e,i,s,r,n){if("visible"==t.host.css("visibility")){if(n)if(1==t.touchMode)n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY;else{var o=n;o.originalEvent.touches&&o.originalEvent.touches.length?(n.clientX=o.originalEvent.touches[0].clientX,n.clientY=o.originalEvent.touches[0].clientY):(n.clientX=n.originalEvent.clientX,n.clientY=n.originalEvent.clientY)}var a=t.vertical?t.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):t.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");t.btnThumb.addClass(a),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.thumbCapture=!0,t.element.setAttribute("touched",""),t.handlemousemove(n)}}),t.element.id,t.host,t.host)),!this.isTouchDevice){try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var s=null;if(window.parent&&document.referrer&&(s=document.referrer),s&&-1!=s.indexOf(document.location.host)){var r=function(e){t.disabled||t.handlemouseup(t,e)};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",r,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",r)}}}catch(e){}var n="click mouseup mousedown";this.addHandler(this.btnDown,n,(function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonDownCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value+i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value+i);break;case"mouseup":if(!t.btnDownInstance.base.disabled&&t.buttonDownCapture)return t.buttonDownCapture=!1,t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","down"),t.handlemouseup(t,e),t.setPosition(t.value+i),!1;break;case"mousedown":if(!t.btnDownInstance.base.disabled)return t.buttonDownCapture=!0,t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","down"),!1}})),this.addHandler(this.btnUp,n,(function(e){var i=t.step;switch(Math.abs(t.max-t.min)<=i&&(i=1),t.rtl&&!t.vertical&&(i=-t.step),e.type){case"click":t.buttonUpCapture&&!t.isTouchDevice?t.disabled||t.setPosition(t.value-i):!t.disabled&&t.isTouchDevice&&t.setPosition(t.value-i);break;case"mouseup":if(!t.btnUpInstance.base.disabled&&t.buttonUpCapture)return t.buttonUpCapture=!1,t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._removeArrowClasses("pressed","up"),t.handlemouseup(t,e),t.setPosition(t.value-i),!1;break;case"mousedown":if(!t.btnUpInstance.base.disabled)return t.buttonUpCapture=!0,t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-pressed")),t._addArrowClasses("pressed","up"),!1}}))}var o="click";if(this.isTouchDevice&&(o=e.jqx.mobile.getTouchEventName("touchend")),this.addHandler(this.areaUp,o,(function(e){if(!t.disabled){var i=t.largestep;t.rtl&&!t.vertical&&(i=-t.largestep);var s=!0,r=t.btnThumb.offset();return t.vertical?t.areaClickOffset.y>=r.top&&(s=!1):t.areaClickOffset.x>=r.left&&(s=!1),s&&t.setPosition(t.value-i),!1}})),this.addHandler(this.areaDown,o,(function(e){if(!t.disabled){var i=t.largestep;t.rtl&&!t.vertical&&(i=-t.largestep);var s=!0,r=t.btnThumb.offset();return t.vertical?t.areaClickOffset.y<=r.top&&(s=!1):t.areaClickOffset.x<=r.left&&(s=!1),s&&t.setPosition(t.value+i),!1}})),this.addHandler(this.areaUp,"mousedown",(function(e){if(!t.disabled)return t.areaUpCapture=!0,t.areaClickOffset={x:e.pageX,y:e.pageY},!1})),this.addHandler(this.areaDown,"mousedown",(function(e){if(!t.disabled)return t.areaDownCapture=!0,t.areaClickOffset={x:e.pageX,y:e.pageY},!1})),this.addHandler(this.btnThumb,"mousedown dragstart",(function(e){if("dragstart"===e.type)return!1;t.disabled||t.handlemousedown(e),e.preventDefault&&e.preventDefault()})),this.addHandler(e(document),"mouseup."+this.element.id,(function(e){t.disabled||t.handlemouseup(t,e)})),!this.isTouchDevice&&(this.mousemoveFunc=function(e){t.disabled||t.handlemousemove(e)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,(function(e){t.disabled||t.handlemouseleave(e)})),this.addHandler(e(document),"mouseenter."+this.element.id,(function(e){t.disabled||t.handlemouseenter(e)})),!t.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",(function(e){"mouseenter"===e.type?t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","up")):t.disabled||t.btnUpInstance.base.disabled||1==t.touchMode||(t.btnUp.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnUp.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","up"))}));var a=t.toThemeProperty("jqx-scrollbar-thumb-state-hover");t.vertical||(a=t.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal")),this.addHandler(this.btnThumb,"mouseenter mouseleave",(function(e){"mouseenter"===e.type?t.disabled||1==t.touchMode||(t.btnThumb.addClass(a),t.btnThumb.addClass(t.toThemeProperty("jqx-fill-state-hover"))):t.disabled||1==t.touchMode||(t.btnThumb.removeClass(a),t.btnThumb.removeClass(t.toThemeProperty("jqx-fill-state-hover")))})),this.addHandler(this.btnDown,"mouseenter mouseleave",(function(e){"mouseenter"===e.type?t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.addClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._addArrowClasses("hover","down")):t.disabled||t.btnDownInstance.base.disabled||1==t.touchMode||(t.btnDown.removeClass(t.toThemeProperty("jqx-scrollbar-button-state-hover")),t.btnDown.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._removeArrowClasses("hover","down"))}))}},destroy:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=(this.scrollWrap,this.areaUp),n=this.areaDown;this.arrowUp.remove(),delete this.arrowUp,this.arrowDown.remove(),delete this.arrowDown,n.removeClass(),r.removeClass(),i.removeClass(),t.removeClass(),s.removeClass(),t.jqxRepeatButton("destroy"),i.jqxRepeatButton("destroy"),r.jqxRepeatButton("destroy"),n.jqxRepeatButton("destroy"),s.jqxButton("destroy");var o=e.data(this.element,"jqxScrollBar");this._removeHandlers(),this.btnUp=null,this.btnDown=null,this.scrollWrap=null,this.areaUp=null,this.areaDown=null,this.scrollOuterWrap=null,delete this.mousemoveFunc,delete this.btnDownInstance,delete this.btnUpInstance,delete this.scrollOuterWrap,delete this.scrollWrap,delete this.btnDown,delete this.areaDown,delete this.areaUp,delete this.btnDown,delete this.btnUp,delete this.btnThumb,delete this.propertyChangeMap.value,delete this.propertyChangeMap.min,delete this.propertyChangeMap.max,delete this.propertyChangeMap.touchMode,delete this.propertyChangeMap.disabled,delete this.propertyChangeMap.theme,delete this.propertyChangeMap,o&&delete o.instance,this.host.removeData(),this.host.remove(),delete this.host,delete this.set,delete this.get,delete this.call,delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter"),this.removeHandler(this.btnDown,"mouseenter"),this.removeHandler(this.btnThumb,"mouseenter"),this.removeHandler(this.btnUp,"mouseleave"),this.removeHandler(this.btnDown,"mouseleave"),this.removeHandler(this.btnThumb,"mouseleave"),this.removeHandler(this.btnUp,"click"),this.removeHandler(this.btnDown,"click"),this.removeHandler(this.btnDown,"mouseup"),this.removeHandler(this.btnUp,"mouseup"),this.removeHandler(this.btnDown,"mousedown"),this.removeHandler(this.btnUp,"mousedown"),this.removeHandler(this.areaUp,"mousedown"),this.removeHandler(this.areaDown,"mousedown"),this.removeHandler(this.areaUp,"click"),this.removeHandler(this.areaDown,"click"),this.removeHandler(this.btnThumb,"mousedown"),this.removeHandler(this.btnThumb,"dragstart"),this.removeHandler(e(document),"mouseup."+this.element.id),this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id),this.removeHandler(e(document),"mouseleave."+this.element.id),this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},_removeArrowClasses:function(e,t){"pressed"==e&&(e="selected"),""!=e&&(e="-"+e),this.vertical?("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+e))):("up"!=t&&null!=t||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+e)),"down"!=t&&null!=t||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+e)))},setTheme:function(){var t=this.btnUp,i=this.btnDown,s=this.btnThumb,r=this.scrollWrap,n=(this.areaUp,this.areaDown,this.arrowUp),o=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset"),this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var a=this.toThemeProperty("jqx-reset");this.areaDown[0].className=a,this.areaUp[0].className=a;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l),this.isTouchDevice&&this.host.addClass(this.toThemeProperty("jqx-scrollbar-mobile")),i[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal"),t[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");var h="";if(this.vertical?(n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-up"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-down"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(n[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-left"),o[0].className=a+" "+this.toThemeProperty("jqx-icon-arrow-right"),h=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal")),h+=" "+this.toThemeProperty("jqx-fill-state-normal"),s[0].className=h,this.disabled?(r.addClass(this.toThemeProperty("jqx-fill-state-disabled")),r.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(r.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),r.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))),"all"==this.roundedCorners)if(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical){var d=e.jqx.cssroundedcorners("top");d=this.toThemeProperty(d),t.addClass(d);var c=e.jqx.cssroundedcorners("bottom");c=this.toThemeProperty(c),i.addClass(c)}else{var u=e.jqx.cssroundedcorners("left");u=this.toThemeProperty(u),t.addClass(u);var p=e.jqx.cssroundedcorners("right");p=this.toThemeProperty(p),i.addClass(p)}else{var m=e.jqx.cssroundedcorners(this.roundedCorners);m=this.toThemeProperty(m),t.addClass(m),i.addClass(m)}m=e.jqx.cssroundedcorners(this.roundedCorners);m=this.toThemeProperty(m),s.hasClass(m)||s.addClass(m),"none"===t.css("display")&&(this.showButtons=!1,this.touchModeStyle=!0,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch"))),this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return null!=this.thumbCapture&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&null!=this.areaDownCapture&&null!=this.areaUpCapture&&(this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture)},track:function(){var e,t,i,s;t=(e=Date.now())-this.timestamp,this.timestamp=e,i=this.offset-this.frame,this.frame=this.offset,s=1e3*i/(1+t),this.velocity=.2*s+.2*this.velocity},handlemousedown:function(t){if(null==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var i=this.btnThumb;null!=i&&(i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):i.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),this.element.setAttribute("touched",""))}var s=this;this.thumbCapture&&e.jqx.scrollAnimation&&(s.reference=parseInt(s.btnThumb[0].style.top),s.offset=parseInt(s.btnThumb[0].style.top),s.vertical||(s.reference=parseInt(s.btnThumb[0].style.left),s.offset=parseInt(s.btnThumb[0].style.left)),s.velocity=s.amplitude=0,s.frame=s.offset,s.timestamp=Date.now(),clearInterval(s.ticker),s.ticker=setInterval((function(){s.track()}),100)),this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragStartValue=this.value},toggleHover:function(e,t){},refresh:function(){this._arrange()},_setElementPosition:function(e,t,i){isNaN(t)||parseInt(e[0].style.left)!=parseInt(t)&&(e[0].style.left=t+"px"),isNaN(i)||parseInt(e[0].style.top)!=parseInt(i)&&(e[0].style.top=i+"px")},_setElementTopPosition:function(e,t){isNaN(t)||(e[0].style.top=t+"px")},_setElementLeftPosition:function(e,t){isNaN(t)||(e[0].style.left=t+"px")},handlemouseleave:function(e){var t=this.btnUp,i=this.btnDown;if((this.buttonDownCapture||this.buttonUpCapture)&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed")),1==this.thumbCapture){var s=this.btnThumb,r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.element.removeAttribute("touched")}},handlemouseenter:function(e){var t=this.btnUp,i=this.btnDown;if(this.buttonUpCapture&&(t.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up"),this.element.setAttribute("touched","")),this.buttonDownCapture&&(i.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down"),this.element.setAttribute("touched","")),1==this.thumbCapture){var s=this.btnThumb;this.vertical?s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):s.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),s.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.element.setAttribute("touched","")}},handlemousemove:function(e){var t=this.btnUp,i=this.btnDown;if(null!=i&&null!=t){if(null!=t&&null!=i&&null!=this.buttonDownCapture&&null!=this.buttonUpCapture&&(this.buttonDownCapture&&0==e.which?(i.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),i.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==e.which&&(t.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),t.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1)),1!=this.thumbCapture)return!1;var s=this.btnThumb;if(0==e.which&&!this.isTouchDevice&&!this._touchSupport){this.thumbCapture=!1,this._arrange();var r=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");return s.removeClass(r),s.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0}null!=e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation();var n=0;try{n=this.vertical?e.clientY-this.dragStartY:e.clientX-this.dragStartX;var o=this._btnAndThumbSize;this._btnAndThumbSize||(o=this.vertical?t.height()+i.height()+s.height():t.width()+i.width()+s.width());var a=(this.max-this.min)/(this.scrollBarSize-o);if("auto"!=this.thumbStep){if(n*=a,Math.abs(this.dragStartValue+n-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(n)/this.thumbStep)*this.thumbStep;return this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-l):this.setPosition(this.dragStartValue+l),!1}return!1}l=n*=a;this.rtl&&!this.vertical&&(l=-n),this.setPosition(this.dragStartValue+l),this.offset=parseInt(s[0].style.left),this.vertical&&(this.offset=parseInt(s[0].style.top))}catch(e){alert(e)}return!1}},handlemouseup:function(t,i){var s=!1;if(this.thumbCapture){this.thumbCapture=!1;var r=this.btnThumb,n=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");if(r.removeClass(n),r.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.element.removeAttribute("touched"),s=!0,this._mouseup=new Date,e.jqx.scrollAnimation){var o=this;clearInterval(this.ticker),(this.velocity>25||this.velocity<-25)&&(this.amplitude=.8*this.velocity,this.target=Math.round(this.offset+this.amplitude),this.vertical,this.target-=this.reference,this.timestamp=Date.now(),requestAnimationFrame((function e(){var t,i;if(o.amplitude)if(t=Date.now()-o.timestamp,(i=-o.amplitude*Math.exp(-t/325))>.5||i<-.5){var s=r=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize)*(o.target+i);o.rtl&&!o.vertical&&(s=-r),o.setPosition(o.dragStartValue+s),requestAnimationFrame(e)}else{var r;s=r=(o.max-o.min)/(o.scrollBarSize-o._btnAndThumbSize)*(o.target+i),o.rtl&&!o.vertical&&(s=-r),o.setPosition(o.dragStartValue+s)}})))}}if(this.areaDownCapture=this.areaUpCapture=!1,this.buttonUpCapture||this.buttonDownCapture){var a=this.btnUp,l=this.btnDown;this.buttonUpCapture=!1,this.buttonDownCapture=!1,a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),l.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),l.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),this.element.removeAttribute("touched"),s=!0,this._mouseup=new Date}s&&(null!=i.preventDefault&&i.preventDefault(),null!=i.originalEvent&&(i.originalEvent.mouseHandled=!0),null!=i.stopPropagation&&i.stopPropagation())},setPosition:function(t,i){this.element;if(null!=t&&NaN!=t||(t=this.min),t>=this.max&&(t=this.max),t<this.min&&(t=this.min),this.value!==t||1==i){if(t==this.max){var s=new e.Event("complete");this.host.trigger(s)}var r=this.value;if(this._triggervaluechanged){var n=new e.Event("valueChanged");n.previousValue=this.value,n.currentValue=t}this.value=t,this._positionelements(),this._triggervaluechanged&&this.host.trigger(n),this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:r})}return t},val:function(e){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&("date"!=typeof e&&("boolean"!=typeof e&&"string"!=typeof e))};return t(e)||0==arguments.length?this.value:(this.setPosition(e),e)},_getThumbSize:function(e){var t=this.max-this.min,i=0;return t>1?i=e/(t+e)*e:1==t?i=e-1:0==t&&(i=e),this.thumbSize>0&&(i=this.thumbSize),i<this.thumbMinSize&&(i=this.thumbMinSize),Math.min(i,e)},_positionelements:function(){this.element;var e=this.areaUp,t=this.areaDown,i=(this.btnUp,this.btnDown,this.btnThumb),s=(this.scrollWrap,this._height?this._height:this.host.height()),r=this._width?this._width:this.host.width(),n=this.vertical?r:s;this.showButtons||(n=0);var o=this.vertical?s:r;this.scrollBarSize=o;var a=this._getThumbSize(o-2*n);(a=Math.floor(a))<this.thumbMinSize&&(a=this.thumbMinSize),(NaN==s||s<10)&&(s=10),(NaN==r||r<10)&&(r=10),n+=2,this.btnSize=n;var l=this._btnAndThumbSize;if(!this._btnAndThumbSize){l=this.vertical?2*this.btnSize+i.outerHeight():2*this.btnSize+i.outerWidth();l=Math.round(l)}var h=(o-l)/(this.max-this.min)*(this.value-this.min);if(this.rtl&&!this.vertical&&(h=(o-l)/(this.max-this.min)*(this.max-this.value-this.min)),(h=Math.round(h))<0&&(h=0),this.vertical){var d=o-h-l;d<0&&(d=0),t[0].style.height=d+"px",e[0].style.height=h+"px",this._setElementTopPosition(e,n),this._setElementTopPosition(i,n+h),this._setElementTopPosition(t,n+h+a)}else e[0].style.width=h+"px",t[0].style.width=o-h-l>=0?o-h-l+"px":"0px",this._setElementLeftPosition(e,n),this._setElementLeftPosition(i,n+h),this._setElementLeftPosition(t,2+n+h+a)},_arrange:function(){var e=this;if(e._initialLayout)e._initialLayout=!1;else{if(e.min>e.max){var t=e.min;e.min=e.max,e.max=t}if(e.min<0){var i=e.max-e.min;e.min=0,e.max=i}e.element;var s=e.areaUp,r=e.areaDown,n=e.btnUp,o=e.btnDown,a=e.btnThumb,l=e.scrollWrap,h=parseInt(e.element.style.height),d=parseInt(e.element.style.width);if(e.isPercentage)h=e.host.height(),d=e.host.width();isNaN(h)&&(h=0),isNaN(d)&&(d=0),e._width=d,e._height=h;var c=e.vertical?d:h;e.showButtons||(c=0),n[0].style.width=c+"px",n[0].style.height=c+"px",o[0].style.width=c+"px",o[0].style.height=c+"px",e.vertical?l[0].style.width=d+2+"px":l[0].style.height=h+2+"px",e._setElementPosition(n,0,0);var u=c+2;e.vertical?e._setElementPosition(o,0,h-u):e._setElementPosition(o,d-u,0);var p=e.vertical?h:d;e.scrollBarSize=p;var m=e._getThumbSize(p-2*u);(m=Math.floor(m-2))<e.thumbMinSize&&(m=e.thumbMinSize);var f=!1;e.isTouchDevice&&0!=e.touchModeStyle&&(f=!0),e.vertical?(a[0].style.width=d+"px",a[0].style.height=m+"px",f&&0!==e.thumbTouchSize&&(a.css({width:e.thumbTouchSize+"px"}),a.css("margin-left",(e.host.width()-e.thumbTouchSize)/2))):(a[0].style.width=m+"px",a[0].style.height=h+"px",f&&0!==e.thumbTouchSize&&(a.css({height:e.thumbTouchSize+"px"}),a.css("margin-top",(e.host.height()-e.thumbTouchSize)/2))),(NaN==h||h<10)&&(h=10),(NaN==d||d<10)&&(d=10),e.btnSize=c;var g=e.vertical?2*u+(2+parseInt(a[0].style.height)):2*u+(2+parseInt(a[0].style.width));g=Math.round(g),e._btnAndThumbSize=g;var v=(p-g)/(e.max-e.min)*(e.value-e.min);if(e.rtl&&!e.vertical&&(v=(p-g)/(e.max-e.min)*(e.max-e.value-e.min)),v=Math.round(v),(isNaN(v)||v<0||v===-1/0||v===1/0)&&(v=0),e.vertical){var x=p-v-g;x<0&&(x=0),r[0].style.height=x+"px",r[0].style.width=d+"px",s[0].style.height=v+"px",s[0].style.width=d+"px";var b=parseInt(e.element.style.height);e.isPercentage&&(b=e.host.height()),a[0].style.visibility="inherit",(b-3*parseInt(c)<0||b<g)&&(a[0].style.visibility="hidden"),e._setElementPosition(s,0,u),e._setElementPosition(a,0,u+v),e._setElementPosition(r,0,u+v+m)}else{v>0&&(s[0].style.width=v+"px"),h>0&&(s[0].style.height=h+"px");var y=p-v-g;y<0&&(y=0),r[0].style.width=y+"px",r[0].style.height=h+"px";var w=parseInt(e.element.style.width);e.isPercentage&&(w=e.host.width()),a[0].style.visibility="inherit",(w-3*parseInt(c)<0||w<g)&&(a[0].style.visibility="hidden"),e._setElementPosition(s,u,0),e._setElementPosition(a,u+v,0),e._setElementPosition(r,u+v+m,0)}}}})}(jqxBaseFramework),function(e){e.jqx.cssroundedcorners=function(e){var t={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(var i in t)if(t.hasOwnProperty(i)&&e==i)return t[i]},e.jqx.jqxWidget("jqxButton","",{}),e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var t={type:"",cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,imgPosition:"center",imgSrc:"",imgWidth:16,imgHeight:16,value:null,textPosition:"",textImageRelation:"overlay",rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};return this===e.jqx._jqxButton.prototype||e.extend(!0,this,t),t},_addImage:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()||"button"==i.element.nodeName.toLowerCase()||"div"==i.element.nodeName.toLowerCase()){if(i._img)i._img.setAttribute("src",i.imgSrc),i._img.setAttribute("width",i.imgWidth),i._img.setAttribute("height",i.imgHeight),i._text.innerHTML=i.value;else{i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title},r=null;if(i.field.getAttribute("value"))r=i.field.getAttribute("value");else if("input"!=i.element.nodeName.toLowerCase())r=i.element.innerHTML;i.value&&(r=i.value),i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var n=document.createElement("div");n.id=s.id,n.title=s.title,n.style.cssText=i.field.style.cssText,n.style.boxSizing="border-box";var o=document.createElement("img");o.setAttribute("src",i.imgSrc),o.setAttribute("width",i.imgWidth),o.setAttribute("height",i.imgHeight),n.appendChild(o),i._img=o;var a=document.createElement("span");r&&(a.innerHTML=r,i.value=r),n.appendChild(a),i._text=a,i.field.style.display="none",i.field.parentNode&&i.field.parentNode.insertBefore(n,i.field.nextSibling);var l=i.host.data();i.host=e(n),i.host.data(l),i.element=n,i.element.id=i.field.id,i.field.id=s.id;var h=new e(i.element),d=new e(i.field);if(i._className&&(h.addClass(i._className),d.removeClass(i._className)),i.field.tabIndex){var c=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=c}}i.imgSrc?i._img.style.display="inline":i._img.style.display="none",i.value?i._text.style.display="inline":i._text.style.display="none",i._positionTextAndImage()}},_positionTextAndImage:function(){var e=this,t=e.element.offsetWidth,i=e.element.offsetHeight,s=e.imgWidth,r=e.imgHeight;""==e.imgSrc&&(s=0,r=0);var n=e._text.offsetWidth,o=e._text.offsetHeight,a=0,l=0;switch(e.textImageRelation){case"imageBeforeText":case"textBeforeImage":a=s+n+8+4+8,l=Math.max(r,o)+8+4+8;break;case"imageAboveText":case"textAboveImage":a=Math.max(s,n)+8,l=r+o+4+8+8;break;case"overlay":a=Math.max(s,n)+8,l=Math.max(r,o)+8}e.width||(e.element.style.width=a+"px",t=a),e.height||(e.element.style.height=l+"px",i=l),e._img.style.position="absolute",e._text.style.position="absolute",e.element.style.position="relative",e.element.style.overflow="hidden";var h={},d={},c=function(e,t,i,s,r){switch(t.width<s&&(t.width=s),t.height<r&&(t.height=r),i){case"left":e.style.left=t.left+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topLeft":e.style.left=t.left+"px",e.style.top=t.top+"px";break;case"bottomLeft":e.style.left=t.left+"px",e.style.top=t.top+t.height-r+"px";break;default:case"center":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"top":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+"px";break;case"bottom":e.style.left=t.left+t.width/2-s/2+"px",e.style.top=t.top+t.height-r+"px";break;case"right":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height/2-r/2+"px";break;case"topRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+"px";break;case"bottomRight":e.style.left=t.left+t.width-s+"px",e.style.top=t.top+t.height-r+"px"}},u=0,p=0,m=t,f=i,g=(m-u)/2,v=(f-p)/2,x=e._img,b=e._text,y=f-p,w=m-u;switch(u+=4,p+=4,m=m-4-2,w=w-8-2,y=y-8-2,e.textImageRelation){case"imageBeforeText":switch(e.imgPosition){case"left":case"topLeft":case"bottomLeft":d={left:u,top:p,width:u+s,height:y},h={left:u+s+4,top:p,width:w-s-4,height:y};break;case"center":case"top":case"bottom":h={left:(d={left:g-n/2-s/2-2,top:p,width:s,height:y}).left+s+4,top:p,width:m-d.left-s-4,height:y};break;case"right":case"topRight":case"bottomRight":h={left:(d={left:m-n-s-4,top:p,width:s,height:y}).left+s+4,top:p,width:m-d.left-s-4,height:y}}c(x,d,e.imgPosition,s,r),c(b,h,e.textPosition,n,o);break;case"textBeforeImage":switch(e.textPosition){case"left":case"topLeft":case"bottomLeft":h={left:u,top:p,width:u+n,height:y},d={left:u+n+4,top:p,width:w-n-4,height:y};break;case"center":case"top":case"bottom":d={left:(h={left:g-n/2-s/2-2,top:p,width:n,height:y}).left+n+4,top:p,width:m-h.left-n-4,height:y};break;case"right":case"topRight":case"bottomRight":d={left:(h={left:m-n-s-4,top:p,width:n,height:y}).left+n+4,top:p,width:m-h.left-n-4,height:y}}c(x,d,e.imgPosition,s,r),c(b,h,e.textPosition,n,o);break;case"imageAboveText":switch(e.imgPosition){case"topRight":case"top":case"topLeft":d={left:u,top:p,width:w,height:r},h={left:u,top:p+r+4,width:w,height:y-r-4};break;case"left":case"center":case"right":h={left:u,top:(d={left:u,top:v-r/2-o/2-2,width:w,height:r}).top+4+r,width:w,height:y-d.top-4-r};break;case"bottomLeft":case"bottom":case"bottomRight":h={left:u,top:(d={left:u,top:f-r-o-4,width:w,height:r}).top+4+r,width:w,height:o}}c(x,d,e.imgPosition,s,r),c(b,h,e.textPosition,n,o);break;case"textAboveImage":switch(e.textPosition){case"topRight":case"top":case"topLeft":h={left:u,top:p,width:w,height:o},d={left:u,top:p+o+4,width:w,height:y-o-4};break;case"left":case"center":case"right":d={left:u,top:(h={left:u,top:v-r/2-o/2-2,width:w,height:o}).top+4+o,width:w,height:y-h.top-4-o};break;case"bottomLeft":case"bottom":case"bottomRight":d={left:u,top:(h={left:u,top:f-r-o-4,width:w,height:o}).top+4+o,width:w,height:r}}c(x,d,e.imgPosition,s,r),c(b,h,e.textPosition,n,o);break;default:h={left:u,top:p,width:w,height:y},c(x,d={left:u,top:p,width:w,height:y},e.imgPosition,s,r),c(b,h,e.textPosition,n,o)}},createInstance:function(t){var i=this;i._setSize();i.isMaterialized();i.buttonObj=new e(i.element),(""!=i.imgSrc||""!=i.textPosition||i.element.value&&i.element.value.indexOf("<")>=0||null!=i.value)&&(i.refresh(),i._addImage("jqxButton"),i.buttonObj=new e(i.element)),i._ariaDisabled||i.element.setAttribute("role","button"),""!==i.type&&i.element.setAttribute("type",i.type),i.overrideTheme||(i.buttonObj.addClass(i.toThemeProperty(e.jqx.cssroundedcorners(i.roundedCorners))),i.enableDefault&&i.buttonObj.addClass(i.toThemeProperty("jqx-button")),i.buttonObj.addClass(i.toThemeProperty("jqx-widget"))),i.isTouchDevice=e.jqx.mobile.isTouchDevice(),i._ariaDisabled||e.jqx.aria(this),"arrow"!=i.cursor&&(i.disabled?i.element.style.cursor="arrow":i.element.style.cursor=i.cursor);var s="mouseenter mouseleave mousedown focus blur";if(i._scrollAreaButton)s="mousedown";i.isTouchDevice&&(i.addHandler(i.host,e.jqx.mobile.getTouchEventName("touchstart"),(function(e){i.isPressed=!0,i.refresh()})),i.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+i.element.id,(function(e){i.isPressed=!1,i.refresh()}))),i.addHandler(i.host,s,(function(e){switch(e.type){case"mouseenter":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!0,i.refresh());break;case"mouseleave":i.isTouchDevice||!i.disabled&&i.enableHover&&(i.isMouseOver=!1,i.refresh());break;case"mousedown":i.disabled||(i.isPressed=!0,i.refresh());break;case"focus":i.disabled||(i.isFocused=!0,i.refresh());break;case"blur":i.disabled||(i.isFocused=!1,i.refresh())}})),i.mouseupfunc=function(e){i.disabled||(i.isPressed||i.isMouseOver)&&(i.isPressed=!1,i.refresh())},i.addHandler(document,"mouseup.button"+i.element.id,i.mouseupfunc);try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.that){var r="";window.parent&&document.referrer&&(r=document.referrer),-1!=r.indexOf(document.location.host)&&window.top.document&&window.top.document.addEventListener("mouseup",i._topDocumentMouseupHandler)}}catch(e){}i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.disabled=function(t,i,s,r){s!=r&&(t.refresh(),t.element.setAttribute("disabled",r),t.element.disabled=r,t.element.style.cursor=r?"default":t.cursor,e.jqx.aria(t,"aria-disabled",t.disabled))},i.propertyChangeMap.rtl=function(e,t,i,s){i!=s&&e.refresh()},i.propertyChangeMap.template=function(e,t,i,s){i!=s&&(e.buttonObj.removeClass(e.toThemeProperty("jqx-"+i)),e.refresh())},i.propertyChangeMap.theme=function(t,i,s,r){t.buttonObj.removeClass(t.element),s&&(t.buttonObj.removeClass("jqx-button-"+s),t.buttonObj.removeClass("jqx-widget-"+s),t.buttonObj.removeClass("jqx-fill-state-normal-"+s),t.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))+"-"+s)),t.enableDefault&&t.buttonObj.addClass(t.toThemeProperty("jqx-button")),t.buttonObj.addClass(t.toThemeProperty("jqx-widget")),t.overrideTheme||t.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(t.roundedCorners))),t._oldCSSCurrent=null,t.refresh()},i.disabled&&(i.element.disabled=!0,i.element.setAttribute("disabled","true"))},resize:function(e,t){this.width=e,this.height=t,this._setSize()},val:function(t){var i=this,s=i.host.find("input");return s.length>0?(0==arguments.length||"object"==typeof t||(s.val(t),i.refresh()),s.val()):0==arguments.length||"object"==typeof t?"button"==i.element.nodeName.toLowerCase()?e(i.element).text():i.element.value:arguments.length>0&&i._text?(i._text.innerHTML=arguments[0],void i.refresh()):(arguments.length>0&&"DIV"===i.element.nodeName&&(i.element.innerHTML=arguments[0],i.refresh()),i.element.value=arguments[0],"button"==i.element.nodeName.toLowerCase()&&e(i.element).html(arguments[0]),void i.refresh())},_setSize:function(){var e=this,t=e.height,i=e.width;t&&(isNaN(t)||(t+="px"),e.element.style.height=t),i&&(isNaN(i)||(i+="px"),e.element.style.width=i)},_removeHandlers:function(){var t=this;t.removeHandler(t.host,"selectstart"),t.removeHandler(t.host,"click"),t.removeHandler(t.host,"focus"),t.removeHandler(t.host,"blur"),t.removeHandler(t.host,"mouseenter"),t.removeHandler(t.host,"mouseleave"),t.removeHandler(t.host,"mousedown"),t.removeHandler(e(document),"mouseup.button"+t.element.id,t.mouseupfunc),t.isTouchDevice&&(t.removeHandler(t.host,e.jqx.mobile.getTouchEventName("touchstart")),t.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+t.element.id)),t.mouseupfunc=null,delete t.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){var t=this;t._removeHandlers();var i=e.data(t.element,"jqxButton");i&&delete i.instance,t.host.removeClass(),t.host.removeData(),t.host.remove(),delete t.set,delete t.get,delete t.call,delete t.element,delete t.host},render:function(){this.refresh()},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&(e._setSize(),e.refresh())},propertyChangedHandler:function(e,t,i,s){null!=this.isInitialized&&0!=this.isInitialized&&s!=i&&(e.batchUpdate&&e.batchUpdate.width&&e.batchUpdate.height&&2==Object.keys(e.batchUpdate).length||("type"===t&&e.element.setAttribute("type",s),"textImageRelation"!=t&&"textPosition"!=t&&"imgPosition"!=t||(e._img?e._positionTextAndImage():e._addImage("jqxButton")),"imgSrc"!=t&&"imgWidth"!=t&&"imgHeight"!=t||e._addImage("jqxButton"),"value"===t&&e.val(s),"width"!=t&&"height"!=t||(e._setSize(),e.refresh())))},refresh:function(){var e=this;if(!e.overrideTheme){var t=e.toThemeProperty("jqx-fill-state-focus"),i=e.toThemeProperty("jqx-fill-state-disabled"),s=e.toThemeProperty("jqx-fill-state-normal");e.enableDefault||(s="");var r=e.toThemeProperty("jqx-fill-state-hover"),n=e.toThemeProperty("jqx-fill-state-pressed"),o=e.toThemeProperty("jqx-fill-state-pressed");e.enablePressed||(n="");var a="";if(e.host){if(e.element.disabled=e.disabled,e.disabled)return e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),a=s+" "+i,"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),e.buttonObj.addClass(a),void(e._oldCSSCurrent=a);a=e.isMouseOver&&!e.isTouchDevice?e.isPressed?o:r:e.isPressed?n:s,e.isFocused&&(a+=" "+t),"default"!==e.template&&""!==e.template&&(a+=" jqx-"+e.template,""!=e.theme&&(a+=" jqx-"+e.template+"-"+e.theme)),a!=e._oldCSSCurrent&&(e._oldCSSCurrent&&e.buttonObj.removeClass(e._oldCSSCurrent),e.buttonObj.addClass(a),e._oldCSSCurrent=a),e.rtl&&(e.buttonObj.addClass(e.toThemeProperty("jqx-rtl")),e.element.style.direction="rtl"),e.isMaterialized()&&e.host.addClass("buttonRipple")}}}}),e.jqx.jqxWidget("jqxLinkButton","",{}),e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1,this.height=null,this.width=null,this.rtl=!1,this.href=null},createInstance:function(t){var i=this;this.host.onselectstart=function(){return!1},this.host.attr("role","button");var s=this.height||this.element.offsetHeight,r=this.width||this.element.offsetWidth;this.href=this.element.getAttribute("href"),this.target=this.element.getAttribute("target"),this.content=this.host.text(),this.element.innerHTML="";var n=document.createElement("input");n.type="button",n.className="jqx-wrapper "+this.toThemeProperty("jqx-reset"),this._setSize(n,r,s),n.value=this.content,new e(this.element).addClass(this.toThemeProperty("jqx-link")),this.element.style.color="inherit",this.element.appendChild(n),this._setSize(n,r,s);var o=null==t?{}:t[0]||{};e(n).jqxButton(o),this.wrapElement=n,this.disabled&&(this.element.disabled=!0),this.propertyChangeMap.disabled=function(e,t,i,s){e.element.disabled=s,e.wrapElement.jqxButton({disabled:s})},this.addHandler(e(n),"click",(function(e){return this.disabled||i.onclick(e),!1}))},_setSize:function(e,t,i){i&&(isNaN(i)||(i+="px"),e.style.height=i),t&&(isNaN(t)||(t+="px"),e.style.width=t)},onclick:function(e){null!=this.target?window.open(this.href,this.target):window.location=this.href}}),e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{}),e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(t){var i=this,s=e.jqx.mobile.isTouchDevice(),r=s?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,n=s?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),r,(function(e){null!=i.timeout&&(clearTimeout(i.timeout),i.timeout=null,i.refresh()),null!=i.timer&&(clearInterval(i.timer),i.timer=null,i.refresh())})),this.addHandler(this.base.host,n,(function(e){null!=i.timer&&clearInterval(i.timer),i.timeout=setTimeout((function(){clearInterval(i.timer),i.timer=setInterval((function(e){i.ontimer(e)}),i.delay)}),150)})),this.mousemovefunc=function(e){s||0==e.which&&null!=i.timer&&(clearInterval(i.timer),i.timer=null)},this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var t=e.jqx.mobile.isTouchDevice(),i=t?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,s=t?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc),this.removeHandler(this.base.host,s),this.removeHandler(e(document),i),this.timer=null,delete this.mousemovefunc,delete this.timer;var r=e.data(this.base.element,"jqxRepeatButton");r&&delete r.instance,e(this.base.element).removeData(),this.base.destroy(),delete this.base},stop:function(){clearInterval(this.timer),this.timer=null},ontimer:function(t){t=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(t)}}),e.jqx.jqxWidget("jqxToggleButton","jqxButton",{}),e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1,this.uiToggle=!0,this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(t){var i=this;i.base.overrideTheme=!0,i.isTouchDevice=e.jqx.mobile.isTouchDevice(),e.jqx.aria(this),i.propertyChangeMap.roundedCorners=function(t,i,s,r){t.base.buttonObj.removeClass(t.toThemeProperty(e.jqx.cssroundedcorners(s))),t.base.buttonObj.addClass(t.toThemeProperty(e.jqx.cssroundedcorners(r)))},i.propertyChangeMap.toggled=function(e,t,i,s){e.refresh()},i.propertyChangeMap.disabled=function(e,t,i,s){e.base.disabled=s,e.refresh()},i.addHandler(i.base.host,"click",(function(e){!i.base.disabled&&i.uiToggle&&i.toggle()})),i.isTouchDevice||(i.addHandler(i.base.host,"mouseenter",(function(e){i.base.disabled||i.refresh()})),i.addHandler(i.base.host,"mouseleave",(function(e){i.base.disabled||i.refresh()}))),i.addHandler(i.base.host,"mousedown",(function(e){i.base.disabled||i.refresh()})),i.addHandler(e(document),"mouseup.togglebutton"+i.base.element.id,(function(e){i.base.disabled||i.refresh()}))},destroy:function(){this._removeHandlers(),this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click"),this.removeHandler(this.base.host,"mouseenter"),this.removeHandler(this.base.host,"mouseleave"),this.removeHandler(this.base.host,"mousedown"),this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled,this.refresh(),e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1,this.refresh()},check:function(){this.toggled=!0,this.refresh()},refresh:function(){var e=this,t=e.base.toThemeProperty("jqx-fill-state-disabled"),i=e.base.toThemeProperty("jqx-fill-state-normal");e.base.enableDefault||(i="");var s=e.base.toThemeProperty("jqx-fill-state-hover"),r=e.base.toThemeProperty("jqx-fill-state-pressed"),n=e.base.toThemeProperty("jqx-fill-state-pressed"),o="";if(e.base.element.disabled=e.base.disabled,e.base.disabled)return o=i+" "+t,void e.base.buttonObj.addClass(o);o=e.base.isMouseOver&&!e.isTouchDevice?e.base.isPressed||e.toggled?n:s:e.base.isPressed||e.toggled?r:i,"default"!==e.base.template&&""!==e.base.template&&(o+=" jqx-"+e.base.template,""!=e.base.theme&&(o+=" jqx-"+e.template+"-"+e.base.theme)),e.base.buttonObj.hasClass(t)&&t!=o&&e.base.buttonObj.removeClass(t),e.base.buttonObj.hasClass(i)&&i!=o&&e.base.buttonObj.removeClass(i),e.base.buttonObj.hasClass(s)&&s!=o&&e.base.buttonObj.removeClass(s),e.base.buttonObj.hasClass(r)&&r!=o&&e.base.buttonObj.removeClass(r),e.base.buttonObj.hasClass(n)&&n!=o&&e.base.buttonObj.removeClass(n),e.base.buttonObj.hasClass(o)||e.base.buttonObj.addClass(o)},_topDocumentMouseupHandler:function(e){this.isPressed=!1,this.refresh()}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxListBox","",{}),e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var t={disabled:!1,checkboxSize:16,checkboxes:!1,width:null,height:null,items:new Array,multiple:!1,selectedIndex:-1,selectedIndexes:new Array,source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1e3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:new Array,emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:30,filterPlaceHolder:"Looking for",filterDelay:100,filterChange:null,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["select","unselect","change","checkChange","dragStart","dragEnd","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxListBox.prototype||e.extend(!0,this,t),t},createInstance:function(t){var i=this;if(15!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),null==i.width&&(i.width=200),null==i.height&&(i.height=200),i.isMaterialized()){var s=window.getComputedStyle(i.element).getPropertyValue("--jqx-list-item-height");s&&-1===this.itemHeight&&(this.itemHeight=parseInt(s))}i.renderListBox();var r=i;e.jqx.utilities.resize(i.host,(function(){r._updateSize()}),!1,i._checkForHiddenParent)},resize:function(e,t){this.width=e,this.height=t,this._updateSize()},render:function(){this.renderListBox(),this.refresh()},renderListBox:function(){var t=(a=this).element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){a.field=a.element,a.field.className&&(a._className=a.field.className);var i={title:a.field.title};a.field.id.length?i.id=a.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":i.id=e.jqx.utilities.createId()+"_jqxListBox";var s=e("<div></div>",i);a.width||(a.width=e(a.field).width()),a.height||(a.height=e(a.field).outerHeight()),a.element.style.cssText=a.field.style.cssText,e(a.field).hide().after(s);var r=a.host.data();if(a.host=s,a.host.data(r),a.element=s[0],a.element.id=a.field.id,a.field.id=i.id,a._className&&(a.host.addClass(a._className),e(a.field).removeClass(a._className)),a.field.tabIndex){var n=a.field.tabIndex;a.field.tabIndex=-1,a.element.tabIndex=n}}else if(a.host.find("li").length>0||a.host.find("option").length>0){var o=e.jqx.parseSourceTag(a.element);a.source=o.items}a.element.innerHTML="";var a,l=(a=a).element.className;l+=" "+a.toThemeProperty("jqx-listbox"),l+=" "+a.toThemeProperty("jqx-reset"),l+=" "+a.toThemeProperty("jqx-rc-all"),l+=" "+a.toThemeProperty("jqx-widget"),l+=" "+a.toThemeProperty("jqx-widget-content"),a.element.className=l;var h=window.getComputedStyle(this.element),d=2*parseInt(h.borderLeftWidth),c=h.boxSizing;0===this.element.offsetWidth&&(d=2),("border-box"===c||isNaN(d))&&(d=0),null!=a.width&&-1!=a.width.toString().indexOf("%")&&(a.host.width(a.width),d>0&&this.host.css("box-sizing","border-box")),null!=a.height&&-1!=a.height.toString().indexOf("%")&&(a.host.height(a.height),0==a.host.height()&&a.host.height(200)),null!=a.width&&-1!=a.width.toString().indexOf("px")?a.element.style.width=parseInt(a.width)-d+"px":null==a.width||isNaN(a.width)||(a.element.style.width=parseInt(a.width)-d+"px"),null!=a.height&&-1!=a.height.toString().indexOf("px")?a.element.style.height=parseInt(a.height)-d+"px":null==a.height||isNaN(a.height)||(a.element.style.height=parseInt(a.height)-d+"px"),a.multiple||a.multipleextended||a.checkboxes?e.jqx.aria(a,"aria-multiselectable",!0):e.jqx.aria(a,"aria-multiselectable",!1);var u="<div style='-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div style='-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='filter"+a.element.id+"' style='display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'><input style='position: absolute;'/></div><div id='listBoxContent' style='-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+a.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+a.element.id+"' style='visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/></div></div>";a.host.attr("role","listbox"),a.element.innerHTML=u,a._checkForHiddenParent&&(a._addInput(),a.host.attr("tabIndex")||a.host.attr("tabIndex",1)),a.filter=e(a.element.firstChild.firstChild.firstChild),a.filterInput=e(a.filter[0].firstChild),a.filterInput.attr("placeholder",a.filterPlaceHolder),a.filterInput.addClass(a.toThemeProperty("jqx-widget jqx-listbox-filter-input jqx-input jqx-rc-all")),a.addHandler(a.filterInput,"keyup.textchange",(function(e){13==e.keyCode?a._search(e):a.filterDelay>0&&(a._filterTimer&&clearTimeout(a._filterTimer),a._filterTimer=setTimeout((function(){a._search(e)}),a.filterDelay)),e.stopPropagation()}));var p=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!a.host.jqxButton)throw new Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!p.jqxScrollBar)throw new Error("jqxListBox: Missing reference to jqxscrollbar.js.");var m=parseInt(a.host.height())/2;0==m&&(m=10),a.vScrollBar=p.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:a.rtl,theme:a.theme,touchMode:a.touchMode,largestep:m});var f=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);if(a.hScrollBar=f.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:a.rtl,touchMode:a.touchMode,theme:a.theme}),a.content=e(a.element.firstChild.firstChild.firstChild.nextSibling),a.content.addClass(a.toThemeProperty("jqx-listbox-content-element")),a.content[0].id="listBoxContent"+a.element.id,a.bottomRight=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(a.toThemeProperty("jqx-listbox-bottomright")).addClass(a.toThemeProperty("jqx-scrollbar-state-normal")),a.bottomRight[0].id="bottomRight"+a.element.id,a.vScrollInstance=e.data(a.vScrollBar[0],"jqxScrollBar").instance,a.hScrollInstance=e.data(a.hScrollBar[0],"jqxScrollBar").instance,a.isTouchDevice()&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var g=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");a.content.parent().append(g),a.overlayContent=a.host.find(".overlay"),a.filterable&&a.overlayContent.css("top","30px")}a._updateTouchScrolling(),a.host.addClass("jqx-disableselect"),a.host.jqxDragDrop&&window.jqxListBoxDragDrop()},_highlight:function(e,t){var i=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+i+")","ig"),(function(e,t){return"<b>"+t+"</b>"}))},_addInput:function(){var t=this.host.attr("name");t&&this.host.attr("name",""),this.input=e("<input type='hidden'/>"),this.host.append(this.input),this.input.attr("name",t)},_updateTouchScrolling:function(){var t=this;if(this.isTouchDevice()){t.enableHover=!1;var i=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll"),this.removeHandler(e(i),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll"),this.removeHandler(e(i),"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(i,t.vScrollInstance.max,(function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i),t._lastScroll=new Date}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e),t._lastScroll=new Date}}),this.element.id,this.hScrollBar,this.vScrollBar),"visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id),this._arrange()}},isTouchDevice:function(){var t=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&e.jqx.browser.version<9)return!1;this.touchDevice=!0,t=!0,e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(t=!1);return t&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize),t&&this.host.addClass(this.toThemeProperty("jqx-touch")),t},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1,this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1,this.vScrollInstance.value=0,this._render(!1)},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&(e._cachedItemHtml=new Array,e.refresh())},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&s!=r&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("_renderOnDemand"==i&&(t._render(!1,!0),-1!=t.selectedIndex)){var n=t.selectedIndex;t.selectedIndex=-1,t._stopEvents=!0,t.selectIndex(n,!1,!0),-1==t.selectedIndex&&(t.selectedIndex=n),t._stopEvents=!1}if("filterable"==i&&t.refresh(),"filterHeight"==i&&t._arrange(),"filterPlaceHolder"==i&&t.filterInput.attr("placeholder",r),"renderer"==i&&(t._cachedItemHtml=new Array,t.refresh()),"itemHeight"!=i&&"checkboxSize"!==i||t.refresh(),"source"!=i&&"checkboxes"!=i||(null==r&&s&&s.unbindBindingUpdate&&(s.unbindBindingUpdate(t.element.id),s.unbindDownloadComplete(t.element.id)),t.clearSelection(),t.refresh()),"scrollBarSize"!=i&&"equalItemsWidth"!=i||r!=s&&t._updatescrollbars(),"disabled"==i&&(t._renderItems(),t.vScrollBar.jqxScrollBar({disabled:r}),t.hScrollBar.jqxScrollBar({disabled:r})),"touchMode"==i||"rtl"==i){if(t._removeHandlers(),t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),"touchMode"==i&&!(e.jqx.browser.msie&&e.jqx.browser.version<9)){var o=e("<div class='overlay' unselectable='on' style='z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div>");t.content.parent().append(o),t.overlayContent=t.host.find(".overlay")}t.filterable&&t.filterInput&&("rtl"==i&&r?t.filterInput.addClass(t.toThemeProperty("jqx-rtl")):"rtl"!=i||r||t.filterInput.removeClass(t.toThemeProperty("jqx-rtl")),t._arrange()),t._updateTouchScrolling(),t._addHandlers(),t._render(!1)}if(this.updating||"width"!=i&&"height"!=i||t._updateSize(),"theme"==i&&s!=r&&(t.hScrollBar.jqxScrollBar({theme:t.theme}),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.host.removeClass(),t.host.addClass(t.toThemeProperty("jqx-listbox")),t.host.addClass(t.toThemeProperty("jqx-widget")),t.host.addClass(t.toThemeProperty("jqx-widget-content")),t.host.addClass(t.toThemeProperty("jqx-reset")),t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.refresh()),"selectedIndex"==i&&(t.clearSelection(),t.selectIndex(r,!0)),"displayMember"==i||"valueMember"==i){if(s!=r){var a=t.selectedIndex;t.refresh(),t.selectedIndex=a,t.selectedIndexes[a]=a}t._renderItems()}"autoHeight"==i&&(s!=r?t._render(!1):(t._updatescrollbars(),t._renderItems())),t._checkForHiddenParent&&e.jqx.isHidden(t.host)&&e.jqx.utilities.resize(this.host,(function(){t._updateSize()}),!1,t._checkForHiddenParent)}},loadFromSelect:function(t){if(null!=t){var i=e("#"+t);if(i.length>0){var s=e.jqx.parseSourceTag(i[0]),r=s.items,n=s.index;this.source=r,this.fromSelect=!0,this.clearSelection(),this.selectedIndex=n,this.selectedIndexes[this.selectedIndex]=this.selectedIndex,this.refresh()}}},invalidate:function(){this._cachedItemHtml=[],this._renderItems(),this.virtualSize=null,this._updateSize()},refresh:function(t){var i=this;if(null!=this.vScrollBar){this.itemHeight=parseInt(this.itemHeight),this._cachedItemHtml=[],this.visibleItems=new Array;var s=function(e){if(1==e&&-1!=i.selectedIndex){var t=i.selectedIndex;i.selectedIndex=-1,i._stopEvents=!0,i.selectIndex(t,!1,!0),-1==i.selectedIndex&&(i.selectedIndex=t),i._stopEvents=!1}};if(null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null),e.jqx.dataAdapter&&null!=this.source&&this.source._source)return this.databind(this.source,t),void s(t);(this.autoBind||!this.autoBind&&!t)&&(this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source)),this._render(!1,1==t),s(t),this._raiseEvent("6")}},loadSelectTag:function(){var t=e.jqx.parseSourceTag(this.field);this.source=t.items,-1==this.selectedIndex&&(this.selectedIndex=t.index)},_render:function(e,t){return this._renderOnDemand?(this.visibleItems=new Array,this.renderedVisibleItems=new Array,void this._renderItems()):(this._addItems(),this._renderItems(),this.vScrollInstance.setPosition(0),this._cachedItemHtml=new Array,(null==e||e)&&null!=this.items&&null!=this.items&&this.selectedIndex>=0&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0),this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())?(this._removeHandlers(),this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null),this._updateTouchScrolling(),void this._addHandlers()):(this._updateTouchScrolling(),this.rendered&&this.rendered(),void(this.ready&&this.ready())))},_hitTest:function(e,t){this.filterable&&(t-=this.filterHeight)<0&&(t=0);var i=parseInt(this.vScrollInstance.value),s=this._searchFirstVisibleIndex(t+i,this.renderedVisibleItems);if(null!=this.renderedVisibleItems[s]&&this.renderedVisibleItems[s].isGroup)return null;if(this.renderedVisibleItems.length>0){var r=this.renderedVisibleItems[this.renderedVisibleItems.length-1];if(r.height+r.top<t+i)return null}return s=this._searchFirstVisibleIndex(t+i),this.visibleItems[s]},_searchFirstVisibleIndex:function(e,t){null==e&&(e=parseInt(this.vScrollInstance.value));var i=0;null!=t&&null!=t||(t=this.visibleItems);for(var s=t.length;i<=s;){var r=parseInt((i+s)/2),n=t[r];if(null==n)break;if(n.initialTop>e&&n.initialTop+n.height>e)s=r-1;else{if(!(n.initialTop<e&&n.initialTop+n.height<=e))return r;i=r+1}}return 0},_renderItems:function(){if(null!=this.items&&0!=this.items.length){if(1!=this.updatingListBox){var t=this.isTouchDevice(),i=this.vScrollInstance,s=this.hScrollInstance,r=parseInt(i.value),n=parseInt(s.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(n=s.max-n);this.items.length,this.host.width();var o=parseInt(this.content[0].style.width),a=o+parseInt(s.max);parseInt(this.vScrollBar[0].style.width);"hidden"==this.vScrollBar[0].style.visibility&&0,"visible"!=this.hScrollBar[0].style.visibility&&(a=o);this._getVirtualItemsCount();var l=new Array,h=0,d=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(d=this.host.outerHeight()),isNaN(d)&&(d=0);var c=0,u=0,p=0;if(0==i.value||0==this.visibleItems.length)for(var m=0;m<this.items.length;m++){if((C=this.items[m]).visible)C.top=-r,C.initialTop=-r,!C.isGroup&&C.visible&&(this.visibleItems[u++]=C,C.visibleIndex=u-1),this.renderedVisibleItems[p++]=C,C.left=-n,C.top+C.height>=0&&C.top-C.height<=d&&(l[h++]={index:m,item:C}),r-=C.height,r--}var f=r>0?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0,g=0;h=0;for(var v=this.vScrollInstance.value,x=0;g<100+d;){if(null==(C=this.renderedVisibleItems[f]))break;if(C.visible)C.left=-n,C.top+C.height-v>=0&&C.initialTop-v-C.height<=2*d&&(l[h++]={index:f,item:C});if(f++,C.visible&&(g+=C.initialTop-v+C.height-g),++x>this.items.length-1)break}if(!this._renderOnDemand){var b=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),y=this.toThemeProperty("jqx-listitem-state-group"),w=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled");this.checkboxes&&(b+=" checkboxes");var _=0,q=this;for(m=0;m<this.visualItems.length;m++){var j=this.visualItems[m],T=function(){var e=j[0].firstChild;(q.checkboxes&&(e=j[0].lastChild),null!=e&&(e.style.visibility="hidden",e.className=""),q.checkboxes)&&(j[0].firstChild.style.visibility="hidden")};if(m<l.length){var C;if((C=l[m].item).initialTop-v>=d){T();continue}var I=e(j[0].firstChild);if(this.checkboxes&&(I=e(j[0].lastChild)),0==I.length)continue;if(null==I[0])continue;I[0].className="",I[0].style.display="block",I[0].style.visibility="inherit";var S="";if(S=!C.isGroup&&!this.selectedIndexes[C.index]>=0?b:y,(C.disabled||this.disabled)&&(S+=" "+w),this.roundedcorners&&(S+=" "+this.toThemeProperty("jqx-rc-all")),t&&(S+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),I[0].className=S,this.renderer)if(C.key||(C.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=new Array),this._cachedItemHtml[C.key])I[0].innerHTML!=this._cachedItemHtml[C.key]&&(I[0].innerHTML=this._cachedItemHtml[C.key]);else{var k=this.renderer(C.index,C.label,C.value);I[0].innerHTML=k,this._cachedItemHtml[C.key]=I[0].innerHTML}else{if(-1!==this.itemHeight){var P=2+2*parseInt(I.css("padding-top"));I[0].style.lineHeight=C.height-P+"px",I.css("vertical-align","middle")}null!=C.html&&C.html.toString().length>0?I[0].innerHTML=C.html:null!=C.label||null!=C.value?null!=C.label?(I[0].innerHTML!==C.label&&(I[0].innerHTML=C.label),""==e.trim(C.label)&&(I[0].innerHTML=this.emptyString,""==this.emptyString&&(I[0].style.height=C.height-8+"px")),this.incrementalSearch||C.disabled||null!=this.searchString&&""!=this.searchString&&(I[0].innerHTML=this._highlight(C.label.toString(),this.searchString))):null===C.label?(I[0].innerHTML=this.emptyString,""==this.emptyString&&(I[0].style.height=C.height-8+"px")):I[0].innerHTML!==C.value?I[0].innerHTML=C.value:""==C.label&&(I[0].innerHTML=" "):""!=C.label&&null!=C.label||(I[0].innerHTML="",I[0].style.height=C.height-8+"px")}if(j[0].style.left=C.left+"px",j[0].style.top=C.initialTop-v+"px",C.element=I[0],this.isMaterialized()&&!this.renderer&&this._checkForHiddenParent&&(e(C.element).addClass("ripple"),e.jqx.ripple(e(C.element))),C.title&&(I[0].title=C.title),this.equalItemsWidth&&!C.isGroup){if(0==c){var H=parseInt(a);H-=parseInt(I.outerWidth())-parseInt(I.width());var B=1;B=null!=B?parseInt(B):0,"border-box"===this.host.css("box-sizing")&&(H-=2),c=H,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(c-=this.checkboxSize+13)}o>this.virtualSize.width?(I[0].style.width=c+"px",C.width=c):(I[0].style.width=-4+this.virtualSize.width+"px",C.width=this.virtualSize.width-4)}else I.width()<this.host.width()&&I.width(this.host.width()-2);if(this.rtl&&(I[0].style.textAlign="right"),this.autoItemsHeight&&(I[0].style.whiteSpace="pre-line",I.width(c),C.width=c),_=0,this.checkboxes&&!C.isGroup){if(0==_&&(_=(C.height-this.checkboxSize-3)/2,_=parseInt(_),_++),(A=e(j.children()[0]))[0].item=C,this.rtl)"0px"!=I[0].style.left&&(I[0].style.left="0px");else{var D=this.checkboxSize+9;I[0].style.left!=D+"px"&&(I[0].style.left=D+"px")}this.rtl&&A.css("left",8+C.width+"px"),A[0].style.top=_+"px",A[0].style.display="block",A[0].style.visibility="inherit";var z=C.checked,E=C.checked?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";A[0].setAttribute("checked",C.checked),A[0].firstChild&&A[0].firstChild.firstChild&&A[0].firstChild.firstChild.firstChild&&A[0].firstChild.firstChild&&(z?A[0].firstChild.firstChild.firstChild.className=E:!1===z?A[0].firstChild.firstChild.firstChild.className="":null===z&&(A[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate"))),e.jqx.ariaEnabled&&(z?j[0].setAttribute("aria-selected",!0):j[0].removeAttribute("aria-selected"))}else{var A;if(this.checkboxes)(A=e(j.children()[0])).css({display:"none",visibility:"inherit"})}!C.disabled&&(!this.filterable&&this.selectedIndexes[C.visibleIndex]>=0||C.selected&&this.filterable)?(I.addClass(this.toThemeProperty("jqx-listitem-state-selected")),I.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(j[0].setAttribute("aria-selected",!0),this._activeElement=j[0])):this.checkboxes||e.jqx.ariaEnabled&&j[0].removeAttribute("aria-selected")}else T()}}}}else this.visibleItems=new Array},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,(function(e){return t.escapeHTML(e)}))},escape_HTML:function(e){return(e=""+e)&&(e.indexOf("onclick")>=0||e.indexOf("onload")>=0||e.indexOf("onerror")>=0)?this.escapeHTML(e):this.sanitizeHTML(e)},generatekey:function(){var e=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},_calculateVirtualSize:function(t){if(!this._renderOnDemand){var i=0,s=2,r=0,n=document.createElement("span");this.equalItemsWidth&&e(n).css("float","left"),n.style.whiteSpace="pre";var o=0,a=void 0===t?this.host.outerHeight():t+2;document.body.appendChild(n);var l=this.items.length,h=this.host.width();if(this.autoItemsHeight&&(h-=10,"hidden"!=this.vScrollBar.css("visibility")&&(h-=20)),this.autoItemsHeight||this.renderer||this.groups.length>=1||l>0&&null!=this.items[0].html&&""!=this.items[0].html)for(r=0;r<l;r++){if((!(w=this.items[r]).isGroup||""!=w.label||""!=w.html)&&w.visible){var d="";if(w.isGroup?d+=this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):d+=this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch")),n.className=d,this.autoItemsHeight){n.style.whiteSpace="pre-line";var c=this.checkboxSize+9,u=this.checkboxes?-c:0;n.style.width=u+h+"px"}if(this.renderer){var p=this.renderer(w.index,w.label,w.value);n.innerHTML=p}else null!=w.html&&w.html.toString().length>0?n.innerHTML=w.html:null==w.label&&null==w.value||(null!=w.label?(n.innerHTML=this.escape_HTML(w.label),""==w.label&&(n.innerHTML="Empty")):n.innerHTML=this.escape_HTML(w.value));var m=n.offsetHeight,f=n.offsetWidth;this.itemHeight>-1&&(m=this.itemHeight),w.height=m,w.width=f,s+=++m,i=Math.max(i,f),s<=a&&o++}}else{s=0;var g=0,v="",x=0,b=0,y=-1;for(r=0;r<l;r++){var w;if((!(w=this.items[r]).isGroup||""!=w.label||""!=w.html)&&w.visible){d="";if(0==++y){if(d+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),d+=" "+this.toThemeProperty("jqx-fill-state-normal"),d+=" "+this.toThemeProperty("jqx-widget"),d+=" "+this.toThemeProperty("jqx-listbox"),d+=" "+this.toThemeProperty("jqx-widget-content"),this.isTouchDevice()&&(d+=" "+this.toThemeProperty("jqx-touch"),d+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch")),n.className=d,this.autoItemsHeight){n.style.whiteSpace="pre-line";c=this.checkboxSize+9,u=this.checkboxes?-c:0;n.style.width=u+h+"px"}null==w.html||""==w.label||null==w.label?n.innerHTML="Item":null!=w.html&&w.html.toString().length>0?n.innerHTML=w.html:null==w.label&&null==w.value||(null!=w.label?null!=w.label.toString().match(new RegExp("\\w"))||null!=w.label.toString().match(new RegExp("\\d"))?n.innerHTML=w.label:n.innerHTML="Item":n.innerHTML=w.value);m=1+n.offsetHeight;this.itemHeight>-1&&(m=this.itemHeight),g=m}null!=x&&(b=x),null!=w.html&&w.html.toString().length>0?b!=(x=Math.max(x,w.html.toString().length))&&(v=w.html):null!=w.label?b!=(x=Math.max(x,w.label.length))&&(v=w.label):null!=w.value&&b!=(x=Math.max(x,w.value.length))&&(v=w.value),w.height=g,s+=g,++s<=a&&o++}}n.innerHTML=v,i=n.offsetWidth}return s+=2,o<10&&(o=10),this.filterable&&(s+=this.filterHeight),s-=4,n.parentNode.removeChild(n),{width:i,height:s,itemsPerPage:o}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var e=parseInt(this.host.height())/5;return e>this.items.length&&(e=this.items.length),e}return this.virtualItemsCount},_addItems:function(t){if(!this._renderOnDemand&&1!=(n=this).updatingListBox){if(null==n.items||0==n.items.length)return n.virtualSize={width:0,height:0,itemsPerPage:0},n._updatescrollbars(),n.renderedVisibleItems=new Array,void(n.itemswrapper&&n.itemswrapper.children().remove());var i=n.host.height();if(0==t){var s=2*(v=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);v.width;return n.virtualSize=v,void n._updatescrollbars()}var r=0;n.visibleItems=new Array,n.renderedVisibleItems=new Array,n._removeHandlers(),n.allowDrag&&n._enableDragDrop&&(n.itemswrapper=null),null==n.itemswrapper&&(n.content[0].innerHTML="",n.itemswrapper=e('<div style="outline: 0 none; overflow:hidden; width:100%; position: relative;"></div>'),n.itemswrapper[0].style.height=2*i+"px",n.content[0].appendChild(n.itemswrapper[0]));s=2*(v=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);var n=this;v.width;n.virtualSize=v;var o=Math.max(n.host.width(),17+v.width);n.itemswrapper[0].style.width=o+"px";for(var a="",l=e.jqx.browser.msie&&e.jqx.browser.version<9?' unselectable="on"':"",h=0;h<n.virtualItemsCount;h++){var d=n.items[h],c="listitem"+h+n.element.id;if(""!=n.theme?a+="<div"+l+" role='option' id='"+c+"' class='jqx-listitem-element jqx-listitem-element-"+n.theme+"'>":a+="<div"+l+" role='option' id='"+c+"' class='jqx-listitem-element'>",n.checkboxes){var u=this.checkboxSize+8;a+='<div style="background-color: transparent; padding: 0; margin: 0; overflow:hidden; position: absolute; float: left; width: '+u+"px; height:  "+u+'px;" class="'+n.toThemeProperty("jqx-checkbox")+' chkbox">';var p='<div class="'+n.toThemeProperty("jqx-checkbox-default")+" "+n.toThemeProperty("jqx-fill-state-normal")+" "+n.toThemeProperty("jqx-rc-all")+'"><div style="cursor: pointer; width:  '+this.checkboxSize+"px; height:  "+this.checkboxSize+'px;">',m=d.checked?" "+n.toThemeProperty("jqx-checkbox-check-checked"):"";p+='<span style="width: '+this.checkboxSize+"px; height:  "+this.checkboxSize+'px;" class="checkBoxCheck'+m+'"></span>',a+=p+="</div></div>",a+="</div>"}a+="<span"+l+" style='white-space: pre; -ms-touch-action: none;'></span></div>"}this.WinJS?n.itemswrapper.html(a):n.itemswrapper[0].innerHTML=a;var f=n.itemswrapper.children();for(h=0;h<n.virtualItemsCount;h++){d=n.items[h];var g=e(f[h]);if(n.allowDrag&&n._enableDragDrop&&g.addClass("draggable"),n.checkboxes){e(g.children()[0]);g.css("float","left"),e(g[0].firstChild).css("float","left")}g[0].style.height=d.height+"px",g[0].style.top=r+"px",r+=d.height+1,n.visualItems[h]=g}if(n._addHandlers(),n._updatescrollbars(),n.autoItemsHeight){var v;s=2*(v=n._calculateVirtualSize(i)).itemsPerPage;n.autoHeight&&(s=n.items.length),n.virtualItemsCount=Math.min(s,n.items.length);n=this,v.width;n.virtualSize=v,n._updatescrollbars()}e.jqx.browser.msie&&e.jqx.browser.version<8&&(n.host.attr("hideFocus",!0),n.host.find("div").attr("hideFocus",!0))}},_updatescrollbars:function(){var t=this;if(t.virtualSize){var i=t.virtualSize.height,s=t.virtualSize.width,r=t.vScrollInstance,n=t.hScrollInstance;t._arrange(!1);var o=!1,a=t.host.outerWidth(),l=t.host.outerHeight(),h=0;if(s>a&&(h=t.hScrollBar.outerHeight()+2),i+h>l){var d=r.max;r.max=2+parseInt(i)+h-parseInt(l-2),"inherit"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="inherit",o=!0),d!=r.max&&r._arrange()}else"hidden"!=t.vScrollBar[0].style.visibility&&(t.vScrollBar[0].style.visibility="hidden",o=!0,r.setPosition(0));var c=0;"hidden"!=t.vScrollBar[0].style.visibility&&(c=t.scrollBarSize+6);var u=t.checkboxes?this.checkboxSize+6:0;if(t.autoItemsHeight)t.hScrollBar[0].style.visibility="hidden";else if(s>=a-c-u){var p=n.max;"inherit"==t.vScrollBar[0].style.visibility?n.max=u+c+parseInt(s)-t.host.width()+2:n.max=u+parseInt(s)-t.host.width()+4,"inherit"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="inherit",o=!0),p!=n.max&&n._arrange(),"inherit"==t.vScrollBar[0].style.visibility&&(r.max=2+parseInt(i)+t.hScrollBar.outerHeight()+2-parseInt(t.host.height()))}else"hidden"!=t.hScrollBar[0].style.visibility&&(t.hScrollBar[0].style.visibility="hidden",o=!0);if(n.setPosition(0),o&&t._arrange(),t.itemswrapper){t.itemswrapper[0].style.width=Math.max(0,Math.max(a-2,17+s))+"px";var m=Math.max(t.content.width(),17+t.virtualSize.width);t.itemswrapper[0].style.width=m+"px",t.itemswrapper[0].style.height=Math.max(0,2*l)+"px"}t.isTouchDevice()&&("visible"!=t.vScrollBar.css("visibility")&&"visible"!=t.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,t.element.id):e.jqx.mobile.setTouchScroll(!0,t.element.id))}},clear:function(){this.source=null,this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.itemsByValue=new Array,this.clearSelection(),this.refresh()},clearSelection:function(e){for(var t=0;t<this.selectedIndexes.length;t++)this.selectedIndexes[t]&&-1!=this.selectedIndexes[t]&&this._raiseEvent("1",{index:t,type:"api",item:this.getVisibleItem(t),originalEvent:null}),this.selectedIndexes[t]=-1;this.selectedIndex=-1,this.selectedValue=null,this.selectedValues=new Array,0!=e&&this._renderItems()},unselectIndex:function(e,t){if(!isNaN(e)){this.selectedIndexes[e]=-1;for(var i=!1,s=0;s<this.selectedIndexes.length;s++){var r=this.selectedIndexes[s];-1!=r&&null!=r&&(i=!0)}if(!i){this.selectedValue=null,this.selectedIndex=-1;var n=this.getVisibleItem(e);n&&this.selectedValues[n.value]&&(this.selectedValues[n.value]=null)}null!=t&&1!=t||(this._renderItems(),this._raiseEvent("1",{index:e,type:"api",item:this.getVisibleItem(e),originalEvent:null})),this._updateInputSelection(),this._raiseEvent("2",{index:e,type:"api",item:this.getItem(e)})}},getInfo:function(){var e=this,t=this.getItems(),i=this.getVisibleItems(),s=function(){var t=e.vScrollInstance.value;e.filterable&&(t-=e.filterHeight);for(var s=new Array,r=0;r<i.length;r++){var n=i[r];if(n){var o=n.initialTop,a=!0;(o+n.height-t<0||o-t>=e.host.height())&&(a=!1),a&&s.push(n)}}return s}();return{items:t,visibleItems:i,viewItems:s}},getItem:function(t){if(-1==t||isNaN(t)||"string"==typeof t)return-1===t?null:this.getItemByValue(t);var i=null;e.each(this.items,(function(){if(this.index==t)return i=this,!1}));return i},getVisibleItem:function(e){return-1==e||isNaN(e)||"string"==typeof e?-1===e?null:this.getItemByValue(e):this.visibleItems[e]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!0,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{label:r.label,value:r.value,checked:!0,item:r})}},getCheckedItems:function(){if(!this.checkboxes)return null;var t=new Array;return null!=this.items?(e.each(this.items,(function(){this.checked&&(t[t.length]=this)})),t):void 0},checkAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,(function(){var e=this,s=e.checked;this.checked=!0,!1!==t&&!0!==s&&i._raiseEvent(3,{label:e.label,value:e.value,checked:!0,item:e})})),this._updateCheckedItems()}},uncheckAll:function(t){if(this.checkboxes&&!this.disabled){var i=this;e.each(this.items,(function(){var e=this,s=e.checked;this.checked=!1,!1!==t&&!1!==s&&(this.checked=!1,i._raiseEvent(3,{label:e.label,value:e.value,checked:!1,item:e}))})),this._updateCheckedItems()}},uncheckIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=!1,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{label:r.label,value:r.value,checked:!1,item:r})}},indeterminateIndex:function(t,i,s){if(this.checkboxes&&!isNaN(t)&&!(t<0||t>=this.visibleItems.length||null!=this.visibleItems[t]&&this.visibleItems[t].disabled||this.disabled)){var r=this.getItem(t);if(this.groups.length>0||this.filterable)r=this.getVisibleItem(t);if(null!=r){e(r.checkBoxElement);r.checked=null,null!=i&&1!=i||this._updateCheckedItems()}null!=s&&1!=s||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var e=this.getVisibleItems(),t=this.getItems();e&&e.length!==t.length&&(t=e);var i=this.selectedIndexes,s=[];for(var r in i)-1!=i[r]&&(s[s.length]=t[r]);return s},getSelectedItem:function(){var e=this.getSelectedItems();return e&&e.length>0?e[0]:null},_updateCheckedItems:function(){var t=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=t,this._renderItems();var i=e.data(this.element,"hoveredItem");null!=i&&(e(i).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(i).addClass(this.toThemeProperty("jqx-fill-state-hover"))),this._updateInputSelection()},getItemByValue:function(t){if(null!=this.visibleItems){if(t&&t.value&&(t=t.value),this.itemsByValue)return this.itemsByValue[e.trim(t).split(" ").join("?")];for(var i=this.visibleItems,s=0;s<i.length;s++)if(i[s].value==t)return i[s]}},checkItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.checkIndex(t.visibleIndex,!0)}return!1},uncheckItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.uncheckIndex(t.visibleIndex,!0)}return!1},indeterminateItem:function(e){if(null!=e){var t=this._getItemByParam(e);return this.indeterminateIndex(t.visibleIndex,!0)}return!1},val:function(e){if(this.input){var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&("date"!=typeof e&&("boolean"!=typeof e&&"string"!=typeof e))};if(t(e)||0==arguments.length)return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0}},selectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.selectIndex(e.visibleIndex,!0)}return this.clearSelection(),!1},unselectItem:function(e){if(null!=e){if(null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return this.unselectIndex(e.visibleIndex,!0)}return!1},selectIndex:function(e,t,i,s,r,n){if(!isNaN(e)){var o=this.selectedIndex;if(this.filterable&&(this.selectedIndex=-1),!(e<-1||e>=this.visibleItems.length||null!=this.visibleItems[e]&&this.visibleItems[e].disabled||this.disabled)){if(this.multiple||this.multipleextended||this.selectedIndex!=e||s||this.checkboxes){if(this.checkboxes){this._updateCheckedItems();var a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==r&&(r="none");var l=this.getItem(e),h=this.getItem(a);return this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(a)),this._raiseEvent("1",{index:a,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n}),void this._renderItems()}this.focused=!0;var d=!1;this.selectedIndex!=e&&(d=!0);a=o;this.selectedIndex!=e||this.multiple||(a=-1),null==r&&(r="none");l=this.getItem(e),h=this.getItem(a);if(this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e),h=this.getVisibleItem(a)),null!=s&&s)this._raiseEvent("1",{index:a,type:r,item:h,originalEvent:n}),this.selectedIndex=e,this.selectedIndexes[a]=-1,this.selectedIndexes[e]=e,l&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value),this._raiseEvent("0",{index:e,type:r,item:l,originalEvent:n});else{var c=this,u=function(e,t,i,s,r,n){c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}),c.selectedIndex=e,c.selectedIndexes=[],t=e,c.selectedIndexes[e]=e,c.selectedValues=new Array,r&&(c.selectedValues[r.value]=r.value),c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n})},p=function(e,t,i,s,r,n){null==c.selectedIndexes[e]||-1==c.selectedIndexes[e]?(c.selectedIndexes[e]=e,c.selectedIndex=e,r&&(c.selectedValues[r.value]=r.value,c._raiseEvent("0",{index:e,type:i,item:r,originalEvent:n}))):(t=c.selectedIndexes[e],(s=c.getVisibleItem(t))&&(c.selectedValues[s.value]=null),c.selectedIndexes[e]=-1,c.selectedIndex=-1,c._raiseEvent("1",{index:t,type:i,item:s,originalEvent:n}))};if(this.multipleextended)if(this._shiftKey||this._ctrlKey){if(this._ctrlKey)"keyboard"==r&&(this.clearSelection(!1),c._clickedIndex=e),p(e,a,r,h,l,n);else if(this._shiftKey){null==c._clickedIndex&&(c._clickedIndex=a);var m=Math.min(c._clickedIndex,e),f=Math.max(c._clickedIndex,e);this.clearSelection(!1);for(var g=m;g<=f;g++)c.selectedIndexes[g]=g,c.selectedValues[c.getVisibleItem(g).value]=c.getVisibleItem(g).value,c._raiseEvent("0",{index:g,type:r,item:this.getVisibleItem(g),originalEvent:n});c.selectedIndex="keyboard"!=r?c._clickedIndex:e}}else"keyboard"!=r&&"mouse"!=r?(p(e,a,r,h,l,n),c._clickedIndex=e):(this.clearSelection(!1),c._clickedIndex=e,u(e,a,r,h,l,n));else this.multiple?p(e,a,r,h,l,n):(l&&(this.selectedValue=l.value),u(e,a,r,h,l,n))}return null!=i&&1!=i||this._renderItems(),null!=t&&null!=t&&1==t&&this.ensureVisible(e),this._raiseEvent("2",{index:e,item:l,oldItem:h,type:r,originalEvent:n}),this._updateInputSelection(),d}this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(l=this.getVisibleItem(e))&&(this.selectedValue=l.value,this.selectedValues[l.value]=l.value)}}},_updateInputSelection:function(){this._syncSelection();var t=new Array;if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&null!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),t.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var i=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),s="";if(i){for(var r=0;r<i.length;r++)null!=i[r]&&(r==i.length-1?s+=i[r].value:s+=i[r].value+",",t.push(i[r].value));this.input.val(s)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,(function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)})):e.each(this.items,(function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)})))},isIndexInView:function(e){if(isNaN(e))return!1;if(!this.items)return!1;if(e<0||e>=this.items.length)return!1;var t=this.vScrollInstance.value,i=0;this.filterable&&(i=this.filterHeight);var s=this.visibleItems[e];if(null==s)return!0;var r=s.initialTop,n=s.height;return!(r-t<i||r-t+i+n>=this.host.outerHeight())},_itemsInPage:function(){var t=0,i=this;return this.items&&e.each(this.items,(function(){if(this.initialTop+this.height>=i.content.height())return!1;t++})),t},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]&&this.visibleItems[0].isGroup?this._nextItemIndex(0):0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]&&this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:-1},_nextItemIndex:function(e){for(var t=e+1;t<this.visibleItems.length;t++)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},_prevItemIndex:function(e){for(var t=e-1;t>=0;t--)if(this.visibleItems[t]&&!this.visibleItems[t].disabled&&!this.visibleItems[t].isGroup)return t;return-1},clearFilter:function(){this.filterInput.val(""),this._updateItemsVisibility("")},_search:function(e){var t=this,i=t.filterInput.val();if(9!=e.keyCode&&"none"!=t.searchMode&&null!=t.searchMode&&"undefined"!=t.searchMode&&16!=e.keyCode&&17!=e.keyCode&&20!=e.keyCode)return 37!=e.keyCode&&39!=e.keyCode&&void(e.altKey||18==e.keyCode||e.keyCode>=33&&e.keyCode<=40||(e.ctrlKey||e.metaKey||t.ctrlKey)&&88!=e.keyCode&&86!=e.keyCode||i!==t.searchString&&t._updateItemsVisibility(i))},_updateItemsVisibility:function(t){var i=this.getItems();if(null==i)return{index:-1,matchItem:new Array};var s=this,r=new Array,n=0;e.each(i,(function(i){var o="";if(!this.isGroup){o=(o=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem").toString();var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}a||(this.visible=!1),a&&(r[n++]=this,this.visible=!0,this.visibleIndex),""==t&&(this.visible=!0,a=!1)}})),s.renderedVisibleItems=new Array,s.visibleItems=new Array,s.vScrollInstance.setPosition(0,!0),s._addItems(!1),s._renderItems();for(var o=0;o<s.items.length;o++)s.selectedIndexes[o]=-1;for(var a in s.selectedIndex=-1,s.selectedValues){t=s.selectedValues[a];var l=s.getItemByValue(t);l&&l.visible&&(s.selectedIndex=l.visibleIndex,s.selectedIndexes[l.visibleIndex]=l.visibleIndex)}s._syncSelection(),s.filterChange&&s.filterChange(t)},_getMatches:function(t,i){if(null==t||0==t.length)return-1;null==i&&(i=0);var s=this.getItems(),r=this,n=-1;return e.each(s,(function(s){var o="";if(!this.isGroup){o=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var a=!1;switch(r.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}if(a&&this.visibleIndex>=i)return n=this.visibleIndex,!1}})),n},findItems:function(t){var i=this.getItems(),s=this,r=0,n=new Array;return e.each(i,(function(i){var o="";if(!this.isGroup){o=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var a=!1;switch(s.searchMode){case"containsignorecase":a=e.jqx.string.containsIgnoreCase(o,t);break;case"contains":a=e.jqx.string.contains(o,t);break;case"equals":a=e.jqx.string.equals(o,t);break;case"equalsignorecase":a=e.jqx.string.equalsIgnoreCase(o,t);break;case"startswith":a=e.jqx.string.startsWith(o,t);break;case"startswithignorecase":a=e.jqx.string.startsWithIgnoreCase(o,t);break;case"endswith":a=e.jqx.string.endsWith(o,t);break;case"endswithignorecase":a=e.jqx.string.endsWithIgnoreCase(o,t)}a&&(n[r++]=this)}})),n},_syncSelection:function(){var e=this;if(e.filterable){if(e.items)for(var t=0;t<e.items.length;t++){(i=e.items[t]).selected=!1}for(t=0;t<e.visibleItems.length;t++){var i=e.visibleItems[t];e.selectedIndexes&&e.selectedIndexes[t]==i.visibleIndex&&(i.selected=!0)}e.itemswrapper&&e._renderItems()}},_handleKeyDown:function(t){var i=t.keyCode,s=this,r=s.selectedIndex,n=s.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&!(this.filterInput&&t.target==this.filterInput[0]||t.target instanceof HTMLInputElement&&e(t.target).ischildof(this.host))){var o,a=function(){(s.multiple||s.checkboxes)&&s.clearSelection(!1)};if(t.altKey&&(i=-1),32==i&&this.checkboxes)return null!=(o=this.getItem(r))&&(s._updateItemCheck(o,r),t.preventDefault()),s._searchString="",s.selectIndex(o.visibleIndex,!1,!0,!0,"keyboard",t),void s._renderItems();if(s.incrementalSearch){var l=-1;s._searchString||(s._searchString=""),(8==i||46==i)&&s._searchString.length>=1&&(s._searchString=s._searchString.substr(0,s._searchString.length-1));var h=String.fromCharCode(i);t.key&&(h=t.key);var d=!isNaN(parseInt(h)),c=!1;if(i>=65&&i<=97||d||8==i||32==i||46==i){t.shiftKey||(h=h.toLocaleLowerCase());var u=1+s.selectedIndex;8!=i&&32!=i&&46!=i&&(s._searchString.length>0&&s._searchString.substr(0,1)==h?(u=1+s.selectedIndex,s._searchString+=h):s._searchString+=h),32==i&&(s._searchString+=" ");var p=this._getMatches(s._searchString,u);if((l=p)==s._lastMatchIndex||-1==l){p=this._getMatches(s._searchString,0);l=p}if(s._lastMatchIndex=l,l>=0){s._toSelectTimer&&clearTimeout(s._toSelectTimer),s._toSelectTimer=setTimeout((function(){a(),s.selectIndex(l,!1,!1,!1,"keyboard",t),s.isIndexInView(l)?s._renderItems():s.ensureVisible(l)}),s.incrementalSearchKeyDownDelay)}c=!0}if(null!=s._searchTimer&&clearTimeout(s._searchTimer),27!=i&&13!=i||(s._searchString=""),s._searchTimer=setTimeout((function(){s._searchString="",s._renderItems()}),s.incrementalSearchDelay),l>=0)return;if(c)return!1}if(33==i){var m=s._itemsInPage();s.selectedIndex-m>=0?(a(),s.selectIndex(n-m,!1,!1,!1,"keyboard",t)):(a(),s.selectIndex(s._firstItemIndex(),!1,!1,!1,"keyboard",t)),s._searchString=""}if(32==i&&this.checkboxes)null!=(o=this.getItem(r))&&(s._updateItemCheck(o,r),t.preventDefault()),s._searchString="";if(36==i&&(a(),s.selectIndex(s._firstItemIndex(),!1,!1,!1,"keyboard",t),s._searchString=""),35==i&&(a(),s.selectIndex(s._lastItemIndex(),!1,!1,!1,"keyboard",t),s._searchString=""),34==i){m=s._itemsInPage();s.selectedIndex+m<s.visibleItems.length?(a(),s.selectIndex(n+m,!1,!1,!1,"keyboard",t)):(a(),s.selectIndex(s._lastItemIndex(),!1,!1,!1,"keyboard",t)),s._searchString=""}if(38==i){if(s._searchString="",!(s.selectedIndex>0))return!1;if((f=s._prevItemIndex(s.selectedIndex))==s.selectedIndex||-1==f)return!0;a(),s.selectIndex(f,!1,!1,!1,"keyboard",t)}else if(40==i){if(s._searchString="",!(s.selectedIndex+1<s.visibleItems.length))return!1;var f;if((f=s._nextItemIndex(s.selectedIndex))==s.selectedIndex||-1==f)return!0;a(),s.selectIndex(f,!1,!1,!1,"keyboard",t)}return 35!=i&&36!=i&&38!=i&&40!=i&&34!=i&&33!=i||(s.isIndexInView(s.selectedIndex)?s._renderItems():s.ensureVisible(s.selectedIndex),!1)}},_updateItemCheck:function(e,t){if(!this.disabled)switch(1==e.checked?e.checked=!(!e.hasThreeStates||!this.hasThreeStates)&&null:e.checked=null!=e.checked,e.checked){case!0:this.checkIndex(t);break;case!1:this.uncheckIndex(t);break;default:this.indeterminateIndex(t)}},wheel:function(e,t){if(t.autoHeight||!t.enableMouseWheel)return e.returnValue=!0,!0;if(t.disabled)return!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){var t=this.vScrollInstance.value;return e<0?this.scrollDown():this.scrollUp(),t!=this.vScrollInstance.value},focus:function(){try{this.focused=!0,this.host.focus();var e=this;setTimeout((function(){e.host.focus()}),25)}catch(e){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id),this.removeHandler(e(document),"keyup.listbox"+this.element.id),this.removeHandler(this.vScrollBar,"valueChanged"),this.removeHandler(this.hScrollBar,"valueChanged"),this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.content,"mouseleave"),this.removeHandler(this.content,"focus"),this.removeHandler(this.content,"blur"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this.content,"mouseenter"),this.removeHandler(this.content,"mouseup"),this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"touchend"),this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove"),this.removeHandler(this.content,"selectstart"),this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());var e=this;if(e._arrange(),e.host.height()!=e._oldheight||e.host.width()!=e._oldwidth){e.host.width(),e._oldwidth;if(e.autoItemsHeight)e._render(!1);else if(e.items)if(e.items.length>0&&e.virtualItemsCount*e.items[0].height<e._oldheight-2)e._render(!1);else{var t=e.vScrollInstance.value;e._updatescrollbars(),e._renderItems(),t<e.vScrollInstance.max?e.vScrollInstance.setPosition(t):e.vScrollInstance.setPosition(e.vScrollInstance.max)}e._oldwidth=e.host.width(),e._oldheight=e.host.height()}},_addHandlers:function(){var t=this;this.focused=!1;new Date;var i=this.isTouchDevice();this.addHandler(this.vScrollBar,"valueChanged",(function(i){e.jqx.browser.msie&&e.jqx.browser.version>9?setTimeout((function(){t._renderItems()}),1):t._renderItems()})),this.addHandler(this.hScrollBar,"valueChanged",(function(){t._renderItems()})),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this._mousewheelfunc=function(e){t.wheel(e,t)},this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(e(document),"keydown.listbox"+this.element.id,(function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey})),this.addHandler(e(document),"keyup.listbox"+this.element.id,(function(e){t._ctrlKey=e.ctrlKey||e.metaKey,t._shiftKey=e.shiftKey})),this.addHandler(this.host,"keydown",(function(e){return t._handleKeyDown(e)})),this.addHandler(this.content,"mouseleave",(function(i){t.focused=!1;var s=e.data(t.element,"hoveredItem");null!=s&&(e(s).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(s).removeClass(t.toThemeProperty("jqx-fill-state-hover")),e.data(t.element,"hoveredItem",null))})),this.addHandler(this.content,"focus",(function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)})),this.addHandler(this.content,"blur",(function(e){t.focused=!1,t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))})),this.addHandler(this.host,"focus",(function(e){t.disabled||(t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!0)})),this.addHandler(this.host,"blur",(function(i){e.jqx.browser.msie&&e.jqx.browser.version<9&&t.focused||(t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.focused=!1)})),this.addHandler(this.content,"mouseenter",(function(e){t.focused=!0}));var s=e.jqx.utilities.hasTransform(this.host),r=t.isTouchDevice()&&!0!==this.touchMode,n=r?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),(function(i){if(!t.enableSelection)return!0;if(r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!0;var s=e.jqx.mobile.getTouches(i)[0];if(null!=s){var n=t.host.offset(),o=parseInt(s.pageX),a=parseInt(s.pageY);1==t.touchMode&&null!=s._pageX&&(o=parseInt(s._pageX),a=parseInt(s._pageY)),o-=n.left,a-=n.top;var l=t._hitTest(o,a);if(null!=l&&!l.isGroup){if(t._newScroll=new Date,t._newScroll-t._lastScroll<500)return!1;if(t.checkboxes)return t._updateItemCheck(l,l.visibleIndex),void t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i);if(-1==l.html.indexOf("href"))return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),i.preventDefault&&i.preventDefault(),t.content.trigger("click"),!1;setTimeout((function(){return t.selectIndex(l.visibleIndex,!1,!0,!1,"mouse",i),t.content.trigger("click"),!1}),100)}}}));else{var o=!1;this.addHandler(this.content,n,(function(i){if(!t.enableSelection)return!0;if(o=!0,r&&(t._newScroll=new Date,t._newScroll-t._lastScroll<500))return!1;if(t.focused=!0,!t.isTouchDevice()&&t.focusable&&t.host.focus(),i.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=i.target){var a=i.target,l=e(a).offset(),h=t.host.offset();if(s){var d=e.jqx.mobile.getLeftPos(a),c=e.jqx.mobile.getTopPos(a);l.left=d,l.top=c,d=e.jqx.mobile.getLeftPos(t.element),c=e.jqx.mobile.getTopPos(t.element),h.left=d,h.top=c}var u=parseInt(l.top)-parseInt(h.top),p=parseInt(l.left)-parseInt(h.left),m=t._hitTest(p,u);if(null!=m&&!m.isGroup){var f=function(e,i){if(t._shiftKey||(t._clickedIndex=e.visibleIndex),t.checkboxes)if(p=20+i.pageX-l.left,t.rtl){"hidden"!=t.hScrollBar.css("visibility")?t.hScrollInstance.max:t.host.width();p<=t.host.width()-20&&(t.allowDrag?setTimeout((function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))}),200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)))}else p+t.hScrollInstance.value>=20&&(t.allowDrag?setTimeout((function(){t._dragItem||o||(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i))}),200):(t._updateItemCheck(e,e.visibleIndex),t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)));else t.selectIndex(e.visibleIndex,!1,!0,!1,"mouse",i)};m.disabled||(-1!=m.html.indexOf("href")?setTimeout((function(){f(m,i)}),100):f(m,i))}if("mousedown"==n){var g=!1;if(i.which?g=3==i.which:i.button&&(g=2==i.button),g)return!0}}return!0}))}this.addHandler(this.content,"mouseup",(function(e){t.vScrollInstance.handlemouseup(t,e),o=!1})),e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",(function(e){return!1}));i=this.isTouchDevice();this.enableHover&&!i&&(this._mousemovefunc=function(r){if(i)return!0;if(!t.enableHover)return!0;1==e.jqx.browser.msie&&e.jqx.browser.version;if(null==r.target)return!0;if(t.disabled)return!0;if(t.focused=!0,!t.vScrollInstance.isScrolling()&&r.target.id!="listBoxContent"+t.element.id&&t.itemswrapper[0]!=r.target){var n=r.target,o=e(n).offset(),a=t.host.offset();if(s){var l=e.jqx.mobile.getLeftPos(n),h=e.jqx.mobile.getTopPos(n);o.left=l,o.top=h,l=e.jqx.mobile.getLeftPos(t.element),h=e.jqx.mobile.getTopPos(t.element),a.left=l,a.top=h}var d=parseInt(o.top)-parseInt(a.top),c=parseInt(o.left)-parseInt(a.left),u=t._hitTest(c,d);if(null!=u&&!u.isGroup&&!u.disabled){var p=e.data(t.element,"hoveredItem");null!=p&&(e(p).removeClass(t.toThemeProperty("jqx-listitem-state-hover")),e(p).removeClass(t.toThemeProperty("jqx-fill-state-hover"))),e.data(t.element,"hoveredItem",u.element);var m=e(u.element);m.addClass(t.toThemeProperty("jqx-listitem-state-hover")),m.addClass(t.toThemeProperty("jqx-fill-state-hover"))}}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(e){null==e&&(e=!0);var t=this,i=null,s=null,r=t.filterable?t.filterHeight:0,n=window.getComputedStyle(this.element),o=2*parseInt(n.borderLeftWidth),a=n.boxSizing;0===this.element.offsetWidth&&(o=2),("border-box"===a||isNaN(o))&&(o=0);var l=function(e){return 0==(e=t.host.height()-o)&&(e=200,t.host.height(e)),e};null!=t.width&&-1!=t.width.toString().indexOf("px")?i=t.width:null==t.width||isNaN(t.width)||(i=t.width),null!=t.height&&-1!=t.height.toString().indexOf("px")?s=t.height:null==t.height||isNaN(t.height)||(s=t.height),null!=t.width&&-1!=t.width.toString().indexOf("%")&&(t.host.css("width",t.width),i=t.host.width()),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(t.host.css("height",t.height),s=l(s)),null!=i&&(i=parseInt(i)-o,parseInt(t.element.style.width)!=parseInt(t.width)&&(t.element.style.width=parseInt(i)+"px")),t.autoHeight?t.virtualSize&&("hidden"!=t.hScrollBar.css("visibility")?(t.host.height(t.virtualSize.height+parseInt(t.scrollBarSize)+3),t.height=t.virtualSize.height+parseInt(t.scrollBarSize)+3,s=t.height):(t.host.height(t.virtualSize.height),t.height=t.virtualSize.height,s=t.virtualSize.height)):null!=s&&(s=parseInt(s),parseInt(t.element.style.height)!=parseInt(t.height)&&(t.host.height(t.height),l(s)));var h=t.scrollBarSize;isNaN(h)&&(h=parseInt(h),isNaN(h)?h="17px":h+="px"),h=parseInt(h);var d=2,c=1;if(t.vScrollBar&&("hidden"!=t.vScrollBar[0].style.visibility?c=h+4:(c=0,t.vScrollInstance.setPosition(0)),0==h&&(c=0,d=0),t.hScrollBar)){"hidden"!=t.hScrollBar[0].style.visibility?d=h+4:(t.hScrollInstance.setPosition(0),d=0),t.autoItemsHeight&&(t.hScrollBar[0].style.visibility="hidden",d=0),null==s&&(s=0);var u=parseInt(s)-4-h;u<0&&(u=0),parseInt(t.hScrollBar[0].style.height)!=h&&(parseInt(h)<0&&(h=0),t.hScrollBar[0].style.height=parseInt(h)+"px"),t.hScrollBar[0].style.top!=u+"px"&&(t.hScrollBar[0].style.top=u+"px",t.hScrollBar[0].style.left="0px");var p=i-h-4;p<0&&(p=0);var m=p+"px";if(t.hScrollBar[0].style.width!=m&&(t.hScrollBar[0].style.width=m),c<=1&&i>=2&&(t.hScrollBar[0].style.width=parseInt(i-2)+"px"),h!=parseInt(t.vScrollBar[0].style.width)&&(t.vScrollBar[0].style.width=parseInt(h)+"px"),parseInt(s)-d!=parseInt(t.vScrollBar[0].style.height)){var f=parseInt(s)-d;f<0&&(f=0),t.vScrollBar[0].style.height=f+"px"}null==i&&(i=0);var g=parseInt(i)-parseInt(h)-4+"px";"border-box"===this.host.css("box-sizing")&&(g=parseInt(g)-2+"px"),g!=t.vScrollBar[0].style.left&&(parseInt(g)>=0&&(t.vScrollBar[0].style.left=g),t.vScrollBar[0].style.top="0px");var v=t.vScrollInstance;v.disabled=t.disabled,e&&v._arrange();var x=t.hScrollInstance;if(x.disabled=t.disabled,e&&x._arrange(),"hidden"!=t.vScrollBar[0].style.visibility&&"hidden"!=t.hScrollBar[0].style.visibility?(t.bottomRight[0].style.visibility="inherit",t.bottomRight[0].style.left=1+parseInt(t.vScrollBar[0].style.left)+"px",t.bottomRight[0].style.top=1+parseInt(t.hScrollBar[0].style.top)+"px",t.rtl&&t.bottomRight.css({left:0}),t.bottomRight[0].style.width=parseInt(h)+3+"px",t.bottomRight[0].style.height=parseInt(h)+3+"px"):t.bottomRight[0].style.visibility="hidden",parseInt(t.content[0].style.width)!=parseInt(i)-c){var b=parseInt(i)-c;b<0&&(b=0),t.content[0].style.width=b+"px"}if(t.rtl&&(t.vScrollBar.css({left:"0px",top:"0px"}),t.hScrollBar.css({left:t.vScrollBar.width()+2+"px"}),"hidden"!=t.vScrollBar[0].style.visibility?t.content.css("margin-left",4+t.vScrollBar.width()):(t.content.css("margin-left",0),t.hScrollBar.css({left:"0px"})),t.filterable&&t.filterInput&&t.filterInput.css({left:t.vScrollBar.width()+6+"px"})),parseInt(t.content[0].style.height)!=parseInt(s)-d){var y=parseInt(s)-d;y<0&&(y=0),t.content[0].style.height=y+"px",t.content[0].style.top="0px"}r>0&&(t.content[0].style.top=r+"px",t.content[0].style.height=parseInt(t.content[0].style.height)-r+"px"),t.filterable?(t.filterInput[0].style.height=r-6+"px",t.filterInput[0].style.top="3px",t.rtl||(t.filterInput[0].style.left=parseInt(t.content.css("left"))+3+"px"),t.filterInput[0].style.width=parseInt(t.content.css("width"))-7+"px",t.filter[0].style.display="block"):t.filter[0].style.display="none",t.overlayContent&&(t.overlayContent.width(parseInt(i)-c),t.overlayContent.height(parseInt(s)-d))}},ensureVisible:function(t,i){isNaN(t)&&((r=this.getItemByValue(t))&&(t=r.index));if(this.isIndexInView(t)){if(i)for(s=0;s<this.visibleItems.length;s++){if((r=this.visibleItems[s]).visibleIndex==t&&!r.isGroup){o=this.vScrollInstance.value,d=r.initialTop;this.filterable&&(d=this.filterHeight+2+r.initialTop),o+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(d)}}}else{if(t<0)return;if(this.autoHeight)(n=e.data(this.vScrollBar[0],"jqxScrollBar").instance).setPosition(0);else for(var s=0;s<this.visibleItems.length;s++){var r;if((r=this.visibleItems[s]).visibleIndex==t&&!r.isGroup){var n,o=(n=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value,a=this.filterable?this.filterHeight+2:0,l="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;if(r.initialTop<o)n.setPosition(r.initialTop),0==s&&n.setPosition(0);else if(r.initialTop+r.height>o+this.host.height()-a){var h=this.host.height();if(this.filterable?n.setPosition(this.filterHeight+2+r.initialTop+r.height+2-h+l):(n.setPosition(r.initialTop+r.height+2-h+l),s===this.visibleItems.length-1&&n.setPosition(n.max)),i){var o=n.value,d=r.initialTop;this.filterable&&(d=this.filterHeight+2+r.initialTop),o+h<n.max&&n.setPosition(d)}}break}}}this._renderItems()},scrollTo:function(e,t){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(t),"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(e)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value+e.largestep<=e.max?(e.setPosition(e.value+e.largestep),!0):(e.setPosition(e.max),!0)},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var e=this.vScrollInstance;return e.value-e.largestep>=e.min?(e.setPosition(e.value-e.largestep),!0):e.value!=e.min&&(e.setPosition(e.min),!0)},databind:function(t,i){this.records=new Array;var s=!!t._source,r=new e.jqx.dataAdapter(t,{autoBind:!1});s&&(r=t,t=t._source);var n=function(t,i){var s=function(i){var s=null;if("string"==typeof i)var r=i,n=i,o="";else if(null!=t.displayMember&&""!=t.displayMember)n=i[t.valueMember],r=i[t.displayMember];o="";if(t.groupMember?o=i[t.groupMember]:i&&null!=i.group&&(o=i.group),t.searchMember?s=i[t.searchMember]:i&&null!=i.searchLabel&&(s=i.searchLabel),t.valueMember||t.displayMember||"string"==e.type(i)&&(r=n=i.toString()),i&&null!=i.label)r=i.label;if(i&&null!=i.value)n=i.value;var a=!1;i&&null!=i.checked&&(a=i.checked);var l="";i&&null!=i.html&&(l=i.html);var h=!0;i&&null!=i.visible&&(h=i.visible);var d=!1;i&&null!=i.disabled&&(d=i.disabled);var c=!1;i&&null!=i.hasThreeStates&&(c=i.hasThreeStates);var u={};return u.label=r,u.value=n,u.searchLabel=s,u.html=l,u.visible=h,u.originalItem=i,u.group=o,u.groupHtml="",u.disabled=d,u.checked=a,u.hasThreeStates=c,u};if(null!=i&&r._changedrecords[0])return void e.each(r._changedrecords,(function(){var e=this.index,r=this.record;if("remove"!=i)var n=s(r);switch(i){case"update":t.updateAt(n,e);break;case"add":t.insertAt(n,e);break;case"remove":t.removeAt(e)}}));t.records=r.records;for(var n=t.records.length,o=new Array,a=0;a<n;a++){var l=t.records[a],h=s(l);h.index=a,o[a]=h}t.items=t.loadItems(o,!0),t._render(),t._raiseEvent("6")};null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async);var o=this;switch(t.datatype){case"local":case"array":default:(null!=t.localdata||e.isArray(t))&&(r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),n(this),r.bindBindingUpdate(this.element.id,(function(e){n(o,e)})));break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!i)&&r.dataBind(),n(this),void r.bindBindingUpdate(this.element.id,(function(){n(o)}));var a={};r._options.data?e.extend(r._options.data,a):(t.data&&e.extend(a,t.data),r._options.data=a);r.unbindDownloadComplete(o.element.id),r.bindDownloadComplete(o.element.id,(function(){n(o)})),(this.autoBind||!this.autoBind&&!i)&&r.dataBind()}},loadItems:function(t,i){if(null==t)return this.groups=new Array,this.items=new Array,void(this.visualItems=new Array);var s=this,r=0,n=0,o=0;this.groups=new Array,this.items=new Array,this.visualItems=new Array;var a=new Array;this.itemsByValue=new Array,e.map(t,(function(t){if(null==t)return null;var l=new e.jqx._jqxListBox.item,h=t.group,d=t.groupHtml,c=t.title,u=null;if(s.searchMember?u=t[s.searchMember]:t&&null!=t.searchLabel&&(u=t.searchLabel),null!=c&&null!=c||(c=""),null!=h&&null!=h||(h=""),s.groupMember&&(h=t[s.groupMember]),null!=d&&null!=d||(d=""),!s.groups[h]){s.groups[h]={items:new Array,index:-1,caption:h,captionHtml:d};var p=++r+"jqxGroup";s.groups[p]=s.groups[h],n++,s.groups.length=n}var m=s.groups[h];return m.index++,m.items[m.index]=l,"string"==typeof t?(l.label=t,l.value=t,arguments.length>1&&arguments[1]&&"string"==e.type(arguments[1])&&(l.label=t,l.value=arguments[1])):null==t.label&&null==t.value&&null==t.html&&null==t.group&&null==t.groupHtml?(l.label=t.toString(),l.value=t.toString()):(l.label=t.label,l.value=t.value,void 0===l.label&&(l.label=t.value),void 0===l.value&&(l.value=t.label)),"string"!=typeof t&&(void 0===t.label&&""!=s.displayMember&&(null!=t[s.displayMember]?l.label=t[s.displayMember]:l.label=""),void 0===t.value&&""!=s.valueMember&&(l.value=t[s.valueMember])),l.hasThreeStates=null==t.hasThreeStates||t.hasThreeStates,l.originalItem=t,i&&(l.originalItem=t.originalItem),l.title=c,c&&void 0===l.value&&void 0===l.label&&(l.value=l.label=c),l.html=t.html||"",t.html&&t.html,l.label,l.group=h,l.checked=t.checked||!1,l.groupHtml=t.groupHtml||"",l.disabled=t.disabled||!1,l.visible=null==t.visible||t.visible,l.searchLabel=u,l.index=o,a[o]=l,o++,l}));var l=new Array,h=0;if(null==this.fromSelect||0==this.fromSelect)for(var d=0;d<n;d++){var c=(r=d+1)+"jqxGroup",u=this.groups[c];if(null==u||null==u)break;if(0==d&&""==u.caption&&""==u.captionHtml&&n<=1){for(var p=0;p<u.items.length;p++){var m=u.items[p].value;null!=u.items[p].value&&null!=u.items[p].value||(m=p),this.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[p]}return u.items}var f=new e.jqx._jqxListBox.item;f.isGroup=!0,f.label=u.caption,""==u.caption&&""==u.captionHtml&&(u.caption=this.emptyGroupText,f.label=u.caption),f.html=u.captionHtml,l[h]=f,h++;for(var g=0;g<u.items.length;g++){l[h]=u.items[g];m=u.items[g].value;""!=u.items[g].value&&null!=u.items[g].value||(m=h),s.itemsByValue[e.trim(m).split(" ").join("?")]=u.items[g],h++}}else{h=0;var v=new Array;e.each(a,(function(){if(!v[this.group]&&""!=this.group){var t=new e.jqx._jqxListBox.item;t.isGroup=!0,t.label=this.group,l[h]=t,h++,v[this.group]=!0}l[h]=this;var i=this.value;""!=this.value&&null!=this.value||(i=h-1),s.itemsByValue[e.trim(i).split(" ").join("?")]=this,h++}))}return l},_mapItem:function(t){var i=new e.jqx._jqxListBox.item;return this.displayMember&&(null==t.label&&(t.label=t[this.displayMember]),null==t.value&&(t.value=t[this.valueMember])),"string"==typeof t?(i.label=t,i.value=t):"number"==typeof t?(i.label=t.toString(),i.value=t.toString()):(i.label=void 0!==t.label?t.label:t.value,i.value=void 0!==t.value?t.value:t.label),null==i.label&&null==i.value&&null==i.html&&(i.label=i.value=t),i.html=t.html||"",i.group=t.group||"",i.checked=t.checked||!1,i.title=t.title||"",i.groupHtml=t.groupHtml||"",i.disabled=t.disabled||!1,i.visible=t.visible||!0,i},addItem:function(e){return this.insertAt(e,this.items?this.items.length:0)},_getItemByParam:function(e){if(null!=e&&null==e.index){var t=this.getItemByValue(e);t&&(e=t)}return e},insertItem:function(e,t){var i=this._getItemByParam(e);return this.insertAt(i,t)},updateItem:function(e,t){var i=this._getItemByParam(t);return!(!i||null==i.index)&&this.updateAt(e,i.index)},updateAt:function(t,i){if(null!=t){var s=this._mapItem(t);this.itemsByValue[e.trim(s.value).split(" ").join("?")]=this.items[i],this.items[i].value=s.value,this.items[i].label=s.label,this.items[i].html=s.html,this.items[i].disabled=s.disabled,this._raiseEvent("9",{item:this.items[i]})}this._cachedItemHtml=[],this._renderItems(),this.rendered&&this.rendered()},insertAt:function(t,i){if(null==t)return!1;if(this._cachedItemHtml=[],null==this.items||0==this.items.length){this.source=new Array,this.refresh(),(r=this._mapItem(t)).index=0,this.items[this.items.length]=r,this._addItems(!0),this._renderItems(),this.rendered&&this.rendered(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var s=r.value;return""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,!1}var r=this._mapItem(t);if(-1==i||null==i||null==i||i>=this.items.length)r.index=this.items.length,this.items[this.items.length]=r;else{for(var n=new Array,o=0,a=!1,l=0,h=0;h<this.items.length;h++)0==this.items[h].isGroup&&l>=i&&!a&&(n[o++]=r,r.index=i,l++,a=!0),n[o]=this.items[h],this.items[h].isGroup||(n[o].index=l,l++),o++;this.items=n}s=r.value;""!=r.value&&null!=r.value||(s=i),this.itemsByValue[e.trim(s).split(" ").join("?")]=r,this.visibleItems=new Array,this.renderedVisibleItems=new Array;var d=e.data(this.vScrollBar[0],"jqxScrollBar").instance,c=d.value;return d.setPosition(0),this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1),this.groups.length,this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),d.setPosition(c),this._raiseEvent("7",{item:r}),this.rendered&&this.rendered(),!0},removeAt:function(t){if(t<0||t>this.items.length-1)return!1;if(null==t)return!1;var i=this.items[t].height;""!=(f=this.items[t].value)&&null!=f||(f=t),this.itemsByValue[e.trim(f).split(" ").join("?")]=null;var s=this.items[t];if(this.groups.length>1){for(var r=new Array,n=0;n<this.items.length;n++)this.items[n].isGroup||r.push({item:this.items[n],key:n});if(!r[t])return!1;this.items.splice(r[t].key,1)}else this.items.splice(t,1);for(var o=0,a=-1,l=0;l<this.items.length;l++){this.items[l].isGroup?(o=0,a=l):a>=0&&o++}0===o&&a>=0&&this.items.splice(a,1);var h=new Array,d=0,c=0;for(n=0;n<this.items.length;n++)h[d]=this.items[n],this.items[n].isGroup||(h[d].index=c,c++),d++;this.items=h;var u=e.data(this.vScrollBar[0],"jqxScrollBar").instance,p=(u=e.data(this.vScrollBar[0],"jqxScrollBar").instance).value;if(u.setPosition(0),this.visibleItems=new Array,this.renderedVisibleItems=new Array,this.items.length>0){if(this.virtualSize){this.virtualSize.height-=i;var m=2*this.virtualSize.itemsPerPage;this.autoHeight&&(m=this.items.length),this.virtualItemsCount=Math.min(m,this.items.length)}this._updatescrollbars()}else this._addItems();this._renderItems(),this.allowDrag&&this._enableDragDrop&&this._enableDragDrop(),"hidden"!=this.vScrollBar.css("visibility")?u.setPosition(p):u.setPosition(0),this.itemsByValue=new Array;for(l=0;l<this.items.length;l++){var f=this.items[l].value;""!=this.items[l].value&&null!=this.items[l].value||(f=l),this.itemsByValue[e.trim(f).split(" ").join("?")]=this.items[l]}return this._raiseEvent("8",{item:s}),0===this.items.length&&(this.selectedIndex=-1,this.selectedValue=null,this._updateInputSelection()),this.rendered&&this.rendered(),!0},removeItem:function(e,t){var i=this._getItemByParam(e),s=-1;if(i&&null!=i.index&&!0!==t){for(var r=0;r<this.items.length;r++)if(this.items[r].label==i.label&&this.items[r].value==i.value){s=r;break}if(-1!=s)return this.removeAt(s)}if(-1==s)return this.removeAt(i.index)},getItems:function(){return this.items},disableItem:function(e){var t=this._getItemByParam(e);this.disableAt(t.index)},enableItem:function(e){var t=this._getItemByParam(e);this.enableAt(t.index)},disableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!0,this._renderItems(),!0))},enableAt:function(e){return!!this.items&&(!(e<0||e>this.items.length-1)&&(this.items[e].disabled=!1,this._renderItems(),!0))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id),this._removeHandlers(),this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar.remove(),this.hScrollBar.remove(),this.content.remove(),e.jqx.utilities.resize(this.host,null,!0);var t=e.data(this.element,"jqxListBox");delete this.hScrollInstance,delete this.vScrollInstance,delete this.vScrollBar,delete this.hScrollBar,delete this.content,delete this.bottomRight,delete this.itemswrapper,delete this.visualItems,delete this.visibleItems,delete this.items,delete this.groups,delete this.renderedVisibleItems,delete this._mousewheelfunc,delete this._mousemovefunc,delete this._cachedItemHtml,delete this.itemsByValue,delete this._activeElement,delete this.source,delete this.events,this.input&&(this.input.remove(),delete this.input),t&&delete t.instance,this.host.removeData(),this.host.removeClass(),this.host.remove(),this.element=null,delete this.element,this.host=null,delete this.set,delete this.get,delete this.call,delete this.host},_raiseEvent:function(t,i){if(1==this._stopEvents)return!0;null==i&&(i={owner:null});var s=this.events[t],r=i;r.owner=this,this._updateInputSelection();var n=new e.Event(s);if(n.owner=this,n.args=r,null!=this.host)var o=this.host.trigger(n);return o}})}(jqxBaseFramework),function(e){e.jqx.parseSourceTag=function(t){var i=new Array,s=e(t).find("option"),r=e(t).find("optgroup"),n=!1;if(0===s.length&&(s=e(t).find("li")).length>0&&(n=!0),0===s.length){var o=[],a=e(t).find("tr"),l=e(t).find("th"),h=0;0===l.length&&a.length>0&&(l=e(a[0]).find("td"),h=1);for(var d=[],c=[],u=(o=[],0);u<a.length;u++){var p=a[u],m={};u===h+1&&(c=[]);for(var f=0;f<l.length;f++){var g=e.trim(e(l[f]).text()),v=e(p).find("td:eq("+f+")");if(m[g]=e.trim(v.text()),u===h&&(d.push({text:g,dataField:g}),c.push({name:g})),u===h+1){var x=typeof m[g],b="";"string"===x&&("true"===m[g]||"false"===m[g]?x="bool":isNaN(parseFloat(m[g]))||-1!==m[g].indexOf("-")||-1!==m[g].indexOf("/")?m[g].indexOf("$")>=0||m[g].indexOf("%")>=0?(x="number",m[g].indexOf("$")>=0&&(b="c"),m[g].indexOf("%")>=0&&(b="p"),m[g]=m[g].replace("%","").replace("$","")):"Invalid Date"!==new Date(m[g]).toString()&&(x="date",b="d"):(x="number",b=m[g].indexOf(".")>=0?"f":"n")),d[f].cellsformat=b,"number"===x&&(d[f].cellsalign="right",d[f].align="right"),c.push({name:g,type:x})}}u>=1&&(o[o.length]=m)}var y={localdata:o,datatype:"array",datafields:c};return{source:new e.jqx.dataAdapter(y),columns:d}}var w=null,_=(w=-1,new Array);if(e.each(s,(function(t){var s=r.find(this).length>0,o=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text),!0===n&&(this.label=e(this).text().trim(),this.selected=e(this).attr("data-selected"),this.checked=this.selected,this.value=e(this).attr("data-value")||t,this.disabled=e(this).attr("disabled"));var a={style:this.style.cssText,selected:this.selected,html:this.innerHTML.trim(),classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e.jqx.browser.msie&&e.jqx.browser.version<8&&!n&&""==a.value&&null!=this.text&&this.text.length>0&&(a.value=this.text),s&&(o=r.find(this).parent()[0].label,a.group=o,_[o]||(_[o]=new Array,_.length++),_[o].push(a)),this.selected&&(w=t),a.checked=this.selected,void 0!==a.label&&i.push(a)})),_.length>0){var q=new Array;for(var j in _)if("indexOf"!==j){for(u=0;u<r.length;u++)if(j===r[u].label||r[u].text){r[u];break}e.each(_[j],(function(e,t){void 0!==this.label&&q.push(this)}))}}return q&&q.length>0?{items:q,index:w}:{items:i,index:w}},e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxDropDownList","",{}),e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var t={disabled:!1,width:null,height:null,items:new Array,selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:17,enableHover:!0,enableSelection:!0,autoItemsHeight:!1,visualItems:new Array,groups:new Array,equalItemsWidth:!0,itemHeight:-1,visibleItems:new Array,emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,dropDownContainer:"default",animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",dropDownVerticalAlignment:"bottom",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:3001,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,ready:null,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,hint:!0,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:["open","close","select","unselect","change","checkChange","bindingComplete","itemAdd","itemRemove","itemUpdate"]};return this===e.jqx._jqxDropDownList.prototype||e.extend(!0,this,t),t},createInstance:function(e){if(this.isMaterialized()){var t=window.getComputedStyle(this.element),i=t.getPropertyValue("--jqx-dropdown-animation"),s=t.getPropertyValue("--jqx-list-item-height"),r=t.getPropertyValue("--jqx-action-button-size");this.arrowSize=r?parseInt(r):25,i&&"default"==this.animationType&&(this.animationType=i.trim()),s&&-1===this.itemHeight&&(this.itemHeight=parseInt(s))}this.render()},render:function(){(c=this).width||(c.width=200),c.height||(c.height=25),c.host.addClass(c.toThemeProperty("jqx-dropdownlist"));var t=c.element.nodeName.toLowerCase();if("select"==t||"ul"==t||"ol"==t){c.field=c.element,c.field.className&&(c._className=c.field.className);var i={title:c.field.title};c.field.id.length?i.id=c.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":i.id=e.jqx.utilities.createId()+"_jqxDropDownList";var s=e("<div></div>",i);c.width||(c.width=e(c.field).width()),c.height||(c.height=e(c.field).outerHeight()),s[0].style.cssText=c.field.style.cssText,e(c.field).hide().after(s);var r=c.host.data();if(c.host=s,c.host.data(r),c.element=s[0],c.element.id=c.field.id,c.field.id=i.id,c._className&&(c.host.addClass(c._className),e(c.field).removeClass(c._className)),c.field.tabIndex){var n=c.field.tabIndex;c.field.tabIndex=-1,c.element.tabIndex=n}var o=e.jqx.parseSourceTag(c.field);c.source=o.items,-1==c.selectedIndex&&(c.selectedIndex=o.index)}else if(c.host.find("li").length>0||c.host.find("option").length>0){o=e.jqx.parseSourceTag(c.element);c.source=o.items}c.element.innerHTML="",c.isanimating=!1,c.id=c.element.id||e.jqx.utilities.createId(),c.host.attr("role","combobox"),e.jqx.aria(c,"aria-autocomplete","both"),e.jqx.aria(c,"aria-readonly",!1);var a="<div style='background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'><div id='dropdownlistWrapper' style='overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'><div id='dropdownlistContent' unselectable='on' style='outline: none; background-color: transparent; border: none; float: left; position: relative;'></div><div id='dropdownlistArrow' unselectable='on' style='background-color: transparent; border: none; float: right; position: relative;'><div unselectable='on'></div></div></div></div>";if(null==e.jqx._jqxListBox||null==e.jqx._jqxListBox)throw new Error("jqxDropDownList: Missing reference to jqxlistbox.js.");c.host.attr("tabindex")||c.host.attr("tabindex",0);c.touch=e.jqx.mobile.isTouchDevice(),c.comboStructure=a,c.element.innerHTML=a,c.dropdownlistWrapper=e(c.element.firstChild.firstChild),c.dropdownlistArrow=e(c.dropdownlistWrapper[0].firstChild.nextSibling),c.arrow=e(c.dropdownlistArrow[0].firstChild),c.dropdownlistContent=e(c.dropdownlistWrapper[0].firstChild),c.dropdownlistContent.addClass(c.toThemeProperty("jqx-dropdownlist-content jqx-disableselect")),c.rtl&&c.dropdownlistContent.addClass(c.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl")),c.addHandler(c.dropdownlistWrapper,"selectstart",(function(){return!1})),c.dropdownlistWrapper[0].id="dropdownlistWrapper"+c.element.id,c.dropdownlistArrow[0].id="dropdownlistArrow"+c.element.id,c.dropdownlistContent[0].id="dropdownlistContent"+c.element.id,c._addInput();var l=e("<label></label");this.hint&&(l[0].innerHTML=this.placeHolder),l.addClass(c.toThemeProperty("jqx-input-label")),c.dropdownlistWrapper.append(l),c.label=l;var h=e("<span></span>");c.dropdownlistWrapper.append(h),h.addClass(c.toThemeProperty("jqx-input-bar")),c.bar=h,c.bar.css("top",this.host.height());var d=this;d.template&&(d.bar.addClass(d.toThemeProperty("jqx-"+d.template)),d.label.addClass(d.toThemeProperty("jqx-"+d.template))),"Please Choose:"!=c.promptText&&(c.placeHolder=c.promptText);var c,u=c.toThemeProperty("jqx-widget")+" "+c.toThemeProperty("jqx-dropdownlist-state-normal")+" "+c.toThemeProperty("jqx-rc-all")+" "+c.toThemeProperty("jqx-fill-state-normal");c.element.className+=" "+u,c._firstDiv=e(c.element.firstChild);try{var p="listBox"+c.id,m=e(e.find("#"+p));m.length>0&&m.remove(),e.jqx.aria(c,"aria-owns",p),e.jqx.aria(c,"aria-haspopup",!0);var f=e("<div style='overflow: hidden; background-color: transparent; border: none; position: absolute;' id='listBox"+c.id+"'><div id='innerListBox"+c.id+"'></div></div>");f.hide(),f.addClass(c.toThemeProperty("jqx-listbox-container")),"element"==c.dropDownContainer?f.appendTo(c.host):f.appendTo(document.body),c.container=f,c.listBoxContainer=e(e.find("#innerListBox"+c.id));var g=c.width;"auto"!=c.dropDownWidth&&(g=c.dropDownWidth),null==g&&0==(g=c.host.width())&&(g=c.dropDownWidth),null==c.dropDownHeight&&(c.dropDownHeight=200);c.container.width(parseInt(g)+25),c.container.height(parseInt(c.dropDownHeight)+25),c._ready=!1,c.addHandler(c.listBoxContainer,"bindingComplete",(function(t){c.listBox||(c.listBox=e.data(c.listBoxContainer[0],"jqxListBox").instance),c.selectedIndex!=c.listBoxContainer.jqxListBox("selectedIndex")?(c.listBox=e.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBoxContainer.jqxListBox({selectedIndex:c.selectedIndex}),c.renderSelection("mouse")):c.renderSelection("mouse"),c._ready||(c.ready&&c.ready(),c._ready=!0),c._raiseEvent("6")})),c.addHandler(c.listBoxContainer,"itemAdd",(function(e){c._raiseEvent("7",e.args)})),c.addHandler(c.listBoxContainer,"itemRemove",(function(e){c._raiseEvent("8",e.args)})),c.addHandler(c.listBoxContainer,"itemUpdate",(function(e){c._raiseEvent("9",e.args)})),c.listBoxContainer.jqxListBox({filterHeight:c.filterHeight,filterPlaceHolder:c.filterPlaceHolder,filterDelay:c.filterDelay,autoItemsHeight:c.autoItemsHeight,filterable:c.filterable,allowDrop:!1,allowDrag:!1,autoBind:c.autoBind,_checkForHiddenParent:!1,focusable:c.focusable,touchMode:c.touchMode,checkboxes:c.checkboxes,rtl:c.rtl,_renderOnDemand:!0,emptyString:c.emptyString,itemHeight:c.itemHeight,width:g,searchMode:c.searchMode,incrementalSearch:c.incrementalSearch,incrementalSearchDelay:c.incrementalSearchDelay,groupMember:c.groupMember,searchMember:c.searchMember,displayMember:c.displayMember,valueMember:c.valueMember,height:c.dropDownHeight,autoHeight:c.autoDropDownHeight,scrollBarSize:c.scrollBarSize,selectedIndex:c.selectedIndex,source:c.source,theme:c.theme,rendered:function(){c.selectedIndex!=c.listBoxContainer.jqxListBox("selectedIndex")?(c.listBox=e.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBoxContainer.jqxListBox({selectedIndex:c.selectedIndex}),c.renderSelection("mouse")):c.renderSelection("mouse")},renderer:c.renderer,filterChange:function(e){c.autoDropDownHeight&&c.container.height(c.listBoxContainer.height()+25)}}),"element"===c.dropDownContainer?c.listBoxContainer.css({position:"absolute",top:0,left:0}):c.listBoxContainer.css({position:"absolute",zIndex:c.popupZIndex,top:0,left:0}),c.template&&c.listBoxContainer.addClass(c.toThemeProperty("jqx-"+c.template+"-item")),c.listBox=e.data(c.listBoxContainer[0],"jqxListBox").instance,c.listBox.enableSelection=c.enableSelection,c.listBox.enableHover=c.enableHover,c.listBox.equalItemsWidth=c.equalItemsWidth,c.listBox.selectIndex(c.selectedIndex),c.listBox._arrange(),c.listBoxContainer.addClass(c.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&c.listBoxContainer.addClass(c.toThemeProperty("jqx-noshadow")),c.addHandler(c.listBoxContainer,"unselect",(function(e){c._raiseEvent("3",{index:e.args.index,type:e.args.type,item:e.args.item})})),c.addHandler(c.listBoxContainer,"change",(function(e){e.args&&("keyboard"!=e.args.type?c._raiseEvent("4",{index:e.args.index,type:e.args.type,item:e.args.item}):"keyboard"==e.args.type&&(c.isOpened()||c._raiseEvent("4",{index:c.selectedIndex,type:"keyboard",item:c.getItem(c.selectedIndex)})))})),"none"==c.animationType?c.container.css("display","none"):c.container.hide()}catch(e){console&&console.log(e)}if((c=c).propertyChangeMap.disabled=function(t,i,s,r){r?(t.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.addClass(c.toThemeProperty("jqx-dropdownlist-content-disabled"))):(t.host.removeClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),t.host.removeClass(c.toThemeProperty("jqx-fill-state-disabled")),t.dropdownlistContent.removeClass(c.toThemeProperty("jqx-dropdownlist-content-disabled"))),e.jqx.aria(t,"aria-disabled",t.disabled)},c.disabled&&(c.host.addClass(c.toThemeProperty("jqx-dropdownlist-state-disabled")),c.host.addClass(c.toThemeProperty("jqx-fill-state-disabled")),c.dropdownlistContent.addClass(c.toThemeProperty("jqx-dropdownlist-content-disabled"))),"top"==c.dropDownVerticalAlignment?c.arrow.addClass(c.toThemeProperty("jqx-icon-arrow-up")):c.arrow.addClass(c.toThemeProperty("jqx-icon-arrow-down")),c.arrow.addClass(c.toThemeProperty("jqx-icon")),"simple"===c.renderMode&&(c.arrow.remove(),c.host.removeClass(c.toThemeProperty("jqx-fill-state-normal")),c.host.removeClass(c.toThemeProperty("jqx-rc-all"))),c.template&&c.host.addClass(c.toThemeProperty("jqx-"+c.template)),c._updateHandlers(),c._setSize(),c._arrange(),c.listBox&&c.renderSelection(),e.jqx.browser.msie&&e.jqx.browser.version<8&&c.host.parents(".jqx-window").length>0){var v=c.host.parents(".jqx-window").css("z-index");f.css("z-index",v+10),c.listBoxContainer.css("z-index",v+10)}},resize:function(e,t){this.width=e,this.height=t,this._setSize(),this._arrange()},val:function(e){if(!this.dropdownlistContent)return"";var t=function(t){for(var i in t)if(t.hasOwnProperty(i))return!1;return"number"!=typeof e&&("date"!=typeof e&&("boolean"!=typeof e&&"string"!=typeof e))};if(this.input&&(t(e)||0==arguments.length))return this.input.val();var i=this.getItemByValue(e);return null!=i&&this.selectItem(i),this.input?this.input.val():void 0},focus:function(){try{var e=this,t=function(){e.host&&(e.host.focus(),e._firstDiv&&e._firstDiv.focus())};t(),setTimeout((function(){t()}),10)}catch(e){}},_addInput:function(){var t=this.host.attr("name");this.input=e("<input type='hidden'/>"),this.host.append(this.input),t&&this.input.attr("name",t)},getItems:function(){return this.listBox?this.listBox.items:new Array},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){var t=window.getComputedStyle(this.element),i=2*parseInt(t.borderLeftWidth),s=t.boxSizing;0===this.element.offsetWidth&&(i=2),("border-box"===s||isNaN(i))&&(i=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-i+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-i+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-i+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-i+"px");var r=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(r=!0,this.element.style.width=this.width,i>0&&(this.host.css("box-sizing","border-box"),this.listBoxContainer.css("box-sizing","border-box"))),null!=this.height&&-1!=this.height.toString().indexOf("%")&&(r=!0,this.element.style.height=this.height);var n=this;if(r){var o=this.host.width()+2;"auto"!=this.dropDownWidth&&(o=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:o}),this.container.width(parseInt(o)+25)}e.jqx.utilities.resize(this.host,(function(){!function(){if(n._arrange(),"auto"==n.dropDownWidth){var e=n.host.width()+2;n.listBoxContainer.jqxListBox({width:e}),n.container.width(parseInt(e)+25)}}()}),!1,this._checkForHiddenParent)},isOpened:function(){var t=e.data(document.body,"openedJQXListBox"+this.id);return null!=t&&t==this.listBoxContainer},_updateHandlers:function(){var t=this;this.removeHandlers(),this.touch||(this.addHandler(this.host,"mouseenter",(function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(!0,t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.host.addClass(t.toThemeProperty("jqx-fill-state-hover")))})),this.addHandler(this.host,"mouseleave",(function(){!t.disabled&&t.enableHover&&"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-hover")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover")),!1)}))),this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,(function(e){t.isOpened()&&t.close()}));var i="mousedown";this.touch&&(i=e.jqx.mobile.getTouchEventName("touchstart")),this.addHandler(this.dropdownlistWrapper,i,(function(e){if(!t.disabled){var i="block"==t.container.css("display");if(!t.isanimating){if(i)return t.hideListBox(),!1;t.showListBox(),t.focusable?t.focus():e.preventDefault&&e.preventDefault(),e.stopPropagation()}}})),t.autoOpen&&(this.addHandler(this.host,"mouseenter",(function(){!t.isOpened()&&t.autoOpen&&(t.open(),t.host.focus())})),e(document).on("mousemove."+t.id,(function(e){if(t.isOpened()&&t.autoOpen){var i=t.host.coord(),s=i.top,r=i.left,n=t.container.coord(),o=n.left,a=n.top,l=!0;e.pageY>=s&&e.pageY<=s+t.host.height()&&e.pageX>=r&&e.pageX<r+t.host.width()&&(l=!1),e.pageY>=a&&e.pageY<=a+t.container.height()&&e.pageX>=o&&e.pageX<o+t.container.width()&&(l=!1),l&&t.close()}}))),this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,t.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}),this.addHandler(this.host,"keydown",(function(e){var i="block"==t.container.css("display");if("none"==t.host.css("display"))return!0;if(("13"==e.keyCode||"9"==e.keyCode)&&!t.isanimating)return i&&(t.renderSelection(),"13"==e.keyCode&&t.focusable&&t._firstDiv.focus(),t.hideListBox(),t.keyboardSelection||t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),"13"==e.keyCode&&t._raiseEvent("4",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)})),!i||"9"==e.keyCode;if(115==e.keyCode)return t.isanimating||(t.isOpened()?t.isOpened()&&t.hideListBox():t.showListBox()),!1;if(e.altKey&&"block"==t.host.css("display"))if(38==e.keyCode){if(t.isOpened())return t.hideListBox(),!0}else if(40==e.keyCode&&!t.isOpened())return t.showListBox(),!0;return"27"!=e.keyCode||t.ishiding?t.disabled?void 0:(t._kbnavigated=t.listBox._handleKeyDown(e),t._kbnavigated):(t.isOpened()&&(t.hideListBox(),null!=t.tempSelectedIndex&&t.selectIndex(t.tempSelectedIndex)),!0)})),this.addHandler(this.listBoxContainer,"checkChange",(function(e){t.renderSelection(),t._updateInputSelection(),t._raiseEvent(5,{label:e.args.label,value:e.args.value,checked:e.args.checked,item:e.args.item})})),this.addHandler(this.listBoxContainer,"select",(function(e){if(!t.disabled){if(!e.args)return;"keyboard"!=e.args.type||t.isOpened()||t.renderSelection(),("keyboard"!=e.args.type||t.keyboardSelection)&&(t.renderSelection(),t._raiseEvent("2",{index:e.args.index,type:e.args.type,item:e.args.item,originalEvent:e.args.originalEvent}),"mouse"==e.args.type&&(t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus())))}})),this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",(function(e){if(!t.disabled){if(t.listBox.itemswrapper&&e.target===t.listBox.itemswrapper[0])return!0;t.renderSelection("mouse"),t.touch||t.ishiding||t.checkboxes||(t.hideListBox(),t._firstDiv&&t.focusable&&t._firstDiv.focus()),t.keyboardSelection||(!1===t._kbnavigated&&(t.tempSelectedIndex!=t.selectedIndex&&t._raiseEvent("4",{index:t.selectedIndex,type:"mouse",item:t.getItem(t.selectedIndex)}),t._kbnavigated=!0),null==t._oldSelectedInd&&(t._oldSelectedIndx=t.selectedIndex),t.selectedIndex!=t._oldSelectedIndx&&(t._raiseEvent("2",{index:t.selectedIndex,type:"keyboard",item:t.getItem(t.selectedIndex)}),t._oldSelectedIndx=t.selectedIndex))}})),this.addHandler(this.host,"focus",(function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))),t.bar.addClass("focused"),t.label.addClass("focused")})),this.addHandler(this.host,"blur",(function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))),t.bar.removeClass("focused"),t.label.removeClass("focused")})),this.addHandler(this._firstDiv,"focus",(function(e){"simple"!==t.renderMode&&(t.host.addClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus"))),t.bar.addClass("focused"),t.label.addClass("focused")})),this.addHandler(this._firstDiv,"blur",(function(){"simple"!==t.renderMode&&(t.host.removeClass(t.toThemeProperty("jqx-dropdownlist-state-focus")),t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus"))),t.bar.removeClass("focused"),t.label.removeClass("focused")}))},removeHandlers:function(){var t="mousedown";this.touch&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.dropdownlistWrapper,t),this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.host,"loadContent"),this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.host,"focus"),this.removeHandler(this.host,"blur"),this.removeHandler(this._firstDiv,"focus"),this.removeHandler(this._firstDiv,"blur"),this.removeHandler(this.host,"mouseenter"),this.removeHandler(this.host,"mouseleave"),this.removeHandler(e(document),"mousemove."+this.id)},getItem:function(e){return this.listBox.getItem(e)},getItemByValue:function(e){return this.listBox.getItemByValue(e)},selectItem:function(e){null!=this.listBox&&(this.listBox.selectItem(e),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(e){null!=this.listBox&&(this.listBox.unselectItem(e),this.renderSelection("mouse"))},checkItem:function(e){null!=this.listBox&&this.listBox.checkItem(e)},uncheckItem:function(e){null!=this.listBox&&this.listBox.uncheckItem(e)},indeterminateItem:function(e){null!=this.listBox&&this.listBox.indeterminateItem(e)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var t=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var i in this.listBox.selectedValues){var s=this.listBox.selectedValues[i],r=this.listBox.getItemByValue(s);r&&(t=r)}if(this.checkboxes){var n=this.getCheckedItems();t=null!=n&&n.length>0?n[0]:null}if(this.hint&&(this.label&&(this.label[0].innerHTML=this.placeHolder),null!=t?this.element.setAttribute("hint",!0):this.element.removeAttribute("hint")),this.bar.css("top",this.host.height()),null==t){var o;(o=e('<span unselectable="on" style="color: inherit; border: none; background-color: transparent;"></span>')).appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget")),o.addClass(this.toThemeProperty("jqx-listitem-state-normal")),o.addClass(this.toThemeProperty("jqx-item")),e.jqx.utilities.html(o,this.placeHolder),this.isMaterialized()&&!this.element.getAttribute("default-placeholder")&&this.hint&&(o[0].innerHTML="",this.label&&(this.label[0].innerHTML=this.placeHolder));var a=this.dropdownlistContent.css("padding-top"),l=this.dropdownlistContent.css("padding-bottom");o.css("padding-top",a),o.css("padding-bottom",l);var h=o.outerHeight();o.remove(),o.removeClass(),e.jqx.utilities.html(this.dropdownlistContent,o);var d=this.host.height();null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));var c=parseInt((parseInt(d)-parseInt(h))/2);return"border-box"===this.host.css("box-sizing")&&(c=parseInt((parseInt(d-2)-parseInt(h))/2)),c>0&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px")),this.selectionRenderer?(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"),this._updateInputSelection()):this._updateInputSelection(),this.selectedIndex=this.listBox.selectedIndex,"auto"===this.width&&this._arrange(),void(this.focusable&&this.isOpened()&&this.focus())}this.selectedIndex=this.listBox.selectedIndex,(o=e(document.createElement("span")))[0].setAttribute("unselectable","on");try{o[0].style.color="inherit"}catch(e){}o[0].style.borderWidth="0px",o[0].style.backgroundColor="transparent",o.appendTo(e(document.body)),o.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var u=!1;try{null!=t.html&&null!=t.html&&t.html.toString().length>0?e.jqx.utilities.html(o,t.html):null!=t.label&&null!=t.label&&t.label.toString().length>0?e.jqx.utilities.html(o,t.label):null===t.label||""===t.label?(u=!0,e.jqx.utilities.html(o,"")):null!=t.value&&null!=t.value&&t.value.toString().length>0?e.jqx.utilities.html(o,t.value):null!=t.title&&null!=t.title&&t.title.toString().length>0?e.jqx.utilities.html(o,t.title):""!=t.label&&null!=t.label||(u=!0,e.jqx.utilities.html(o,""))}catch(e){}""===(a=this.dropdownlistContent[0].style.paddingTop)&&(a="0px"),""===(l=this.dropdownlistContent[0].style.paddingBottom)&&(l="0px"),o[0].style.paddingTop=a,o[0].style.paddingBottom=l,0===(h=o.outerHeight())&&(h=16),""!=t.label&&null!=t.label||!u||e.jqx.utilities.html(o,"");var p=this.width&&this.width.toString().indexOf("%")<=0;if(o.remove(),o.removeClass(),this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(o,t.index,t.label,t.value)),this.focusable&&this.isOpened()&&this.focus();else if(this.checkboxes){for(var m=this.getCheckedItems(),f="",g=0;g<m.length;g++)g==m.length-1?f+=m[g].label:f+=m[g].label+",";o.text(f),p&&o.css("max-width",this.host.width()-30),o.css("overflow","hidden"),o.css("display","block"),this.rtl||p&&o.css("width",this.host.width()-30),o.css("text-overflow","ellipsis"),o.css("padding-bottom",1+parseInt(l)),this.dropdownlistContent.html(o),this.focusable&&this.isOpened()&&this.focus()}else{var v=this.host.width()-this.arrowSize-1;this.width&&"auto"!==this.width&&(p&&(this.rtl||o.css("max-width",v+"px")),o[0].style.overflow="hidden",o[0].style.display="block",o[0].style.paddingTop=1+parseInt(l)+"px",this.rtl||p&&(v<0&&(v=0),o[0].style.width=v+"px"),o[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=o[0].innerHTML,this.focusable&&this.isOpened()&&this.focus()}d=this.host.height();null!=this.height&&null!=this.height&&-1===this.height.toString().indexOf("%")&&(d=parseInt(this.height));c=parseInt((parseInt(d)-parseInt(h))/2);"border-box"===this.host.css("box-sizing")&&(c=parseInt((parseInt(d-2)-parseInt(h))/2)),c>=0&&(this.dropdownlistContent[0].style.marginTop=c+"px",this.dropdownlistContent[0].style.marginBottom=c+"px"),this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px"),this.dropdownlistContent&&this.input&&this._updateInputSelection(),this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id),"auto"===this.width&&this._arrange()}},_updateInputSelection:function(){if(this.input){var t=new Array;if(-1==this.selectedIndex)this.input.val("");else{var i=this.getSelectedItem();null!=i?(this.input.val(i.value),t.push(i.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var s=this.getCheckedItems(),r="";if(null!=s)for(var n=0;n<s.length;n++){var o=s[n].value;null!=o&&(n==s.length-1?r+=o:r+=o+",",t.push(o))}this.input.val(r)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,(function(i,s){e(this).removeAttr("selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this).attr("selected",!0)})):e.each(this.items,(function(i,s){e(this.originalItem.originalItem).removeAttr("data-selected"),this.selected=t.indexOf(this.value)>=0,this.selected&&e(this.originalItem.originalItem).attr("data-selected",!0)})))},setContent:function(t){e.jqx.utilities.html(this.dropdownlistContent,t),this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source}),this.renderSelection("mouse"),null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null}),this.clearSelection()},clearSelection:function(t){this.selectedIndex=-1,this._updateInputSelection(),this.listBox.clearSelection(),this.renderSelection(),this.selectionRenderer||this.hint||this.isMaterialized()||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(e,t){isNaN(e)||(this.listBox.unselectIndex(e,t),this.renderSelection())},selectIndex:function(e,t,i,s){this.listBox.selectIndex(e,t,i,s,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(e){this.listBox.checkIndex(e)},uncheckIndex:function(e){this.listBox.uncheckIndex(e)},indeterminateIndex:function(e){this.listBox.indeterminateIndex(e)},checkAll:function(){this.listBox.checkAll(),this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll(),this.renderSelection("mouse")},addItem:function(e){return this.listBox.addItem(e)},insertAt:function(e,t){return null!=e&&this.listBox.insertAt(e,t)},removeAt:function(e){var t=this.listBox.removeAt(e);return this.renderSelection("mouse"),t},removeItem:function(e){var t=this.listBox.removeItem(e);return this.renderSelection("mouse"),t},updateItem:function(e,t){var i=this.listBox.updateItem(e,t);return this.renderSelection("mouse"),i},updateAt:function(e,t){var i=this.listBox.updateAt(e,t);return this.renderSelection("mouse"),i},ensureVisible:function(e){return this.listBox.ensureVisible(e)},disableAt:function(e){return this.listBox.disableAt(e)},enableAt:function(e){return this.listBox.enableAt(e)},disableItem:function(e){return this.listBox.disableItem(e)},enableItem:function(e){return this.listBox.enableItem(e)},_findPos:function(t){for(;t&&("hidden"==t.type||1!=t.nodeType||e.expr.filters.hidden(t));)t=t.nextSibling;var i=e(t).coord(!0);return[i.left,i.top]},testOffset:function(t,i,s){var r=t.outerWidth(),n=t.outerHeight(),o=e(window).width()+e(window).scrollLeft(),a=e(window).height()+e(window).scrollTop();if(i.left+r>o&&r>this.host.width()){var l=this.host.coord().left,h=r-this.host.width();i.left=l-h+2}return i.left<0&&(i.left=parseInt(this.host.coord().left)+"px"),i.top-=Math.min(i.top,i.top+n>a&&a>n?Math.abs(n+s+22):0),i},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var t=0,i=0;return"0px"!=e("body").css("border-top-width")&&(t=parseInt(e("body").css("border-top-width")),isNaN(t)&&(t=0)),"0px"!=e("body").css("border-left-width")&&(i=parseInt(e("body").css("border-left-width")),isNaN(i)&&(i=0)),{left:i,top:t}},showListBox:function(){if(e.jqx.aria(this,"aria-expanded",!0),this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1}),"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var t=this.element.offsetWidth;this.listBoxContainer.jqxListBox({width:t}),this.container.width(parseInt(t)+25)}if("auto"==this.dropDownWidth&&"0px"===this.host.css("border-left-width")){t=this.element.offsetWidth;this.listBoxContainer.jqxListBox({width:t+1}),this.container.width(parseInt(t)+25)}var i,s=this,r=this.listBoxContainer,n=this.listBox,o=(e(window).scrollTop(),e(window).scrollLeft(),parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px"),a=parseInt(Math.round(this.host.coord(!0).left));i=a+"px","element"===this.dropDownContainer&&(o=parseInt(this.host.outerHeight())-1+"px",i=0);if(null!=this.listBox){this.ishiding=!1,this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex)),this.tempSelectedIndex=this.selectedIndex,this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25),r.stop(),"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),"top"==this.dropDownVerticalAlignment?this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-up-selected")):this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"))),this.container.css("left",i),this.container.css("top",o),n._arrange();var l=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var h=this.container.outerWidth(),d=-2+Math.abs(h-this.host.width());h>this.host.width()?this.container.css("left",25+parseInt(Math.round(a))-d+"px"):this.container.css("left",25+parseInt(Math.round(a))+d+"px")}if("top"==this.dropDownVerticalAlignment){var c=r.height();l=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"));var u=parseInt(this.host.outerHeight()),p=parseInt(o)-Math.abs(c+u+23);this.container.css("top",p)}if(this.enableBrowserBoundsDetection){var m=this.testOffset(r,{left:parseInt(this.container.css("left")),top:parseInt(o)},parseInt(this.host.outerHeight()));parseInt(this.container.css("top"))!=m.top?(l=!0,r.css("top",23),r.addClass(this.toThemeProperty("jqx-popup-up"))):r.css("top",0),this.container.css("top",m.top),parseInt(this.container.css("left"))!=m.left&&this.container.css("left",m.left)}if("none"==this.animationType||"transform"===this.animationType)this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+this.id,r),r.css("margin-top",0),r.css("opacity",1),n._renderItems(),s._raiseEvent("0",n);else if(this.container.css("display","block"),s.isanimating=!0,"fade"==this.animationType)r.css("margin-top",0),r.css("opacity",0),r.animate({opacity:1},this.openDelay,(function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)}));else{r.css("opacity",1);var f=r.outerHeight();l?r.css("margin-top",f):r.css("margin-top",-f),r.animate({"margin-top":0},this.openDelay,(function(){e.data(document.body,"openedJQXListBoxParent",s),e.data(document.body,"openedJQXListBox"+s.id,r),s.ishiding=!1,s.isanimating=!1,n._renderItems(),s._raiseEvent("0",n)}))}l?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),r.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),r.addClass(this.toThemeProperty("jqx-rc-t-expanded"))),"simple"!==this.renderMode&&(r.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))),this.element.setAttribute("opened",!0),r.addClass(this.toThemeProperty("jqx-popup-show"))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var t=this.listBoxContainer,i=this.listBox,s=this.container,r=this;if(this.element.removeAttribute("opened"),t.removeClass("jqx-popup-show"),e.data(document.body,"openedJQXListBox"+this.id,null),"none"==this.animationType)this.container.css("display","none");else if("transform"===this.animationType)setTimeout((function(){s.css("display","none")}),this.closeDelay);else if(!r.ishiding){t.stop();var n=t.outerHeight();t.css("margin-top",0),r.isanimating=!0;var o=-n;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(o=n),"fade"==this.animationType?(t.css({opacity:1}),t.animate({opacity:0},this.closeDelay,(function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1}))):t.animate({"margin-top":o},this.closeDelay,(function(){s.css("display","none"),r.isanimating=!1,r.ishiding=!1}))}this.ishiding=!0,this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected")),this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-up-selected")),this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded")),t.removeClass(this.toThemeProperty("jqx-rc-b-expanded")),t.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this._raiseEvent("1",i)},closeOpenedListBox:function(t){var i=t.data.me,s=e(t.target),r=t.data.listbox;if(null==r)return!0;if(e(t.target).ischildof(t.data.me.host))return!0;if(!i.isOpened())return!0;if(e(t.target).ischildof(i.listBoxContainer))return!0;var n=!1;return e.each(s.parents(),(function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return n=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return i.element.id==this.id&&(n=!0),!1}})),null!=r&&!n&&i.isOpened()&&i.hideListBox(),!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(e){this.listBox.loadFromSelect(e)},refresh:function(e){!0!==e&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var e=this,t=parseInt(e.host.width()),i=parseInt(e.host.height()),s=(e.arrowSize,e.arrowSize),r=t-s-6;if(r>0&&"auto"!==e.width?e.dropdownlistContent[0].style.width=r+"px":r<=0&&(e.dropdownlistContent[0].style.width="0px"),"auto"===e.width&&(e.dropdownlistContent.css("width","auto"),(t=2+e.dropdownlistContent.width()+s+6)<47&&(t=47),e.host.width(t)),e.dropdownlistContent[0].style.height=i+"px",e.dropdownlistContent[0].style.left="0px",e.dropdownlistContent[0].style.top="0px",e.dropdownlistArrow[0].style.width=s+"px",e.width&&e.width.toString().indexOf("%")>=0){var n=100*s/t,o=100*r/t;e.dropdownlistArrow[0].style.width=n+"%",e.dropdownlistContent[0].style.width=o+"%"}e.dropdownlistArrow[0].style.height=i+"px",e.rtl&&(e.dropdownlistArrow.css("float","left"),e.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBoxContainer,"unselect"),this.removeHandler(this.listBoxContainer,"change"),this.removeHandler(this.dropdownlistWrapper,"selectstart"),this.removeHandler(this.dropdownlistWrapper,"mousedown"),this.removeHandler(this.host,"keydown"),this.removeHandler(this.listBoxContainer,"select"),this.removeHandler(this.listBox.content,"click"),this.removeHandler(this.listBoxContainer,"bindingComplete"),this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id),this.removeHandlers(),this.listBoxContainer.jqxListBox("destroy"),this.listBoxContainer.remove(),this.host.removeClass(),this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox),this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id),this.dropdownlistArrow.remove(),delete this.dropdownlistArrow,delete this.dropdownlistWrapper,delete this.listBoxContainer,delete this.input,delete this.arrow,delete this.dropdownlistContent,delete this.listBox,delete this._firstDiv,this.container.remove(),delete this.container;var t=e.data(this.element,"jqxDropDownList");t&&delete t.instance,this.host.removeData(),this.host.remove(),delete this.comboStructure,delete this.host,delete this.element},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=this.events[t];i.owner=this;var r=new e.Event(s);return r.owner=this,2!=t&&3!=t&&4!=t&&5!=t&&6!=t&&7!=t&&8!=t&&9!=t||(r.args=i),this.host.trigger(r)},propertiesChangedHandler:function(e,t,i){if(i.width&&i.height&&2==Object.keys(i).length){if(e._setSize(),"width"==t&&"auto"==e.dropDownWidth){var s=e.host.width();e.listBoxContainer.jqxListBox({width:s}),e.container.width(parseInt(s)+25)}e._arrange(),e.close()}},propertyChangedHandler:function(t,i,s,r){if(null!=t.isInitialized&&0!=t.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.listBoxContainer.removeClass(t.toThemeProperty("jqx-"+s+"-item")),t.listBoxContainer.addClass(t.toThemeProperty("jqx-"+t.template+"-item")),t.host.removeClass(t.toThemeProperty("jqx-"+s)),t.host.addClass(t.toThemeProperty("jqx-"+t.template))),"dropDownVerticalAlignment"==i&&(t.close(),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up")),t.arrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down")),"top"==t.dropDownVerticalAlignment?t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-up")):t.arrow.addClass(t.toThemeProperty("jqx-icon-arrow-down")),t.listBoxContainer.css("top",0),t.listBoxContainer.removeClass(this.toThemeProperty("jqx-popup-up"))),"autoItemsHeight"==i&&t.listBoxContainer.jqxListBox({autoItemsHeight:r}),"filterable"==i&&t.listBoxContainer.jqxListBox({filterable:r}),"filterHeight"==i&&t.listBoxContainer.jqxListBox({filterHeight:r}),"filterPlaceHolder"==i&&t.listBoxContainer.jqxListBox({filterPlaceHolder:r}),"filterDelay"==i&&t.listBoxContainer.jqxListBox({filterDelay:r}),"enableSelection"==i&&t.listBoxContainer.jqxListBox({enableSelection:r}),"enableHover"==i&&t.listBoxContainer.jqxListBox({enableHover:r}),"autoOpen"==i&&t._updateHandlers(),"emptyString"==i&&(t.listBox.emptyString=t.emptyString),"itemHeight"==i&&t.listBoxContainer.jqxListBox({itemHeight:r}),"renderer"==i&&t.listBoxContainer.jqxListBox({renderer:r}),"rtl"==i&&(r?(t.dropdownlistArrow.css("float","left"),t.dropdownlistContent.css("float","right")):(t.dropdownlistArrow.css("float","right"),t.dropdownlistContent.css("float","left")),t.listBoxContainer.jqxListBox({rtl:t.rtl})),"source"==i&&(t.listBoxContainer.jqxListBox({source:t.source}),t.listBox.selectedIndex=-1,t.listBox.selectIndex(this.selectedIndex),t.renderSelection(),null==r&&t.clear()),"displayMember"!=i&&"valueMember"!=i||(t.listBoxContainer.jqxListBox({displayMember:t.displayMember,valueMember:t.valueMember}),t.renderSelection()),"placeHolder"==i&&t.renderSelection(),"theme"==i&&null!=r&&(t.listBoxContainer.jqxListBox({theme:r}),t.listBoxContainer.addClass(t.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(s,r,t.host)),"autoDropDownHeight"==i&&(t.listBoxContainer.jqxListBox({autoHeight:t.autoDropDownHeight}),t.autoDropDownHeight?t.container.height(t.listBoxContainer.height()+25):(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25)),t.listBox._arrange(),t.listBox._updatescrollbars()),"searchMode"==i&&t.listBoxContainer.jqxListBox({searchMode:t.searchMode}),"incrementalSearch"==i&&t.listBoxContainer.jqxListBox({incrementalSearch:t.incrementalSearch}),"incrementalSearchDelay"==i&&t.listBoxContainer.jqxListBox({incrementalSearchDelay:t.incrementalSearchDelay}),"dropDownHeight"==i&&(t.autoDropDownHeight||(t.listBoxContainer.jqxListBox({height:t.dropDownHeight}),t.container.height(parseInt(t.dropDownHeight)+25))),"dropDownWidth"==i||"scrollBarSize"==i){var n=t.width;"auto"!=t.dropDownWidth&&(n=t.dropDownWidth),t.listBoxContainer.jqxListBox({width:n,scrollBarSize:t.scrollBarSize}),t.container.width(parseInt(n)+25)}if(("width"==i||"height"==i)&&r!=s){if(this.refresh(),"width"==i&&"auto"==t.dropDownWidth){n=2+t.host.width();t.listBoxContainer.jqxListBox({width:n}),t.container.width(parseInt(n)+25)}t.close()}"checkboxes"==i&&t.listBoxContainer.jqxListBox({checkboxes:t.checkboxes}),"selectedIndex"==i&&null!=t.listBox&&(t.listBox.selectIndex(parseInt(r)),t.renderSelection())}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNumberInput","",{}),e.extend(e.jqx._jqxNumberInput.prototype,{defineInstance:function(){var t={value:0,decimal:0,min:-99999999,max:99999999,width:200,validationMessage:"Invalid value",height:25,textAlign:"right",readOnly:!1,promptChar:"_",decimalDigits:2,decimalSeparator:".",groupSeparator:",",groupSize:3,symbol:"",symbolPosition:"left",digits:8,negative:!1,negativeSymbol:"-",disabled:!1,inputMode:"advanced",spinButtons:!1,spinButtonsWidth:18,spinButtonsStep:1,autoValidate:!0,spinMode:"advanced",enableMouseWheel:!0,touchMode:"auto",allowNull:!0,placeHolder:"",changeType:null,template:"",rtl:!1,hint:!0,events:["valueChanged","textchanged","mousedown","mouseup","keydown","keyup","keypress","change"],aria:{"aria-valuenow":{name:"decimal",type:"number"},"aria-valuemin":{name:"min",type:"number"},"aria-valuemax":{name:"max",type:"number"},"aria-disabled":{name:"disabled",type:"boolean"}},invalidArgumentExceptions:["invalid argument exception"]};return this===e.jqx._jqxNumberInput.prototype||e.extend(!0,this,t),t},createInstance:function(e){""===this.promptChar&&(this.promptChar=" ");var t=this.host.attr("value");null!=t&&(this.decimal=t),0===this.decimal&&(null!=this.value?this.decimal=this.value:null===this.value&&0!==this.decimal&&(this.value=this.decimal));this._createFromInput("jqxNumberInput"),this.render()},_updateHint:function(){var e=this;e.hint&&e.isMaterialized()&&setTimeout((function(){0===e.numberInput[0].value.length?(e.element.removeAttribute("hint"),e.label&&e.label[0]&&(e.label[0].innerHTML=e.placeHolder)):e.element.setAttribute("hint",!0)}))},_createFromInput:function(t){var i=this;if("input"==i.element.nodeName.toLowerCase()){i.field=i.element,i.field.className&&(i._className=i.field.className);var s={title:i.field.title};if(i.field.value&&(i.decimal=parseFloat(i.field.value)),i.field.getAttribute("min")){var r=i.field.getAttribute("min");i.min=parseFloat(r)}if(i.field.getAttribute("step")){var n=i.field.getAttribute("step");i.spinButtonsStep=parseFloat(n)}if(i.field.getAttribute("max")){var o=i.field.getAttribute("max");i.max=parseFloat(o)}i.field.id.length?s.id=i.field.id.replace(/[^\w]/g,"_")+"_"+t:s.id=e.jqx.utilities.createId()+"_"+t;var a=e("<div></div>",s);a[0].style.cssText=i.field.style.cssText,i.width||(i.width=e(i.field).width()),i.height||(i.height=e(i.field).outerHeight()),e(i.field).hide().after(a);var l=i.host.data();if(i.host=a,i.host.data(l),i.element=a[0],i.element.id=i.field.id,i.field.id=s.id,i._className&&(i.host.addClass(i._className),e(i.field).removeClass(i._className)),i.field.tabIndex){var h=i.field.tabIndex;i.field.tabIndex=-1,i.element.tabIndex=h}}},_doTouchHandling:function(){var e=this,t=e.savedValue;if(e.parsing||(e.parsing=!0),e.parsing){e.numberInput.val()&&0==e.numberInput.val().indexOf("-")?e.setvalue("negative",!0):e.setvalue("negative",!1);for(var i=e.numberInput.val(),s=0;s<i.length-1;s++){var r=i.substring(s,s+1);if(isNaN(parseFloat(r))&&-1===e.symbol.toString().indexOf(r)&&"%"!=r&&"$"!=r&&"."!=r&&","!=r&&"-"!=r)return e.numberInput[0].value=t,void(e.parsing=!1)}e.ValueString=e.GetValueString(e.numberInput.val(),e.decimalSeparator,""!=e.decimalSeparator),e._parseDecimalInSimpleMode(),e.decimal=e.ValueString,e.getvalue("negative")&&(e.decimal="-"+e.ValueString),e.parsing=!1}},render:function(){this.host.attr({role:"spinbutton"}),this.host.attr("data-role","input"),e.jqx.aria(this),e.jqx.aria(this,"aria-multiline",!1);var t=this;(this.officeMode||this.theme&&-1!=this.theme.indexOf("office"))&&18==this.spinButtonsWidth&&(this.spinButtonsWidth=15),(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&(this.inputMode="textbox",this.spinMode="simple"),""==this.decimalSeparator&&(this.decimalSeparator=" "),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons?this._spinButtons():(this.numberInput=e("<input style='border:none;' autocomplete='off' type='textarea'/>").appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)&&this.numberInput.attr("inputmode","numeric"),this.isMaterialized()||this.numberInput.attr("placeholder",this.placeHolder);var i=this.host.attr("name");(i&&this.numberInput.attr("name",i),this.host.attr("tabindex")&&(this.numberInput.attr("tabindex",this.host.attr("tabindex")),this.host.removeAttr("tabindex")),e.jqx.mobile.isTouchDevice()||!0===this.touchMode||"textbox"==this.inputMode)&&((t=this).savedValue="",this.addHandler(this.numberInput,"focus",(function(){t.savedValue=t.numberInput[0].value})),this.addHandler(this.numberInput,"change",(function(){t._doTouchHandling()})));e.data(this.host[0],"jqxNumberInput").jqxNumberInput=this;t=this;this.host.parents("form").length>0&&this.addHandler(this.host.parents("form"),"reset",(function(){setTimeout((function(){t.setDecimal(0)}),10)})),this.propertyChangeMap.disabled=function(e,t,i,r){r?(e.numberInput.addClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!0)):(e.host.removeClass(s.toThemeProperty("jqx-input-disabled")),e.numberInput.attr("disabled",!1)),e.spinButtons&&e.host.jqxRepeatButton&&(e.upbutton.jqxRepeatButton({disabled:r}),e.downbutton.jqxRepeatButton({disabled:r}))},this.disabled&&(this.numberInput.addClass(this.toThemeProperty("jqx-input-disabled")),this.numberInput.attr("disabled",!0),this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this.selectedText="",this.decimalSeparatorPosition=-1;this.element.id,this.element;var s=this;this.oldValue=this._value(),this.items=new Array;var r=this.value,n=this.decimal;this._initializeLiterals(),this._render(),this.setDecimal(null!==r?n:null);t=this;setTimeout((function(){}),100),this._addHandlers(),e.jqx.utilities.resize(this.host,(function(){t._render()}))},refresh:function(e){e||this._render()},wheel:function(e,t){if(t.enableMouseWheel){t.changeType="mouse";var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation(),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1}},_handleDelta:function(e){return e<0?this.spinDown():this.spinUp(),!0},_addHandlers:function(){var t=this;this.addHandler(this.numberInput,"paste",(function(i){var s=t._selection();if(i.preventDefault(),i.originalEvent.clipboardData)var r=(i.originalEvent||i).clipboardData.getData("text/plain");else if(window.clipboardData)r=window.clipboardData.getData("Text");this.selectedText=r,e.data(document.body,"jqxSelection",this.selectedText),"simple"!=t.inputMode?t._pasteSelectedText():t.val(r),setTimeout((function(){t._setSelectionStart(s.start)}))})),this.addHandler(this.numberInput,"mousedown",(function(e){return t._raiseEvent(2,e)})),this._mousewheelfunc=this._mousewheelfunc||function(e){if(!t.editcell)return t.wheel(e,t),!1},this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc);var i="";this.addHandler(this.numberInput,"focus",(function(s){e.data(t.numberInput,"selectionstart",t._selection().start),t.host.addClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.addClass(t.toThemeProperty("jqx-numberinput-focus")),i=t.numberInput.val(),t._savedValue=t.decimal})),this.addHandler(this.numberInput,"blur",(function(s){if("simple"==t.inputMode&&t._exitSimpleInputMode(s,t,!1,i),t.autoValidate){var r=parseFloat(t.decimal);t.getvalue("negative")&&t.decimal>0&&(r=-parseFloat(t.decimal)),r>t.max&&(t._disableSetSelection=!0,t.setDecimal(t.max),t._disableSetSelection=!1),r<t.min&&(t._disableSetSelection=!0,t.setDecimal(t.min),t._disableSetSelection=!1)}return t.host.removeClass(t.toThemeProperty("jqx-fill-state-focus")),t.spincontainer&&t.spincontainer.removeClass(t.toThemeProperty("jqx-numberinput-focus")),t.numberInput.val()!=i&&(t._raiseEvent(7,s),e.jqx.aria(t,"aria-valuenow",t.decimal),t.element.value=t.decimal),!0})),this.addHandler(this.numberInput,"mouseup",(function(e){return t._raiseEvent(3,e)})),this.addHandler(this.numberInput,"keydown",(function(e){return t.changeType="keyboard",t._raiseEvent(4,e)})),this.addHandler(this.numberInput,"keyup",(function(e){return t._raiseEvent(5,e)})),this.addHandler(this.numberInput,"keypress",(function(e){return t._raiseEvent(6,e)}))},focus:function(){try{this.numberInput.focus()}catch(e){}},_removeHandlers:function(){this.removeHandler(this.numberInput,"mousedown"),e.jqx.mobile.isOperaMiniMobileBrowser()&&this.removeHandler(e(document),"click."+this.element.id,this._exitSimpleInputMode,this),this.removeHandler(this.numberInput,"paste"),this.removeHandler(this.numberInput,"focus"),this.removeHandler(this.numberInput,"blur"),this.removeHandler(this.numberInput,"mouseup"),this.removeHandler(this.numberInput,"keydown"),this.removeHandler(this.numberInput,"keyup"),this.removeHandler(this.numberInput,"keypress")},_spinButtons:function(){if(!this.host.jqxRepeatButton)throw new Error("jqxNumberInput: Missing reference to jqxbuttons.js.");this.numberInput?this.numberInput.css("float","left"):(this.numberInput=e("<input autocomplete='off' style='border: none; position: relative; float: left;' type='textarea'/>"),this.numberInput.appendTo(this.host),this.numberInput.addClass(this.toThemeProperty("jqx-input-content")),this.numberInput.addClass(this.toThemeProperty("jqx-widget-content"))),this.spincontainer&&(this.upbutton&&this.upbutton.jqxRepeatButton("destroy"),this.downbutton&&this.downbutton.jqxRepeatButton("destroy"),this.spincontainer.remove()),this.spincontainer=e('<div style="float: right; height: 100%; overflow: hidden; position: relative;"></div>'),this.rtl&&(this.spincontainer.css("float","right"),this.numberInput.css("float","right"),this.spincontainer.css("left","-1px")),this.host.append(this.spincontainer),this.upbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.upbutton),this.upbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"top-right"}),this.downbutton=e('<div style="overflow: hidden; padding: 0px; margin-left: -1px; position: relative;"><div></div></div>'),this.spincontainer.append(this.downbutton),this.downbutton.jqxRepeatButton({overrideTheme:!0,disabled:this.disabled,roundedCorners:"bottom-right"}),this.template&&(this.upbutton.addClass(this.toThemeProperty("jqx-"+this.template)),this.downbutton.addClass(this.toThemeProperty("jqx-"+this.template)));var t=this;this.downbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-fill-state-normal jqx-action-button")),this.upbutton.addClass(this.toThemeProperty("jqx-rc-tr")),this.downbutton.addClass(this.toThemeProperty("jqx-rc-br")),this.addHandler(this.downbutton,"mouseup",(function(e){t.disabled||(t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected")))})),this.addHandler(this.upbutton,"mouseup",(function(e){t.disabled||(t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")))})),this.removeHandler(e(document),"mouseup."+this.element.id),this.addHandler(e(document),"mouseup."+this.element.id,(function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-selected"))})),this.addHandler(this.downbutton,"mousedown",(function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-selected")),i.preventDefault(),i.stopPropagation(),!1})),this.addHandler(this.upbutton,"mousedown",(function(i){if(!t.disabled)return e.jqx.browser.msie&&e.jqx.browser.version<9&&(t._inputSelection=t._selection()),t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-pressed")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-selected")),i.preventDefault(),i.stopPropagation(),!1})),this.addHandler(this.upbutton,"mouseenter",(function(e){t.upbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))})),this.addHandler(this.upbutton,"mouseleave",(function(e){t.upbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))})),this.addHandler(this.downbutton,"mouseenter",(function(e){t.downbutton.addClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))})),this.addHandler(this.downbutton,"mouseleave",(function(e){t.downbutton.removeClass(t.toThemeProperty("jqx-fill-state-hover")),t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))})),this.upbutton.css("border-width","0px"),this.downbutton.css("border-width","0px"),this.disabled?(this.upbutton[0].disabled=!0,this.downbutton[0].disabled=!0):(this.upbutton[0].disabled=!1,this.downbutton[0].disabled=!1),this.spincontainer.addClass(this.toThemeProperty("jqx-input")),this.spincontainer.addClass(this.toThemeProperty("jqx-rc-r")),this.spincontainer.css("border-width","0px"),this.rtl?this.spincontainer.css("border-right-width","1px"):this.spincontainer.css("border-left-width","1px"),this._upArrow=this.upbutton.find("div"),this._downArrow=this.downbutton.find("div"),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down")),this._upArrow.addClass(this.toThemeProperty("jqx-input-icon")),this._downArrow.addClass(this.toThemeProperty("jqx-input-icon"));t=this;this._upArrow.hover((function(){t.disabled||t._upArrow.addClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))}),(function(){t._upArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-up-hover"))})),this._downArrow.hover((function(){t.disabled||t._downArrow.addClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}),(function(){t._downArrow.removeClass(t.toThemeProperty("jqx-icon-arrow-down-hover"))}));var i=e.jqx.mobile.isTouchDevice(),s="click";i&&(s=e.jqx.mobile.getTouchEventName("touchstart")),i&&(this.addHandler(this.downbutton,"click",(function(e){t.spinDown()})),this.addHandler(this.upbutton,"click",(function(e){t.spinUp()}))),this.addHandler(this.downbutton,s,(function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinDown(),!1})),this.addHandler(this.upbutton,s,(function(s){return i?(s.preventDefault(),s.stopPropagation()):(0==t._selection().start&&t._setSelectionStart(t.numberInput.val().length),e.jqx.browser.msie&&e.jqx.browser.version<9&&t._setSelectionStart(t._inputSelection.start)),t.spinUp(),!1}))},spinDown:function(){var t=this,i=this.decimal;if("none"!=t.spinMode)if(null!=this.decimal){var s=(f=this.getvalue("negative"))?-1:0;if((e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling(),!t.disabled){var r=this._selection(),n=this.decimal;if((d=this.getDecimal())<this.min)return d=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinDown();if(d>this.max)return d=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinDown();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var o=s+(parseInt(t.decimal)-t.spinButtonsStep).toString().length<=t.digits+t.decimalDigits;if("advanced"!=t.spinMode||0===t.decimalDigits){if(d-t.spinButtonsStep>=t.min&&o){var a=1;for(u=0;u<t.decimalDigits;u++)a*=10;var l=a*d-a*t.spinButtonsStep;l/=a,l=this._parseDecimalValueToEditorValue(l),t.setDecimal(l)}}else{var h=this._getspindecimal(),d=(this._getSeparatorPosition(),parseFloat(h.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);o=s+(parseInt(d)-t.spinButtonsStep).toString().length<=t.digits,a=1;if(-1!=(p=h.decimal.indexOf("."))){for(var c=h.decimal.length-p-1,u=(a=1,0);u<c;u++)a*=10;var p;-1==(p=(d=(d-=new Number(t.spinButtonsStep/a)).toFixed(c)).toString().indexOf("."))&&(d=d.toString()+".");var m=d.toString()+h.afterdecimal;(m=(m=new Number(m)).toFixed(t.decimalDigits))>=t.min&&(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m))}else if(d-t.spinButtonsStep>=t.min&&o){l=a*d-a*t.spinButtonsStep;(m=(l/=a).toString()+h.afterdecimal)>=t.min&&(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m))}}if(null==m||"simple"!=this.inputMode){var f=this.getvalue("negative");return 0==s&&f?this._setSelectionStart(r.start+1):this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(this,"aria-valuenow",this.decimal)}m=this.decimal.toString();f=this.getvalue("negative");0==s&&f?this._setSelectionStart(r.start+1):null==m||null!=n&&n.toString().length!=m.length?f?this._setSelectionStart(r.start+1):this._setSelectionStart(r.start-1):this._setSelectionStart(r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(this,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_getspindecimal:function(){var e=this._selection(),t="",i=(this._getSeparatorPosition(),this._getVisibleItems()),s=this._getHiddenPrefixCount(),r=this.numberInput.val();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());var n="advanced"!=this.inputMode,o=e.start;0===o&&o++,1===o&&"left"===this.symbolPosition&&""!==this.symbol&&(o+=this.symbol.length);for(var a=0;a<o;a++)if(n){var l=r.substring(a,a+1);!isNaN(parseInt(l))&&(t+=l),l==this.decimalSeparator&&(t+=l)}else i[a].canEdit&&i[a].character!=this.promptChar?t+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-s]||(0==t.length&&(t="0"),t+=i[a].character);var h="";for(a=o;a<i.length;a++)if(n){l=r.substring(a,a+1);!isNaN(parseInt(l))&&(h+=l),l==this.decimalSeparator&&(h+=l)}else i[a].canEdit&&i[a].character!=this.promptChar?h+=i[a].character:i[a].canEdit||-1==this.decimalSeparatorPosition||i[a]!=i[this.decimalSeparatorPosition-s]||(h+=i[a].character);return{decimal:this.getvalue("negative")?"-"+this._parseDecimalValue(t).toString():this._parseDecimalValue(t).toString(),afterdecimal:this._parseDecimalValue(h)}},_parseDecimalValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>=0)return e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalValueToEditorValue:function(e){if("."!=this.decimalSeparator){var t=e.toString().indexOf(".");if(t>=0)return e.toString().substring(0,t)+this.decimalSeparator+e.toString().substring(t+1)}return e},spinUp:function(){var t=this,i=this.decimal;if("none"!=t.spinMode)if(null!=this.decimal){(e.jqx.mobile.isTouchDevice()||"textbox"==this.inputMode)&&t._doTouchHandling();var s=(f=this.getvalue("negative"))?-1:0;if(!t.disabled){var r=this._selection(),n=t.decimal;if((c=t.getDecimal())<this.min)return c=this.min,this.setDecimal(this.min),this._setSelectionStart(r.start),void this.spinUp();if(c>this.max)return c=this.max,this.setDecimal(this.max),this._setSelectionStart(r.start),void this.spinUp();t.spinButtonsStep<0&&(t.spinButtonsStep=1);var o=s+(parseInt(t.decimal)+t.spinButtonsStep).toString().length<=t.digits+t.decimalDigits;if("advanced"!=t.spinMode||0===t.decimalDigits){if(c+t.spinButtonsStep<=t.max&&o){for(var a=1,l=0;l<t.decimalDigits;l++)a*=10;var h=a*c+a*t.spinButtonsStep;h/=a,h=this._parseDecimalValueToEditorValue(h),t.setDecimal(h)}}else{var d=this._getspindecimal(),c=(this._getSeparatorPosition(),parseFloat(d.decimal));t.spinButtonsStep<0&&(t.spinButtonsStep=1);o=s+(parseInt(c)+t.spinButtonsStep).toString().length<=t.digits,a=1;if(-1!=(p=d.decimal.indexOf("."))){var u=d.decimal.length-p-1;for(a=1,l=0;l<u;l++)a*=10;var p;-1==(p=(c=(c+=new Number(t.spinButtonsStep/a)).toFixed(u)).toString().indexOf("."))&&(c=c.toString()+".");var m=c.toString()+d.afterdecimal;m=(m=new Number(m)).toFixed(t.decimalDigits),new Number(m).toFixed(t.decimalDigits)<=t.max?(m=this._parseDecimalValueToEditorValue(m),t.setDecimal(m)):m=void 0}else if(c+t.spinButtonsStep<=t.max&&o){h=a*c+a*t.spinButtonsStep,m=(h/=a).toString()+d.afterdecimal;new Number(m).toFixed(t.decimalDigits)<=t.max?(m=this._parseDecimalValueToEditorValue(m),f&&-1==m.indexOf("-")&&"-0"!=d.decimal&&(m="-"+m),t.setDecimal(m)):m=void 0}}if(null==m||"simple"!=this.inputMode)return this._setSelectionStart(r.start),t.savedValue=t.numberInput[0].value,i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),void e.jqx.aria(this,"aria-valuenow",this.decimal);m=this.decimal.toString();var f=this.getvalue("negative");-1!=s||f?null==m||null!=n&&n.toString().length!=m.length?f?this._setSelectionStart(r.start):this._setSelectionStart(1+r.start):this._setSelectionStart(r.start):this._setSelectionStart(-1+r.start),i!=this.decimal&&(e.jqx.mobile.isTouchDevice()&&this._raiseEvent(0,{}),this._raiseEvent(7,{})),e.jqx.aria(this,"aria-valuenow",this.decimal)}}else this.setDecimal(0)},_exitSimpleInputMode:function(t,i,s,r){if(null==i&&(i=t.data),null!=i){if(null==s){if(null!=t.target&&null!=i.element&&(null!=t.target.id&&t.target.id.toString().length>0&&i.host.find("#"+t.target.id).length>0||t.target==i.element))return;var n=i.host.offset(),o=n.left,a=n.top,l=i.host.width(),h=i.host.height(),d=e(t.target).offset();if(d.left>=o&&d.left<=o+l&&d.top>=a&&d.top<=a+h)return}if(e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!0),!i.disabled&&!i.readOnly)if(null!=e.data(i.numberInput,"simpleInputMode"))return e.data(i.numberInput,"simpleInputMode",null),this._parseDecimalInSimpleMode(),!1}},_getDecimalInSimpleMode:function(){var e=this.decimal;if("."!=this.decimalSeparator){var t=e.toString().indexOf(this.decimalSeparator);if(t>0)e=e.toString().substring(0,t)+"."+e.toString().substring(t+1)}return e},_parseDecimalInSimpleMode:function(e){var t=this.getvalue("negative"),i=this.ValueString;if(null==i&&(i=this.GetValueString(this.numberInput.val(),this.decimalSeparator,""!=this.decimalSeparator)),"."!=this.decimalSeparator){var s=i.toString().indexOf(".");if(s>0){var r=i.toString().substring(0,s)+this.decimalSeparator+i.toString().substring(s+1);i=r}}var n=t?"-":"";"left"==this.symbolPosition&&(n+=this.symbol);var o=this.digits%this.groupSize;0==o&&(o=this.groupSize);var a=i.toString();a.indexOf("-")>=0&&(a=a.substring(a.indexOf("-")+1)),n+=a,"right"==this.symbolPosition&&(n+=this.symbol),0!=e&&this.numberInput.val(n)},_enterSimpleInputMode:function(t,i){null==i&&(i=t.data);var s=this._selection();if(null!=i){var r=i.getvalue("negative"),n=i.decimal;r&&n>0&&(n=-n),i.numberInput.val(n),e.data(i.numberInput,"simpleInputMode",!0),e.jqx.mobile.isOperaMiniBrowser()&&i.numberInput.attr("readonly",!1),this._parseDecimalInSimpleMode(),this._setSelectionStart(s.start)}},setvalue:function(e,t){void 0!==this[e]&&("decimal"==e?this._setDecimal(t):(this[e]=t,this.propertyChangedHandler(this,e,t,t)))},getvalue:function(e){return"decimal"==e&&null!=this.negative&&1==this.negative?this.decimal.toString().indexOf(",")?-Math.abs(this.decimal.toString().replace(/,/,".")):-Math.abs(this[e]):e in this?this[e]:null},_getString:function(){for(var e="",t=0;t<this.items.length;t++){e+=this.items[t].character}return e},_literal:function(e,t,i,s){return{character:e,regex:t,canEdit:i,isSeparator:s}},_initializeLiterals:function(){if("textbox"!=this.inputMode){for(var e=0,t=this.negativeSymbol.length,i=0;i<t;i++){var s=this.negativeSymbol.substring(i,i+1),r="",n=!1,o=null;o=this.negative?this._literal(s,r,n,!1):this._literal("",r,n,!1),this.items[e]=o,e++}var a=this.symbol.length;if("left"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n,!1);this.items[e]=o,e++}var l=this.digits%this.groupSize;0==l&&(l=this.groupSize);for(i=0;i<this.digits;i++){s=this.promptChar,r="\\d",n=!0,o=this._literal(s,r,n,!1);if(this.items[e]=o,e++,i<this.digits-1&&null!=this.groupSeparator&&this.groupSeparator.length>0){if(0==--l){l=this.groupSize;var h=this._literal(this.groupSeparator,"",!1,!1);this.items[e]=h,e++}}else i==this.digits-1&&(o.character=0)}if(this.decimalSeparatorPosition=-1,null!=this.decimalDigits&&this.decimalDigits>0){0==(s=this.decimalSeparator).length&&(s=".");o=this._literal(s,"",!1,!0);this.items[e]=o,this.decimalSeparatorPosition=e,e++;for(i=0;i<this.decimalDigits;i++){r="\\d";var d=this._literal(0,r,!0,!1);this.items[e]=d,e++}}if("right"==this.symbolPosition)for(i=0;i<a;i++){s=this.symbol.substring(i,i+1),r="",n=!1,o=this._literal(s,r,n);this.items[e]=o,e++}}},_match:function(e,t){return new RegExp(t,"i").test(e)},_raiseEvent:function(t,i){var s=this.events[t],r={};if(r.owner=this,"none"==this.host.css("display"))return!0;var n=i.charCode?i.charCode:i.keyCode?i.keyCode:0,o=!0,a=this.readOnly;if((3==t||2==t)&&!this.disabled){if("simple"==this.inputMode||"textbox"==this.inputMode)return!0;this._handleMouse(i)}if(0==t){var l=this.getvalue("decimal");this.max<l||this.min>l?this.host.addClass(this.toThemeProperty("jqx-input-invalid")):(this.host.removeClass(this.toThemeProperty("jqx-input-invalid")),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))}var h=new e.Event(s);h.owner=this,r.value=this.getvalue("decimal"),r.text=this.numberInput.val(),h.args=r,7==t&&(r.type=this.changeType,this.changeType=null),null!=s&&4!=t&&5!=t&&6!=t&&(o=this.host.trigger(h));var d=this;if("textbox"==this.inputMode)return o;if("simple"!=this.inputMode){if(4==t){if(a||this.disabled)return!1;o=d._handleKeyDown(i,n)}else if(5==t)(a||this.disabled)&&(o=!1);else if(6==t){if(a||this.disabled)return!1;o=d._handleKeyPress(i,n)}}else if(4==t||5==t||6==t){if(e.jqx.mobile.isTouchDevice()||!0===this.touchMode)return!0;if(a||this.disabled)return!1;var c=String.fromCharCode(n),u=(parseInt(c),!0);if(i.ctrlKey||i.shiftKey||i.metaKey||n>=65&&n<=90&&(u=!1),6==t&&null!=e.jqx.browser.opera&&8==n)return!1;if(u){if(4==t&&(u=d._handleSimpleKeyDown(i,n)),107==n)(p=d.getvalue("negative"))&&(d.setvalue("negative",!1),d.decimal=d.ValueString,d._parseDecimalInSimpleMode(),d._setSelectionStart(m.start+1),d._raiseEvent(0,d.value),d._raiseEvent(1,d.numberInput.val()));if(189==n||45==n||109==n||173==n){var p,m=d._selection();if(4==t)0==(p=d.getvalue("negative"))?d.setvalue("negative",!0):d.setvalue("negative",!1),d.decimal=d.ValueString,d._parseDecimalInSimpleMode(),p?d._setSelectionStart(m.start-1):d._setSelectionStart(m.start+1),u=!1,d._raiseEvent(0,d.value),d._raiseEvent(1,d.numberInput.val())}var f=r.ctrlKey||r.metaKey;if(!e.jqx.browser.msie)if(f&&99==n||f&&67==n||f&&122==n||f&&90==n||f&&118==n||f&&86==n||i.shiftKey&&45==n)return(e.jqx.browser.webkit||e.jqx.browser.chrome)&&d._handleSimpleKeyDown(i,n),67==n;if(f&&97==n||f&&65==n)return!0;if(6==t&&u)return this._isSpecialKey(n)}return u}return o},GetSelectionInValue:function(e,t,i,s){for(var r=0,n=0;n<t.length&&!(n>=e);n++){var o=t.substring(n,n+1);(!isNaN(parseInt(o))||s&&t.substring(n,n+1)==i)&&r++}return r},GetSelectionLengthInValue:function(e,t,i,s){for(var r=0,n=0;n<i.length&&!(n>=e+t);n++){var o=i.substring(n,n+1),a=!isNaN(parseInt(o));(t>0&&n>=e&&a||n>=e&&i[n].toString()==s)&&r++}return r},GetInsertTypeByPositionInValue:function(e,t,i,s){var r="before",n=this.GetValueString(i,t,s);return e>this.GetDigitsToSeparator(0,n,t)&&(r="after"),r},RemoveRange:function(e,t,i,s,r,n){var o=this.digits,a=e,l=t,h=0,d=(this.decimal,this._selection(),""!=(s=this.decimalSeparator));if(0==l&&this.ValueString.length<this.decimalPossibleChars-1)return h;var c=this.GetSeparatorPositionInText(s,i);r||(c=this.GetSeparatorPositionInText(s,i)),c<0&&!d&&i.length>1&&(c=i.length),-1==c&&(c=i.length);var u=d?1:0;t<2&&1==n&&(this.ValueString.length-this.decimalDigits-u==o&&e+t<c&&l++);for(var p="",m=0;m<i.length;m++){if(m<a||m>=a+l)p+=i.substring(m,m+1);else if((f=i.substring(m,m+1))!=s){var f=i.substring(m,m+1);if(!(this.symbol&&""!=this.symbol&&this.symbol.indexOf(f)>=0))if(m>c)p+="0";else{f=i.substring(m,m+1);!isNaN(parseInt(f))&&h++}}else p+=s}0==p.length&&(p="0"),r?this.numberInput.val(p):this.ValueString=p;var g=p.substring(0,1);g==s&&isNaN(parseInt(g))&&(p="0"+p);return this.ValueString=this.GetValueString(p,s,d),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(a),h},InsertDigit:function(e,t){"number"!=typeof this.digits&&(this.digits=parseInt(this.digits)),"number"!=typeof this.decimalDigits&&(this.decimalDigits=parseInt(this.decimalDigits));var i=1+this.digits,s=this._selection(),r=this.getvalue("negative"),n=!1;0==s.start&&""!=this.symbol&&"left"==this.symbolPosition&&(this._setSelectionStart(s.start+1),s=this._selection(),n=!0),(r&&n||r&&!n&&0==s.start)&&(this._setSelectionStart(s.start+1),s=this._selection());var o=this.numberInput.val().substring(s.start,s.start+1),a=this.numberInput.val(),l=this.decimalSeparator,h=""!=l&&this.decimalDigits>0;if(o==this.symbol&&"right"==this.symbolPosition){if(0!=this.decimalDigits)return;if(this.ValueString=this.GetValueString(a,l,h),this.ValueString.length>=i)return}this.ValueString=this.GetValueString(a,l,h),""==this.ValueString&&(this.ValueString=new Number(0).toFixed(this.decimalDigits));var d=this.ValueString;this.decimalDigits>0&&t>=d.length&&(t=d.length-1);var c="";t<d.length&&(c=d.substring(t,t+1));var u=!1;"after"==this.GetInsertTypeByPositionInValue(t,l,a,h)&&(u=!0);var p=h?1:0;c!=l&&this.ValueString.length-this.decimalDigits-p>=i-1&&(u=!0),"0"===c&&1===this.ValueString.length&&0===this.decimalDigits&&(u=!0);var m=h?1:0;if(!(!u&&this.ValueString&&this.ValueString.length>=this.digits+this.decimalDigits+m)){if(u&&c!=l){if((x=d.substring(0,t)).length==d.length&&this.ValueString.length>=this.digits+this.decimalDigits+m)return;var f=e,g="";t+1<d.length&&(g=d.substring(t+1));var v=x+f+g;this.ValueString=v}else{var x;v=(x=d.substring(0,t))+(f=e)+(g=d.substring(t));"0"==d.substring(0,1)&&d.substring(1,2)==l&&(v=f+d.substring(1),c==l&&(this._setSelectionStart(s.start-1),s=this._selection())),this.ValueString=v}this.decimal=r?"-"+this.ValueString:this.ValueString,this._parseDecimalInSimpleMode();var b=s.start;b+=1,this._setSelectionStart(b),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())}},GetStringToSeparator:function(e,t,i){var s=this.GetSeparatorPositionInText(t,e),r=e.subString(0,s);return this.GetValueString(r,t,i)},GetSeparatorPositionInText:function(e,t){for(var i=-1,s=0;s<t.length;s++)if(t.substring(s,s+1)==e){i=s;break}return i},GetValueString:function(e,t,i){for(var s="",r=0;r<e.length;r++){var n=e.substring(r,r+1);!isNaN(parseInt(n))&&(s+=n),n==t&&(s+=t)}return s},Backspace:function(){var e=this._selection(),t=this._selection(),i=this.numberInput.val();if(0!=e.start||0!=e.length){this.isBackSpace=!0;var s=i.substring[(e.start,e.start+1)];isNaN(parseInt(s));if(e.start>0&&0==e.length){this._setSelectionStart(e.start-1);e=this._selection()}this.Delete(),this._setSelectionStart(t.start-1),this.isBackSpace=!1}},Delete:function(e){var t=this._selection(),i=this.numberInput.val();if(0===t.start&&"-"==i.substring(0,1)){this.setvalue("negative",!1);t=this._selection(),i=this.numberInput.val()}var s=t.start;t.start>0&&"-"==i.substring(0,1)&&(s--,t.start=s);var r=t.length;r=Math.max(r,1),this.ValueString=this.GetValueString(i,this.decimalSeparator,""!=this.decimalSeparator),s>this.ValueString.indexOf(this.decimalSeparator)&&this.decimalDigits>0&&s++;var n=0;this.symbol&&("left"==this.symbolPosition&&n--,this.negative&&n--),this.RemoveRange(t.start+n,r,this.ValueString,".",!1);var o=this.ValueString.substring(0,1);!isNaN(parseInt(o))||(this.ValueString="0"+this.ValueString),this.decimal=this.ValueString,this._parseDecimalInSimpleMode(),this._setSelectionStart(s),this.value=this.decimal,this._raiseEvent(0,this.value),this._raiseEvent(1,this.numberInput.val())},insertsimple:function(e){var t=this._selection(),i=this.numberInput.val();if(!(t.start==i.length&&null!=this.decimal&&this.decimalDigits>0)){this.decimal;var s=this.decimalSeparator;this.ValueString=this.GetValueString(i,s,""!=s);var r=this.GetSelectionInValue(t.start,i,s,""!=s),n=this.GetSelectionLengthInValue(t.start,t.length,i,s);this.GetDigitsToSeparator(0,this.ValueString,s);if(this.decimalDigits>0&&r>=this.ValueString.length&&r--,""==this.ValueString)return this.ValueString=new Number(0).toFixed(this.decimalDigits),this.ValueString=this.ValueString.replace(".",s),this.RemoveRange(t.start,n,this.ValueString,s,!1,!0),void this.InsertDigit(e,0,t);this.RemoveRange(t.start,n,this.ValueString,s,!1,!0),this.InsertDigit(e,r,t)}},GetDigitsToSeparator:function(e,t,i){if(null==i&&(i="."),t.indexOf(i)<0)return t.length;for(var s=0;s<t.length;s++)if(t.substring(s,s+1)==i){e=s;break}return e},_handleSimpleKeyDown:function(t,i){var s,r=this._selection(),n=t.ctrlKey||t.metaKey;if((8==i||46==i)&&n)return this.setDecimal(null),!1;if(r.start>=0&&r.start<this.items.length)var o=String.fromCharCode(i);27===i&&(this.setDecimal(this._savedValue),-1!=(s=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(s),t.preventDefault());if(this.rtl&&37==i){var a=(l=t.shiftKey)?1:0;return l?this._setSelection(r.start+1-a,r.start+r.length+1):this._setSelection(r.start+1-a,r.start+1),!1}if(this.rtl&&39==i){var l;a=(l=t.shiftKey)?1:0;return l?this._setSelection(r.start-1,r.length+a+r.start-1):this._setSelection(r.start-1,r.start-1),!1}if(8==i)return this.Backspace(),!1;if(190==i||110==i)return-1!=(s=this.GetSeparatorPositionInText(this.decimalSeparator,this.numberInput.val()))&&this._setSelectionStart(s+1),!1;if(188==i&&","===this.groupSeparator){var h=this.numberInput.val();for(u=r.start;u<h.length;u++)if(h[u]==this.groupSeparator){this._setSelectionStart(1+u);break}return!1}if((n=t.ctrlKey||t.metaKey)&&99==i||n&&67==i){r=this._selection();var d="",c=this.numberInput.val();if(r.start>0||r.length>0)for(var u=r.start;u<r.end;u++)d+=c.substring(u,u+1);if(e.data(document.body,"jqxSelection",d),e.jqx.browser.msie)window.clipboardData.setData("Text",d);else{var p=this,m=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');m.val(d),e("body").append(m),m.select(),setTimeout((function(){document.designMode="off",m.select(),m.remove(),p.focus()}),100)}return this.savedText=d,!0}if(n&&122==i||n&&90==i)return!1;if(n&&118==i||n&&86==i||t.shiftKey&&45==i)return e.jqx.browser.msie&&!this.savedText&&(this.savedText=window.clipboardData.getData("Text")),null!=this.savedText&&this.savedText.length>0?this.val(this.savedText):this.val(e.data(document.body,"jqxSelection")),!1;o=String.fromCharCode(i);var f=parseInt(o);if(i>=96&&i<=105&&(f=i-96,i-=48),!isNaN(f)){p=this;return this.insertsimple(f),!1}if(46==i)return this.Delete(),!1;if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;var g=this._isSpecialKey(i);return!e.jqx.browser.mozilla||g},_getEditRange:function(){for(var e=0,t=0,i=0;i<this.items.length;i++)if(this.items[i].canEdit){e=i;break}for(i=this.items.length-1;i>=0;i--)if(this.items[i].canEdit){t=i;break}return{start:e,end:t}},_getVisibleItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].character.toString().length>0&&(e[t]=this.items[i],t++);return e},_hasEmptyVisibleItems:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character==this.promptChar)return!0;return!1},_getFirstVisibleNonEmptyIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].canEdit&&e[t].character!=this.promptChar)return t},_handleMouse:function(e,t){var i=this._selection();if(i.length<=1){var s=this._getFirstVisibleNonEmptyIndex();i.start<s&&this._setSelectionStart(s)}},_insertKey:function(t){this.numberInput[0].focus();var i=String.fromCharCode(t),s=parseInt(i);if(!isNaN(s)){for(var r=0,n=0;n<this.items.length;n++)0==this.items[n].character.length&&r++;var o=this._selection(),a=this;if(o.start>=0&&o.start<=this.items.length){var l=!1,h=this._getFirstVisibleNonEmptyIndex();o.start<h&&0==o.length&&(isNaN(i)&&" "!=i||(this._setSelectionStart(h),o=this._selection()));this._getFirstEditableItemIndex();var d=this._getLastEditableItemIndex();null===this.value&&(d=0);var c=this._getVisibleItems();e.each(c,(function(e,t){if(!(o.start>e&&e!=c.length-1)){var s=c[e];if(e>d&&(s=c[d]),!isNaN(i)&&" "!=i&&""!=i&&s&&s.canEdit){var n=a._getSeparatorPosition();if(a._match(i,s.regex)){if(!l&&o.length>0){for(var h=o.start+r;h<o.end+r;h++)a.items[h].canEdit&&(a.items[h].character=h>n?"0":a.promptChar);var u=a._getString();l=!0}n=a._getSeparatorPosition();var p=a._hasEmptyVisibleItems();if(null==a.decimal&&(o.start=n-1,o.start<0&&(o.start=0),o.end=o.start),o.start<=n&&p){var m=e;-1==a.decimalSeparatorPosition&&o.start==n&&(m=e+1),null==a.decimal&&(m=o.start);for(var f="",g=0;g<m;g++)c[g].canEdit&&c[g].character!=a.promptChar&&(f+=c[g].character);f+=i;var v=a.decimal<1?1:0;o.start==n&&-1!=a.decimalSeparatorPosition&&(f+=a.decimalSeparator,v=0);for(g=m+v;g<c.length;g++)(c[g].character==a.decimalSeparator&&c[g].isSeparator||c[g].canEdit&&c[g].character!=a.promptChar)&&(f+=c[g].character);"."!=a.decimalSeparator&&(f=a._parseDecimalValue(f)),f=parseFloat(f).toString(),f=(f=new Number(f)).toFixed(a.decimalDigits),"."!=a.decimalSeparator&&(f=a._parseDecimalValueToEditorValue(f)),a.setvalue("decimal",f);u=a._getString();if(o.end<n?a._setSelectionStart(o.end+v):a._setSelectionStart(o.end),o.length>=1&&a._setSelectionStart(o.end),o.length==a.numberInput.val().length){var x=a._moveCaretToDecimalSeparator(),b=a.decimalSeparatorPosition>=0?1:0;a._setSelectionStart(x-b)}}else if(o.start<n||o.start>n){if(a.numberInput.val().length==o.start&&-1!=a.decimalSeparatorPosition)return!1;if(a.numberInput.val().length==o.start&&-1==a.decimalSeparatorPosition&&!p)return!1;f="";var y=!1;for(g=0;g<e;g++)c[g].canEdit&&c[g].character!=a.promptChar&&(f+=c[g].character),c[g].character==a.decimalSeparator&&c[g].isSeparator&&(f+=c[g].character,y=!0);f+=i;v=a.decimal<1?1:0;y||o.start!=n-1||(f+=a.decimalSeparator,y=!0);for(g=e+1;g<c.length;g++)(!y&&c[g].character==a.decimalSeparator&&c[g].isSeparator||c[g].canEdit&&c[g].character!=a.promptChar)&&(f+=c[g].character);a.setvalue("decimal",f);u=a._getString();if(a.decimalSeparatorPosition<0&&s==c[d])return a._setSelectionStart(e),!1;var w=u.indexOf(a.symbol);if(w<=(a.getvalue("negative")?1:0)&&(w=u.length),o.start<w?a._setSelectionStart(e+1):a._setSelectionStart(e),o.length,o.length==a.numberInput.val().length){x=a._moveCaretToDecimalSeparator();a._setSelectionStart(x-1)}}return!1}}}}))}}},_handleKeyPress:function(t,i){var s=this._selection(),r=t.ctrlKey||t.metaKey;if(r&&97==i||r&&65==i)return!0;if(8==i)return s.start>0&&this._setSelectionStart(s.start),!1;if(46==i)return s.start<this.items.length&&this._setSelectionStart(s.start),!1;e.jqx.browser.mozilla||(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return e.jqx.browser.msie&&this._insertKey(i),this._isSpecialKey(i)},_deleteSelectedText:function(){var e=this._selection(),t="",i=this._getSeparatorPosition(),s=this._getVisibleItems(),r=this._getHiddenPrefixCount();this.numberInput.val().length==e.start&&0==e.length&&(this._setSelection(e.start,e.start+1),e=this._selection());for(var n=0;n<e.start;n++)s[n].canEdit&&s[n].character!=this.promptChar?t+=s[n].character:s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);for(n=e.start;n<e.end;n++)n>i&&-1!=this.decimalSeparatorPosition?s[n].canEdit&&s[n].character!=this.promptChar&&(t+="0"):s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);for(n=e.end;n<s.length;n++)s[n].canEdit&&s[n].character!=this.promptChar?t+=s[n].character:s[n].canEdit||-1==this.decimalSeparatorPosition||s[n]!=s[this.decimalSeparatorPosition-r]||(0==t.length&&(t="0"),t+=s[n].character);return this.setvalue("decimal",t),e.length>0},_restoreInitialState:function(){var e=parseInt(this.decimalDigits);e>0&&(e+=2);for(var t=this.items.length-1;t>this.items.length-1-e&&this.items[t];t--)this.items[t].canEdit&&this.items[t].character==this.promptChar&&(this.items[t].character=0)},clear:function(){this.setDecimal(0)},clearDecimal:function(){if("textbox"!=this.inputMode){for(var e=0;e<this.items.length;e++)this.items[e].canEdit&&(this.items[e].character=this.promptChar);this._restoreInitialState()}else this.numberInput.val()},_saveSelectedText:function(){var t=this._selection(),i="",s=this._getVisibleItems();if(t.start>0||t.length>0)for(var r=t.start;r<t.end;r++)(s[r].canEdit&&s[r].character!=this.promptChar||s[r].isSeparator)&&(i+=s[r].character);return e.jqx.browser.msie&&window.clipboardData.setData("Text",i),i},_pasteSelectedText:function(){var t=this._selection();if(this.selectedText=e.data(document.body,"jqxSelection"),window.clipboardData){var i=window.clipboardData.getData("Text");if(i!=this.selectedText&&i.length>0&&(this.selectedText=window.clipboardData.getData("Text"),null==this.selectedText||null==this.selectedText))return}t.start,this._getVisibleItems();if(null!=this.selectedText)for(var s=0;s<this.selectedText.length;s++){var r=parseInt(this.selectedText[s]);if(!isNaN(r)){var n=48+r;this._insertKey(n)}}},_getHiddenPrefixCount:function(){var e=0;if(this.negative||e++,"left"==this.symbolPosition)for(var t=0;t<this.symbol.length;t++)""==this.symbol.substring(t,t+1)&&e++;return e},_getEditableItem:function(){for(var e=this._selection(),t=0;t<this.items.length;t++)if(t<e.start&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return this.items[t];return null},_getEditableItems:function(){for(var e=new Array,t=0,i=0;i<this.items.length;i++)this.items[i].canEdit&&(e[t]=this.items[i],t++);return e},_getValidSelectionStart:function(e){for(var t=this.items.length-1;t>=0;t--)if(this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getEditableItemIndex:function(e){for(var t=this._selection(),i=this._getHiddenPrefixCount(),s=this._getVisibleItems(),r=t.start,n=-1,o=0;o<r;o++)o<s.length&&s[o].canEdit&&(n=o+i);if(-1==n&&t.length>0)for(r=t.end,o=0;o<r;o++)if(o<s.length&&s[o].canEdit){n=o+i;break}return n},_getEditableItemByIndex:function(e){for(var t=0;t<this.items.length;t++)if(t>e&&this.items[t].canEdit&&this.items[t].character!=this.promptChar)return t;return-1},_getFirstEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=0;t<e.length;t++)if(e[t].character!=this.promptChar&&e[t].canEdit&&"0"!=e[t].character)return t;return-1},_getLastEditableItemIndex:function(){for(var e=this._getVisibleItems(),t=e.length-1;t>=0;t--)if(e[t].character!=this.promptChar&&e[t].canEdit)return t;return-1},_moveCaretToDecimalSeparator:function(){for(var e=this.items.length-1;e>=0;e--)if(this.items[e].character==this.decimalSeparator&&this.items[e].isSeparator)return this.negative?(this._setSelectionStart(e+1),e):(this._setSelectionStart(e),e);return this.numberInput.val().length},_handleBackspace:function(){var e=this._selection(),t=this._getHiddenPrefixCount(),i=this._getEditableItemIndex()-t,s=this._getFirstVisibleNonEmptyIndex(),r=!1;if(this.negative&&(r=!0,(s>=i+1||0==e.start)&&(this.setvalue("negative",!1),0==e.length))){this._setSelectionStart(e.start-1);e=this._selection()}if(i>=0){0==e.length&&-1!=i&&this._setSelection(i,i+1);var n=e.start>this._getSeparatorPosition()+1&&this.decimalSeparatorPosition>0;n&&(e=this._selection());this._deleteSelectedText();if(e.length<1||n?this._setSelectionStart(e.start):e.length>=1&&this._setSelectionStart(e.end),e.length==this.numberInput.val().length||r){var o=this._moveCaretToDecimalSeparator();this._setSelectionStart(o-1),r&&this._setSelectionStart(e.start)}}else this._setSelectionStart(e.start)},_handleKeyDown:function(t,i){var s=this._selection(),r=t.ctrlKey||t.metaKey;if((8==i||46==i)&&r)return this.setDecimal(null),!1;if(this.rtl&&37==i){var n=(o=t.shiftKey)?1:0;return o?this._setSelection(s.start+1-n,s.start+s.length+1):this._setSelection(s.start+1-n,s.start+1),!1}if(this.rtl&&39==i){var o;n=(o=t.shiftKey)?1:0;return o?this._setSelection(s.start-1,s.length+n+s.start-1):this._setSelection(s.start-1,s.start-1),!1}if(r&&97==i||r&&65==i)return!0;if(r&&120==i||r&&88==i)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),this._handleBackspace(),!1;if(r&&99==i||r&&67==i)return this.selectedText=this._saveSelectedText(t),e.data(document.body,"jqxSelection",this.selectedText),!1;if(r&&122==i||r&&90==i)return!1;if(r&&118==i||r&&86==i||t.shiftKey&&45==i)return this._pasteSelectedText(),!1;if(s.start>=0&&s.start<this.items.length){var a=String.fromCharCode(i);this.items[s.start]}if(8==i)return this._handleBackspace(),!1;if(190==i||110==i)return this._moveCaretToDecimalSeparator(),!1;if(188===i&&","===this.decimalSeparator)return this._moveCaretToDecimalSeparator(),!1;if(188==i&&","===this.groupSeparator){for(var l=this.numberInput.val(),h=s.start;h<l.length;h++)if(l[h]==this.groupSeparator){this._setSelectionStart(1+h);break}return!1}if(null==e.jqx.browser.msie){a=String.fromCharCode(i);var d=parseInt(a);if(i>=96&&i<=105&&(d=i-96,i-=48),!isNaN(d)){return this._insertKey(i),!1}}if(46==i){var c=this._getVisibleItems();if(s.start<c.length){n=0==c[s.start].canEdit?2:1;if(0==s.start)if(this.negative)if(this.setvalue("negative",!1),0==s.length&&this._setSelectionStart(0),0==(s=this._selection()).length)return!1;0==s.length&&this._setSelection(s.start+n,s.start+n+s.length),this._handleBackspace(),(new Number(this.decimal)<1||s.start>this._getSeparatorPosition()||s.start+1<this.decimalSeparatorPosition)&&this._setSelectionStart(s.end+n)}return!1}if(38==i)return this.spinUp(),!1;if(40==i)return this.spinDown(),!1;27===i&&(this.setDecimal(this._savedValue),this._setSelectionStart(s.end),t.preventDefault());var u=this._isSpecialKey(i);e.jqx.browser.mozilla&&(45!=i&&173!=i&&109!=i&&189!=i||(0==this.getvalue("negative")?this.setvalue("negative",!0):this.setvalue("negative",!1)));return!e.jqx.browser.mozilla||u},_isSpecialKey:function(e){return 8==e||9==e||13==e||35==e||36==e||37==e||39==e||27==e||46==e},_selection:function(){try{if("selectionStart"in this.numberInput[0]){var e=this.numberInput[0],t=e.selectionEnd-e.selectionStart;return{start:e.selectionStart,end:e.selectionEnd,length:t,text:e.value}}var i=document.selection.createRange();if(null==i)return{start:0,end:e.value.length,length:0};var s=this.numberInput[0].createTextRange(),r=s.duplicate();s.moveToBookmark(i.getBookmark()),r.setEndPoint("EndToStart",s);t=i.text.length;return{start:r.text.length,end:r.text.length+i.text.length,length:t,text:i.text}}catch(e){return{start:0,end:0,length:0}}},selectAll:function(){var e=this.numberInput;setTimeout((function(){if("selectionStart"in e[0])e[0].focus(),e[0].setSelectionRange(0,e[0].value.length);else{var t=e[0].createTextRange();t.collapse(!0),t.moveEnd("character",e[0].value.length),t.moveStart("character",0),t.select()}}),10)},_setSelection:function(t,i){if(1!=this._disableSetSelection&&(!e.jqx.mobile.isTouchDevice()&&1!=this.touchMode))try{if("selectionStart"in this.numberInput[0])this.numberInput[0].focus(),this.numberInput[0].setSelectionRange(t,i);else{var s=this.numberInput[0].createTextRange();s.collapse(!0),s.moveEnd("character",i),s.moveStart("character",t),s.select()}}catch(e){}},_setSelectionStart:function(t){this._setSelection(t,t),e.data(this.numberInput,"selectionstart",t)},resize:function(e,t){this.width=e,this.height=t,this._render(!1)},_render:function(t){var i=parseInt(this.host.css("border-left-width")),s=parseInt(this.host.css("border-left-width")),r=parseInt(this.host.css("border-left-width")),n=parseInt(this.host.css("border-left-width"));this.numberInput.css("padding-top","0px"),this.numberInput.css("padding-bottom","0px");var o=window.getComputedStyle(this.element),a=2*parseInt(o.borderLeftWidth);("border-box"===o.boxSizing||isNaN(a))&&(a=0),null!=this.width&&-1!=this.width.toString().indexOf("px")?this.element.style.width=parseInt(this.width)-a+"px":null==this.width||isNaN(this.width)||(this.element.style.width=parseInt(this.width)-a+"px"),null!=this.height&&-1!=this.height.toString().indexOf("px")?this.element.style.height=parseInt(this.height)-a+"px":null==this.height||isNaN(this.height)||(this.element.style.height=parseInt(this.height)-a+"px");var l=this.host.width(),h=this.host.height();this.numberInput.css({"border-left-width":0,"border-right-width":0,"border-bottom-width":0,"border-top-width":0}),isNaN(r)&&(r=1),isNaN(s)&&(s=1),isNaN(n)&&(n=1),isNaN(i)&&(i=1),this.numberInput.css("text-align",this.textAlign);var d=this.numberInput.css("font-size");""==d&&(d=13),this.numberInput.css("height",parseInt(d)+4+"px"),this.numberInput.css("width",l-2);var c=h-2*r-parseInt(d)-2;(isNaN(c)&&(c=0),c<0&&(c=0),this.spinButtons&&this.spincontainer)&&(l-=parseInt(this.spinButtonsWidth-2),e.jqx.mobile.isTouchDevice()||!0===this.touchMode?(this.spincontainer.width(2*this.spinButtonsWidth),l-=this.spinButtonsWidth,this.upbutton.height("100%"),this.downbutton.height("100%"),this.downbutton.css("float","left"),this.upbutton.css("float","right"),this.upbutton.width(this.spinButtonsWidth),this.downbutton.width(1+this.spinButtonsWidth)):(this.spincontainer.width(this.spinButtonsWidth),this.upbutton.width(this.spinButtonsWidth+2),this.downbutton.width(this.spinButtonsWidth+2),this.upbutton.height("50%"),this.downbutton.height("50%"),this.spincontainer.width(this.spinButtonsWidth)),this._upArrow.height("100%"),this._downArrow.height("100%"),this.numberInput.css("width",l-6),this.numberInput.css("margin-right","2px"));var u=c/2;e.jqx.browser.msie&&e.jqx.browser.version<8&&(u=c/4),this.numberInput.css("padding-left","0px"),this.numberInput.css("padding-right","0px"),this.numberInput.css("padding-top",Math.round(u)+"px"),this.numberInput.css("padding-bottom",Math.round(u)+"px"),null!=t&&1!=t||(this.numberInput.val(this._getString()),"advanced"!=this.inputMode&&this._parseDecimalInSimpleMode()),this._addBarAndLabel(this.numberInput),this._updateHint()},_addBarAndLabel:function(t){var i=this;if(null===i.bar&&null===i.label){var s=e("<label></label");this.hint&&(s[0].innerHTML=this.placeHolder),s.addClass(i.toThemeProperty("jqx-input-label")),t.after(s),i.label=s;var r=e("<span></span>");t.after(r),r.addClass(i.toThemeProperty("jqx-input-bar")),i.spinButtons?r.css("top",i.host.height()):r.css("top","0px"),i.bar=r,i.template&&(i.bar.addClass(i.toThemeProperty("jqx-"+i.template)),i.label.addClass(i.toThemeProperty("jqx-"+i.template)))}},destroy:function(){this._removeHandlers(),this.host.remove()},inputValue:function(e){return void 0===e?this._value():(this.propertyChangedHandler(this,"value",this._value,e),this._refreshValue(),this)},_value:function(){return this.numberInput.val()},val:function(e){if((void 0===e||"object"==typeof e)&&null!==e)return this.getDecimal();if(null!==e){var t=e;if(t<0)this.setDecimal(t);else{this.setvalue("negative",!1),(t=t.toString()).indexOf(this.symbol)>-1&&(t=t.replace(this.symbol,""));t=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(t=t.replace(this.decimalSeparator,"."),this.groupSeparator,"");for(var i="",s=0;s<t.length;s++){var r=t.substring(s,s+1);"-"===r&&(i+="-"),"."===r&&(i+="."),null!=r.match(/^[0-9]+$/)&&(i+=r)}t=(t=(t=i).replace(/ /g,"")).replace(".",this.decimalSeparator),this._setDecimal(t)}}else this.setDecimal(null)},getDecimal:function(){return null==this.decimal?null:("simple"==this.inputMode&&(this._parseDecimalInSimpleMode(!1),this.decimal=this._getDecimalInSimpleMode(this.decimal)),""==this.decimal?0:this.getvalue("negative")&&this.decimal>0?-parseFloat(this.decimal):parseFloat(this.decimal))},setDecimal:function(e){var t=e;if("."!=this.decimalSeparator)if(null===e)this._setDecimal(e);else{var i,s,r,n=e;if("number"!=typeof e)if(-1!=(i=(e=e.toString()).indexOf(".")))n=(s=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+r:s+this.decimalSeparator+r;else if(-1!=(i=e.indexOf(this.decimalSeparator)))n=(s=e.substring(0,i))+"."+(r=e.substring(i+1)),-1!=s.indexOf("-")&&(s=s.substring(1)),e="advanced"!=this.inputMode?s+"."+r:s+this.decimalSeparator+r;n<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e))}else e<0?this.setvalue("negative",!0):this.setvalue("negative",!1),null===e?this._setDecimal(e):this._setDecimal(Math.abs(e));null==t&&this.numberInput.val(""),this._updateHint()},_setDecimal:function(e){if(this.allowNull||null!=e||(this.decimal=0,e=0),null==e)return this.decimal=null,this.value=null,this.clearDecimal(),this._refreshValue(),this.decimal=null,this.value=null,void(this.ValueString="");-1!=e.toString().indexOf("e")&&(e=new Number(e).toFixed(this.decimalDigits).toString()),this.clearDecimal();var t=e.toString(),i="",s="",r=!0;0==t.length&&(t="0");for(var n=0;n<t.length;n++){if("number"==typeof e){if("."==t.substring(n,n+1)){r=!1;continue}}else if(t.substring(n,n+1)==this.decimalSeparator){r=!1;continue}r?i+=t.substring(n,n+1):s+=t.substring(n,n+1)}i.length>0&&(i=parseFloat(i).toString());var o=this.digits;o<i.length&&(i=i.substr(0,o));var a=0,l=this._getSeparatorPosition();for(n=l+=this._getHiddenPrefixCount();n>=0;n--)n<this.items.length&&this.items[n].canEdit&&a<i.length&&(this.items[n].character=i.substring(i.length-a-1,i.length-a),a++);a=0;for(n=l;n<this.items.length;n++)this.items[n].canEdit&&a<s.length&&(this.items[n].character=s.substring(a,a+1),a++);if(this._refreshValue(),"."==this.decimalSeparator)this.ValueString=new Number(e).toFixed(this.decimalDigits);else{var h=e.toString().indexOf(this.decimalSeparator);if(h>0){var d=e.toString().substring(0,h)+"."+e.toString().substring(h+1);this.ValueString=new Number(d).toFixed(this.decimalDigits)}else this.ValueString=new Number(e).toFixed(this.decimalDigits)}("advanced"!=this.inputMode&&(this._parseDecimalInSimpleMode(),this._raiseEvent(1,this.ValueString)),"textbox"==this.inputMode)&&(this.decimal=this.ValueString,this.getvalue("negative")&&(this.decimal="-"+this.ValueString));(e=this.val())<this.min||e>this.max?this.host.addClass("jqx-input-invalid"):this.host.removeClass("jqx-input-invalid"),this._updateHint()},_getSeparatorPosition:function(){var e=this._getHiddenPrefixCount();return this.decimalSeparatorPosition>0?this.decimalSeparatorPosition-e:this.items.length-e},_setTheme:function(){this.host.removeClass(),this.host.addClass(this.toThemeProperty("jqx-input")),this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.host.addClass(this.toThemeProperty("jqx-numberinput")),this.spinButtons&&(this.downbutton.removeClass(),this.upbutton.removeClass(),this.downbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this.upbutton.addClass(this.toThemeProperty("jqx-scrollbar-button-state-normal")),this._upArrow.removeClass(),this._downArrow.removeClass(),this._upArrow.addClass(this.toThemeProperty("jqx-icon-arrow-up")),this._downArrow.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),this.numberInput.removeClass(),this.numberInput.addClass(this.toThemeProperty("jqx-input-content"))},propertiesChangedHandler:function(e,t,i){i&&i.width&&i.height&&2==Object.keys(i).length&&e._render()},propertyChangedHandler:function(t,i,s,r){if(!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)){if("template"==i&&(t.upbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.removeClass(t.toThemeProperty("jqx-"+t.template)),t.upbutton.addClass(t.toThemeProperty("jqx-"+t.template)),t.downbutton.addClass(t.toThemeProperty("jqx-"+t.template))),("digits"==i||"groupSize"==i||"decimalDigits"==i)&&r<0)throw new Exception(this.invalidArgumentExceptions[0]);if("placeHolder"==i&&(t.isMaterialized()?t.hint&&(t.label[0].innerHTML=t.placeHolder):t.numberInput.attr("placeholder",t.placeHolder)),"theme"===i&&e.jqx.utilities.setTheme(s,r,t.host),"digits"==i&&r!=s&&(t.digits=parseInt(r)),"min"!=i&&"max"!=i||(e.jqx.aria(t,"aria-value"+i,r.toString()),t._refreshValue()),"decimalDigits"==i&&r!=s&&(t.decimalDigits=parseInt(r)),"decimalSeparator"==i||"digits"==i||"symbol"==i||"symbolPosition"==i||"groupSize"==i||"groupSeparator"==i||"decimalDigits"==i||"negativeSymbol"==i){var n=t.decimal;if("decimalSeparator"==i&&""==r&&(r=" "),s!=r){var o=t._selection();t.items=new Array,t._initializeLiterals(),t.value=t._getString(),t._refreshValue(),t._setDecimal(n)}}if("rtl"==i&&(t.rtl?(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","right")):(t.spincontainer&&(t.spincontainer.css("float","right"),t.spincontainer.css("border-right-width","1px")),t.numberInput.css("float","left"))),"spinButtons"==i&&(t.spincontainer?(r?t.spincontainer.css("display","block"):t.spincontainer.css("display","none"),t._render()):t._spinButtons()),"touchMode"===i&&(t.inputMode="textbox",t.spinMode="simple",t.render()),"negative"==i&&"advanced"==t.inputMode){o=t._selection();var a=0;r?(t.items[0].character=t.negativeSymbol[0],a=1):(t.items[0].character="",a=-1),t._refreshValue(),t.isInitialized&&t._setSelection(o.start+a,o.end+a)}if("decimal"==i&&(t.value=r,t.setDecimal(r)),"value"===i&&(t.value=r,t.setDecimal(r),t._raiseEvent(1,r)),"textAlign"==i&&(t.textAlign=r,t._render()),"disabled"==i&&(t.numberInput.attr("disabled",r),t.disabled?t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(t,"aria-disabled",r.toString())),"readOnly"==i&&(t.readOnly=r),"promptChar"==i){for(var l=0;l<t.items.length;l++)t.items[l].character==t.promptChar&&(t.items[l].character=r);t.promptChar=r}"width"==i?(t.width=r,t._render()):"height"==i&&(t.height=r,t._render())}},_value:function(){return this.value},_refreshValue:function(){var e=this.value;if("textbox"!==this.inputMode){this.value=this._getString(),e=this.value;for(var t="",i=0;i<this.items.length;i++){var s=this.items[i];s.canEdit&&s.character!=this.promptChar&&(t+=s.character),i==this.decimalSeparatorPosition&&(t+=".")}this.decimal=t;var r=!1;this.oldValue!==e&&(this.oldValue=e,this._raiseEvent(0,e),r=!0),"simple"!=this.inputMode&&(this.numberInput.val(e),r&&this._raiseEvent(1,e)),null==e&&this.numberInput.val("")}}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxNotification","",{}),e.extend(e.jqx._jqxNotification.prototype,{defineInstance:function(){var t={width:"auto",height:"auto",appendContainer:null,position:"top-right",zIndex:99999,browserBoundsOffset:5,notificationOffset:5,opacity:.9,hoverOpacity:1,autoOpen:!1,animationOpenDelay:400,animationCloseDelay:800,closeOnClick:!0,autoClose:!0,autoCloseDelay:3e3,showCloseButton:!0,template:"info",icon:null,blink:!1,disabled:!1,rtl:!1,events:["open","close","click"]};return this===e.jqx._jqxNotification.prototype||e.extend(!0,this,t),t},createInstance:function(e){var t=this;t.render(),1==t.autoOpen&&t.open()},render:function(){var t=this;if(0==t.host.hasClass("jqx-notification")){t.host.addClass(t.toThemeProperty("jqx-rc-all")),t.host.addClass(t.toThemeProperty("jqx-notification")),t.host.css({zIndex:t.zIndex,display:"none",opacity:t.opacity}),t._container=t._notificationContainer(),t._appendContent(),t._setHoverFunctions(),t._instances=new Array,t._instanceKey=0;var i=e.data(document.body,"jqxNotifications");null==i&&(i=0),e.data(document.body,"jqxNotifications",i+1)}else t.refresh()},refresh:function(e){e||this._appendContent(!0)},open:function(){var e=this;if(0==e.disabled){var t=e.host.clone();t.removeAttr("id"),t.width(e.width),t.height(e.height),null!=this.width&&-1!=this.width.toString().indexOf("%")&&t.css("width",this.width),null!=this.height&&-1!=this.height.toString().indexOf("%")&&t.css("height",this.height),e.appendContainer||"bottom-left"!=e.position&&"bottom-right"!=e.position?(t.css("margin-bottom",e.notificationOffset),e._container.append(t)):(t.css("margin-top",e.notificationOffset),e._container.prepend(t)),e._addHandlers(t),t.fadeIn(e.animationOpenDelay,(function(){e._raiseEvent("0",{element:t})})),1==e.blink&&(t._blinkInterval=setInterval((function(){t.fadeTo(400,e.opacity/1.5,(function(){t.fadeTo(400,e.opacity)}))}),850)),1==e.autoClose&&(t._autoCloseTimeout=setTimeout((function(){e._close(t)}),e.autoCloseDelay)),t._key=e._instanceKey,e._instances[e._instanceKey]=t,e._instanceKey++}},closeAll:function(){for(var e=this,t=0;t<e._instances.length;t++)e._instances[t]&&e._close(e._instances[t])},closeLast:function(){for(var e=this,t=e._instances.length;t>=0;t--)if(e._instances[t]){e._close(e._instances[t]);break}},destroy:function(){var t=this;t.closeAll(),t.host.remove();var i=e.data(document.body,"jqxNotifications");e.data(document.body,"jqxNotifications",i-1),t._destroyContainers(i-1)},propertyChangedHandler:function(e,t,i,s){var r=this;if(s!=i)switch(t){case"width":case"height":var n=i.indexOf&&-1!=i.indexOf("%");null==n&&(n=!1);var o=s.indexOf&&-1!=s.indexOf("%");null==o&&(o=!1),o!=n&&(r[t]=i);break;case"appendContainer":case"position":r._container=r._notificationContainer();break;case"browserBoundsOffset":r.appendContainer||r._position(r._container);break;case"opacity":r.host.css("opacity",s);break;case"showCloseButton":case"template":case"icon":case"rtl":r._appendContent(!0)}},_raiseEvent:function(t,i){var s=this,r=s.events[t],n=new e.Event(r);n.owner=s,n.args=i;try{var o=s.host.trigger(n)}catch(e){}return o},_close:function(e){var t=this;t._instances[e._key]&&(t._instances[e._key]=!1,clearInterval(e._blinkInterval),clearTimeout(e._autoCloseTimeout),e.fadeOut(t.animationCloseDelay,(function(){t._removeHandlers(e),e.remove(),t._raiseEvent("1")})))},_addHandlers:function(e){var t=this;if(t.addHandler(e,"click.notification"+t.element.id,(function(i){t._raiseEvent("2"),1==t.closeOnClick&&t._close(e)})),t.addHandler(e,"mouseenter.notification"+t.element.id,(function(i){e._blinkInterval||t.mouseenterFunction(e)})),t.addHandler(e,"mouseleave.notification"+t.element.id,(function(i){e._blinkInterval||"none"==e.css("display")||t.mouseleaveFunction(e)})),1==t.showCloseButton){var i=e.find(".jqx-notification-close-button");t.addHandler(i,"click.notification"+t.element.id,(function(i){i.stopPropagation(),t._close(e)}))}},_removeHandlers:function(e){var t=this;t.removeHandler(e,"click.notification"+t.element.id),t.removeHandler(e,"click.mouseenter"+t.element.id),t.removeHandler(e,"click.mouseleave"+t.element.id);var i=e.find(".jqx-notification-close-button");i.length>0&&t.removeHandler(i,"click.notification"+t.element.id)},_appendContent:function(t){var i=this,s=i.host.html();t||i.host.children().detach(),t&&(i.host.removeAttr("class"),i.host.addClass(i.toThemeProperty("jqx-rc-all")),i.host.addClass(i.toThemeProperty("jqx-notification")));var r=e("<table class='"+i.toThemeProperty("jqx-notification-table")+"'></table>"),n=e("<tr></tr>");r.append(n);var o=i.rtl?"jqx-notification-content-rtl":"";if(t)s=(a=i.host.find(".jqx-notification-content")).html(),a.detach(),i.rtl?a.addClass("jqx-notification-content-rtl"):a.removeClass("jqx-notification-content-rtl");else var a=e("<td class='"+i.toThemeProperty("jqx-notification-content")+" "+o+"'></td>");n.html(a);var l,h=function(){0==i.rtl?(l.addClass("jqx-notification-icon-ltr"),a.before(l)):(l.addClass("jqx-notification-icon-rtl"),a.after(l))};if(i.template?(i.host.addClass("jqx-widget"),i.host.addClass("jqx-popup"),i.host.addClass("jqx-notification-"+i.template),l=e("<td class='"+i.toThemeProperty("jqx-notification-icon")+" jqx-notification-icon-"+i.template+"'></td>"),h()):(i.host.addClass(i.toThemeProperty("jqx-widget")),i.host.addClass(i.toThemeProperty("jqx-popup")),i.host.addClass(i.toThemeProperty("jqx-fill-state-normal")),i.icon&&(l=e("<td class='"+i.toThemeProperty("jqx-notification-icon")+"'></td>"),i.icon.padding=i.icon.padding?parseInt(i.icon.padding):5,l.css({width:parseInt(i.icon.width)+i.icon.padding,height:i.icon.height,"background-image":"url('"+i.icon.url+"')"}),h())),1==i.showCloseButton){var d;d=i.template?"jqx-notification-close-button jqx-notification-close-button-"+i.template:i.toThemeProperty("jqx-icon-close")+" "+i.toThemeProperty("jqx-notification-close-button");var c=e("<td class='"+i.toThemeProperty("jqx-notification-close-button-container")+"'><div class='"+d+" "+i.element.id+"CloseButton' title='Close'></div></td>");0==i.rtl?(c.find("div").addClass("jqx-notification-close-button-ltr"),a.after(c)):(c.find("div").addClass("jqx-notification-close-button-rtl"),a.before(c))}i.host[0].innerHTML="",i.host.append(r),i.host.find(".jqx-notification-content").html(s)},_position:function(e){var t,i,s,r,n=this;switch(n.position){case"top-right":t="",i=n.browserBoundsOffset,s=n.browserBoundsOffset,r="";break;case"top-left":t=n.browserBoundsOffset,i="",s=n.browserBoundsOffset,r="";break;case"bottom-left":t=n.browserBoundsOffset,i="",s="",r=n.browserBoundsOffset;break;case"bottom-right":t="",i=n.browserBoundsOffset,s="",r=n.browserBoundsOffset}e.css({left:t,right:i,top:s,bottom:r})},_notificationContainer:function(){var t,i=this;if(i.appendContainer){if(0==(t=e(i.appendContainer)).length)throw new Error("jqxNotification: Invalid appendContainer jQuery Selector - "+i.appendContainer+"! Please, check whether the used ID or CSS Class name is correct.")}else 0==(t=e("#jqxNotificationDefaultContainer-"+i.position)).length&&(e("body").append("<div id='jqxNotificationDefaultContainer-"+i.position+"' class='jqx-notification-container'></div>"),t=e("#jqxNotificationDefaultContainer-"+i.position),i.width.indexOf&&-1!=i.width.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-width")),i.height.indexOf&&-1!=i.height.indexOf("%")&&t.addClass(i.toThemeProperty("jqx-notification-container-full-height")),i._position(t));return t},_destroyContainers:function(t){0==t&&e(".jqx-notification-container").remove()},_setHoverFunctions:function(){var t=this,i=!1;"msie"==e.jqx.browser.browser&&"9.0"==e.jqx.browser.version&&(i=!0),0==i?(t.mouseenterFunction=function(e){e.fadeTo("fast",t.hoverOpacity)},t.mouseleaveFunction=function(e){e.fadeTo("fast",t.opacity)}):(t.mouseenterFunction=function(e){e.css("filter","alpha(opacity = "+100*t.hoverOpacity+")")},t.mouseleaveFunction=function(e){e.css("filter","alpha(opacity = "+100*t.opacity+")")})}})}(jqxBaseFramework),function(e){e.jqx.jqxWidget("jqxSplitter","",{}),e.extend(e.jqx._jqxSplitter.prototype,{defineInstance:function(){var t={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};return this===e.jqx._jqxSplitter.prototype||e.extend(!0,this,t),t},createInstance:function(){this.render()},_initOverlay:function(t){if(this.overlay||"undefined"==t)this.overlay.remove(),this.overlay=null;else if(1==t){this.overlay=e("<div style='z-index: 100; background: #fff;'></div>"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(e(document.body));this.host.coord();this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(e(window).width()),this.overlay.height(e(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize")}},_startDrag:function(t){return!(t.target!=this.splitBarButton[0]&&!this.disabled)||(!(!this.panels[0].collapsed&&!this.panels[1].collapsed&&this.resizable)||(null!=this.overlay||(this._dragging=!0,this._initOverlay(!0),this._dragStart=e.jqx.position(t),!1)))},_drag:function(t){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;if(!this._dragging)return!0;var i="horizontal"==this.orientation?"top":"left",s="vertical"==this.orientation?"width":"height";if(this._position=e.jqx.position(t),this.overlay&&!this._splitBarClone&&Math.abs(this._position[i]-this._dragStart[i])>=3){var r=this.splitBar.coord();return this._cloneStart={left:r.left,top:r.top},this._splitBarClone=this._createSplitBarClone(),void this._raiseEvent(3,{panels:this.panels})}if(this._splitBarClone){var n,o,a=this.host[s](),l=a/100,h=this._splitBarClone[s]()+2,d=parseInt(this.host.coord()[i]),c=this._position[i]-this._dragStart[i]+this._cloneStart[i]-d;return 0>c&&(c=0),c>a+0-h&&(c=a+0-h),n=this.panels[0].min,-1!=(o=this.panels[1].min).toString().indexOf("%")&&(o=parseFloat(o)*l),-1!=n.toString().indexOf("%")&&(n=parseFloat(n)*l),this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),c<n&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),c=n),c>a+0-h-o&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),c=a+0-h-o),this._splitBarClone.css(i,c),e.jqx.isPassiveSupported()&&this._isTouchDevice?!1:(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1)}return!0},resize:function(e,t){this.width=e,this.height=t,this._arrange()},_resize:function(){var e="horizontal"==this.orientation?"height":"width",t="horizontal"==this.orientation?"top":"left",i=this._splitBarClone.css(t),s=this.host[e](),r=1/(s/100);-1!=this.panels[0].size.toString().indexOf("%")?(this.panels[0].size=parseFloat(i)*r+"%",this.panels[1].size=100-parseFloat(i)*r+"%"):(this.panels[0].size=parseFloat(i),this.panels[1].size=s-parseFloat(i)),this._layoutPanels(),this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){if(this._dragging&&this._initOverlay(),this._dragging=!1,this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize(),this._splitBarClone.remove(),this._splitBarClone=null}},_createSplitBarClone:function(){var e=this.splitBar.clone();return e.fadeTo(0,.7),e.css("z-index",99999),"vertical"==this.orientation?e.css("cursor","col-resize"):e.css("cursor","row-resize"),this.host.append(e),e},_eventName:function(e){return this._isTouchDevice?this._eventsMap[e]:e},_addHandlers:function(){var t=this;if(e.jqx.utilities.resize(this.host,(function(){t._layoutPanels()})),this.addHandler(this.splitBar,"dragstart."+this.element.id,(function(e){return!1})),this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,(function(){var e=function(e){e.collapsed?t.expand():t.collapse()};t.panels[0].collapsible?e(t.panels[0]):t.panels[1].collapsible&&e(t.panels[1])})),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),(function(){t.splitBarButton.addClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.addClass(t.toThemeProperty("jqx-fill-state-hover"))})),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),(function(){t.splitBarButton.removeClass(t.toThemeProperty("jqx-splitter-collapse-button-hover")),t.splitBarButton.removeClass(t.toThemeProperty("jqx-fill-state-hover"))}))),this.addHandler(e(document),this._eventName("mousemove")+"."+this.element.id,(function(e){var i=t._drag(e);if(!t._isTouchDevice)return i})),this.addHandler(e(document),this._eventName("mouseup")+"."+this.element.id,(function(){return t._stopDrag()})),this.addHandler(this.splitBar,this._eventName("mousedown"),(function(e){return t._startDrag(e)})),this.addHandler(this.splitBar,this._eventName("mouseenter"),(function(){t.resizable&&!t.disabled&&(t.splitBar.addClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.addClass(t.toThemeProperty("jqx-fill-state-hover")))})),this.addHandler(this.splitBar,this._eventName("mouseleave"),(function(){t.resizable&&!t.disabled&&(t.splitBar.removeClass(t.toThemeProperty("jqx-splitter-splitbar-hover")),t.splitBar.removeClass(t.toThemeProperty("jqx-fill-state-hover")))})),(""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var i=null;if(window.parent&&document.referrer&&(i=document.referrer),i&&-1!=i.indexOf(document.location.host)){var s=function(e){t._stopDrag()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",s,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",s)}}},_removeHandlers:function(){this.removeHandler(e(window),"resize."+this.element.id),this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave"))),this.removeHandler(e(document),this._eventName("mousemove")+"."+this.element.id),this.removeHandler(e(document),this._eventName("mouseup")+"."+this.element.id),this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var t=this.host.children();if(2!=t.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==t.length){var i=t[0].className.split(" "),s=t[1].className.split(" ");if(-1!=i.indexOf("jqx-reset")&&-1!=i.indexOf("jqx-splitter")&&-1!=i.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=s.indexOf("jqx-reset")&&-1!=s.indexOf("jqx-splitter")&&-1!=s.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!"}if(this.host.parent().length>0&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0,300==this.width&&(this.width="100%"),300==this.height&&(this.height="100%"),"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth,this._removeHandlers(),this._isTouchDevice=e.jqx.mobile.isTouchDevice(),this._validate(),this.panel1.css("left","0px"),this.panel1.css("top","0px"),this.panel2.css("left","0px"),this.panel2.css("top","0px"),this.splitBar=e("<div><div></div></div>"),this.resizable||this.splitBar.css("cursor","default"),this.splitBarButton=this.splitBar.find("div:last"),this._setTheme(),this.splitBar.insertAfter(this.panel1),this._arrange(),0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers(),this.initContent&&this.initContent(),this.disabled&&this.disable()},_hiddenParent:function(){return e.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content")),this.panel2.addClass(this.toThemeProperty("jqx-widget-content")),this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel")),this.panel1.addClass(this.toThemeProperty("jqx-reset")),this.panel2.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-reset")),this.host.addClass(this.toThemeProperty("jqx-splitter")),this.host.addClass(this.toThemeProperty("jqx-widget")),this.host.addClass(this.toThemeProperty("jqx-widget-content")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation)),this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation)),this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){if(2!=(t=this.host.children()).length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:null==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);var t=this.host.children();this.panel1=this.panels[0].element=e(t[0]),this.panel2=this.panels[1].element=e(t[1]),this.panel1[0].style.minWidth="",this.panel1[0].style.maxWidth="",this.panel2[0].style.minWidth="",this.panel2[0].style.maxWidth="",e.each(this.panels,(function(){null==this.min&&(this.min=0),null==this.size&&(this.size=0),this.size<0&&(this.size=0),this.min<0&&(this.min=0),null==this.collapsible&&(this.collapsible=!0),null==this.collapsed&&(this.collapsed=!1),0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))}))},_arrange:function(){if(null!=this.width){var e=this.width;"string"!=typeof e&&(e=parseInt(this.width)+"px"),this.host.css("width",e)}if(null!=this.height){var t=this.height;"string"!=typeof t&&(t=parseInt(this.height)+"px"),this.host.css("height",t)}this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize,this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());var i="horizontal"==this.orientation?"width":"height";this.splitBar.css(i,"100%"),this.panel1.css(i,"100%"),this.panel2.css(i,"100%"),"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize),"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45)),this.splitBarButton.css("position","relative"),"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px")),this._layoutPanels()},collapse:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!0,this.panels[e].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var e=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1,this.panels[0].element[0].style.visibility="inherit",this.panels[1].element[0].style.visibility="inherit",this.panels[0].collapsible?e=0:this.panels[1].collapsible&&(e=1),-1!=e&&(this.panels[e].collapsed=!1,this.panels[e].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:e,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0,this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1,this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(e){1!=e&&this._arrange()},propertyChangedHandler:function(t,i,s,r){"panels"!==i&&"orientation"!==i&&"showSplitBar"!==i?("touchMode"===i&&(t._isTouchDevice=r),"disabled"===i?r?t.disable():t.enable():"theme"===i?e.jqx.utilities.setTheme(s,r,t.host):t.refresh()):t.render()},_layoutPanels:function(){var e,t,i,s,r=this,n="horizontal"==this.orientation?"height":"width",o="horizontal"==this.orientation?"top":"left",a=parseInt(this._splitBarSize)+2;this.showSplitBar||(a=0);var l=this.host[n](),h=l/100,d=1/h,c=d*a,u=this.panel1,p=this.panel2,m=this.panels[0].size;this.panels[0].collapsed&&(i=!0),this.panels[1].collapsed&&(s=!0),e=this.panels[0].min,-1!=(t=this.panels[1].min).toString().indexOf("%")&&(t=parseFloat(t)*h),-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*h),this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(u.width(this.host.width()),p.width(this.host.width())):(u.height(this.host.height()),p.height(this.host.height())));if(i){var f=Math.max(t,l-a);u[n](0),p[n](f)}else if(s){f=Math.max(e,l-a);p[n](0),u[n](f)}else if(-1!=m.toString().indexOf("%")){var g=100-parseFloat(m);if(u.css(n,parseFloat(m)+"%"),g-=c,p.css(n,g+"%"),(x=p[n]())<t){var v=(f=x-t)*d;m=parseFloat(m)+parseFloat(v);g=100-parseFloat(m);u.css(n,parseFloat(m)+"%"),g-=c,p.css(n,g+"%")}if(u[n]()<e){v=e*d;u.css(n,parseFloat(v)+"%")}}else{var x=l-m-a;u[0].style[n]!=m+"px"&&u[n](m),p[0].style[n]!=x+"px"&&p[n](x),x<t&&(m+=x-t,p[n](t),u[n](m)),m<e&&u[n](e)}!function(){var e=r.panel1[n]();if(r.splitBar[0].style[o]!=e+"px"){var t=e;"vertical"==r.orientation?(r.splitBar[0].style.borderLeftColor="",r.splitBar[0].style.borderRightColor="",r.splitBarButton[0].style.width=parseInt(r._splitBarSize)+"px",r.splitBarButton[0].style.left="0px"):(r.splitBar[0].style.borderTopColor="",r.splitBar[0].style.borderBottomColor="",r.splitBarButton[0].style.height=parseInt(r._splitBarSize)+"px",r.splitBarButton[0].style.top="0px"),r._hasBorder&&(l-a==e?"vertical"==r.orientation?(r.splitBar[0].style.borderRightColor="transparent",r.splitBarButton[0].style.width=parseInt(r._splitBarSize+1)+"px"):(r.splitBar[0].style.borderBottomColor="transparent",r.splitBarButton[0].style.height=parseInt(r._splitBarSize+1)+"px"):0==e&&("vertical"==r.orientation?(r.splitBar[0].style.borderLeftColor="transparent",r.splitBarButton[0].style.width=parseInt(r._splitBarSize+1)+"px",r.splitBarButton[0].style.left="-1px"):(r.splitBar[0].style.borderTopColor="transparent",r.splitBarButton[0].style.height=parseInt(r._splitBarSize+1)+"px",r.splitBarButton[0].style.top="-1px"))),r.splitBar[0].style[o]=t+"px"}r.panel2[0].style[o]!=e+a+"px"&&(r.panel2[0].style[o]=e+a+"px")}(),this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers(),e.jqx.utilities.resize(this.host,null,!0),this.host.remove()},_raiseEvent:function(t,i){var s=new e.Event(this._events[t]);s.owner=this,s.args=i;this.orientation;var r=new Array;return r[0]={},r[1]={},r[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight,r[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight,r[0].min=this.panels[0].min,r[1].min=this.panels[1].min,r[0].collapsible=this.panels[0].collapsible,r[1].collapsible=this.panels[1].collapsible,r[0].collapsed=this.panels[0].collapsed,r[1].collapsed=this.panels[1].collapsed,s.args.panels=r,this.host.trigger(s)}})}(jqxBaseFramework),function(e){function t(t,i){return this.owner=t,this.datafield=null,this.displayfield=null,this.text="",this.sortable=!0,this.editable=!0,this.hidden=!1,this.hideable=!0,this.groupable=!0,this.renderer=null,this.cellsRenderer=null,this.columntype=null,this.cellsFormat="",this.align="left",this.cellsalign="left",this.width="auto",this.minwidth=25,this.maxwidth="auto",this.pinned=!1,this.visibleindex=-1,this.filterable=!0,this.filter=null,this.resizable=!0,this.draggable=!0,this.initeditor=null,this.createeditor=null,this.destroyeditor=null,this.geteditorvalue=null,this.autoCellHeight=!0,this.validation=null,this.classname="",this.cellclassname="",this.aggregates=null,this.aggregatesRenderer=null,this.rendered=null,this.exportable=!0,this.nullable=!0,this.columngroup=null,this.columntype="textbox",this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsFormat:this.cellsFormat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}},this.setproperty=function(e,t){if(this[e]){var i=this[e];this[e]=t,this.owner._columnPropertyChanged(this,e,t,i)}else if(this[e.toLowerCase()]){i=this[e.toLowerCase()];this[e.toLowerCase()]=t,this.owner._columnPropertyChanged(this,e.toLowerCase(),t,i)}},this._initfields=function(i){if(null!=i){if(e.jqx.hasProperty(i,"dataField")&&(this.datafield=e.jqx.get(i,"dataField")),e.jqx.hasProperty(i,"displayField")?this.displayfield=e.jqx.get(i,"displayField"):this.displayfield=this.datafield,e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"validation")&&(this.validation=e.jqx.get(i,"validation")),e.jqx.hasProperty(i,"autoCellHeight")&&(this.autoCellHeight=e.jqx.get(i,"autoCellHeight")),e.jqx.hasProperty(i,"text")?this.text=e.jqx.get(i,"text"):this.text=this.displayfield,e.jqx.hasProperty(i,"sortable")&&(this.sortable=e.jqx.get(i,"sortable")),e.jqx.hasProperty(i,"hidden")&&(this.hidden=e.jqx.get(i,"hidden")),e.jqx.hasProperty(i,"groupable")&&(this.groupable=e.jqx.get(i,"groupable")),e.jqx.hasProperty(i,"renderer")&&(this.renderer=e.jqx.get(i,"renderer")),e.jqx.hasProperty(i,"align")&&(this.align=e.jqx.get(i,"align")),e.jqx.hasProperty(i,"cellsAlign")&&(this.cellsalign=e.jqx.get(i,"cellsAlign")),e.jqx.hasProperty(i,"cellsFormat")&&(this.cellsFormat=e.jqx.get(i,"cellsFormat")),e.jqx.hasProperty(i,"width")&&(this.width=e.jqx.get(i,"width")),e.jqx.hasProperty(i,"minWidth")&&(this.minwidth=e.jqx.get(i,"minWidth")),e.jqx.hasProperty(i,"maxWidth")&&(this.maxwidth=e.jqx.get(i,"maxWidth")),e.jqx.hasProperty(i,"cellsRenderer")&&(this.cellsRenderer=e.jqx.get(i,"cellsRenderer")),e.jqx.hasProperty(i,"columnType")&&(this.columntype=e.jqx.get(i,"columnType")),e.jqx.hasProperty(i,"pinned")&&(this.pinned=e.jqx.get(i,"pinned")),e.jqx.hasProperty(i,"filterable")&&(this.filterable=e.jqx.get(i,"filterable")),e.jqx.hasProperty(i,"filter")&&(this.filter=e.jqx.get(i,"filter")),e.jqx.hasProperty(i,"resizable")&&(this.resizable=e.jqx.get(i,"resizable")),e.jqx.hasProperty(i,"draggable")&&(this.draggable=e.jqx.get(i,"draggable")),e.jqx.hasProperty(i,"editable")&&(this.editable=e.jqx.get(i,"editable")),e.jqx.hasProperty(i,"initEditor")&&(this.initeditor=e.jqx.get(i,"initEditor")),e.jqx.hasProperty(i,"createEditor")&&(this.createeditor=e.jqx.get(i,"createEditor")),e.jqx.hasProperty(i,"destroyEditor")&&(this.destroyeditor=e.jqx.get(i,"destroyEditor")),e.jqx.hasProperty(i,"getEditorValue")&&(this.geteditorvalue=e.jqx.get(i,"getEditorValue")),e.jqx.hasProperty(i,"className")&&(this.classname=e.jqx.get(i,"className")),e.jqx.hasProperty(i,"cellClassName")&&(this.cellclassname=e.jqx.get(i,"cellClassName")),e.jqx.hasProperty(i,"aggregates")&&(this.aggregates=e.jqx.get(i,"aggregates")),e.jqx.hasProperty(i,"aggregatesRenderer")&&(this.aggregatesRenderer=e.jqx.get(i,"aggregatesRenderer")),e.jqx.hasProperty(i,"rendered")&&(this.rendered=e.jqx.get(i,"rendered")),e.jqx.hasProperty(i,"exportable")&&(this.exportable=e.jqx.get(i,"exportable")),e.jqx.hasProperty(i,"nullable")&&(this.nullable=e.jqx.get(i,"nullable")),e.jqx.hasProperty(i,"columnGroup")&&(this.columngroup=e.jqx.get(i,"columnGroup")),!i instanceof String&&"string"!=typeof i)for(var s in i)if(!this.hasOwnProperty(s)&&!this.hasOwnProperty(s.toLowerCase()))throw t.host.remove(),new Error("jqxDataTable: Invalid property name - "+s+".")}},this._initfields(i),this}e.jqx.jqxWidget("jqxDataTable","",{}),e.extend(e.jqx._jqxDataTable.prototype,{defineInstance:function(){var t={altRows:!1,aggregatesHeight:34,autoShowLoadElement:!0,autoRowHeight:!0,columnsHeight:36,columns:[],columnGroups:null,columnsResize:!1,columnsReorder:!1,dataview:null,disabled:!1,editable:!1,editSettings:{saveOnPageChange:!0,saveOnBlur:!0,saveOnSelectionChange:!0,cancelOnEsc:!0,saveOnEnter:!0,editSingleCell:!1,editOnDoubleClick:!0,editOnF2:!0},enableHover:!0,enableBrowserSelection:!1,filterHeight:35,filterable:!1,filterMode:"default",groupsRenderer:null,groups:new Array,headerZIndex:359,height:null,handleKeyboardNavigation:null,indentWidth:25,initRowDetails:!1,loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed.",localization:null,pagerHeight:40,pageSize:10,pageSizeOptions:["5","10","20"],pageable:!1,pagerPosition:"bottom",pagerMode:"default",pageSizeMode:"default",pagerButtonsCount:5,pagerRenderer:null,ready:null,rendertoolbar:null,rowDetails:!1,renderStatusBar:null,rendered:null,rendering:null,rtl:!1,sortable:!1,showtoolbar:!1,showstatusbar:!1,statusBarHeight:34,serverProcessing:!1,selectionMode:"multiplerows",scrollBarSize:e.jqx.utilities.scrollBarSize,touchScrollBarSize:e.jqx.utilities.touchScrollBarSize,showAggregates:!1,showHeader:!0,maxHeight:999999,maxWidth:999999,autoBind:!0,beginEdit:null,endEdit:null,autokoupdates:!0,columnsVirtualization:!1,exportSettings:{columnsHeader:!0,hiddenColumns:!1,serverURL:null,characterSet:null,collapsedRecords:!1,recordsInView:!0,fileName:"jqxDataTable"},source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},toolbarHeight:34,tableZIndex:369,_updating:!1,touchmode:"auto",enableSanitizeAll:!1,width:null,that:this,incrementalSearch:!0,events:["bindingComplete","sort","filter","pageChanged","pageSizeChanged","rowClick","rowDoubleClick","cellValueChanged","rowBeginEdit","rowEndEdit","rowSelect","rowUnselect","rowCheck","rowUncheck","columnResized","columnReordered","rowExpand","rowCollapse","cellBeginEdit","cellEndEdit"]};return this===e.jqx._jqxDataTable.prototype||(e.extend(!0,this,t),this.that=this),t},createInstance:function(t){var i=this;if(13!=e.jqx.utilities.scrollBarSize&&(i.scrollBarSize=e.jqx.utilities.scrollBarSize),i.isMaterialized()){var s=window.getComputedStyle(i.element),r=s.getPropertyValue("--jqx-grid-column-height"),n=s.getPropertyValue("--jqx-scrollbar-size");r&&36===this.columnsHeight&&(i.columnsHeight=parseInt(r))}if(n&&(i.scrollbarsize=n,e.jqx.utilities.scrollBarSize=n),"table"==i.element.nodeName.toLowerCase()||e(i.element).children("table").length>0){var o=i.host.find("tbody tr"),a=i.host.find("th"),l=new Array;0===a.length&&(a=o[0],o.splice(0,1)),i.localizestrings&&(i.localizestrings(),null!=i.localization&&i.localizestrings(i.localization,!1));for(var h=[],d=0;d<o.length;d++){for(var c=o[d],u={},p=0;p<a.length;p++){var m=e.trim(e(a[p]).text());if(0===d){var f={name:m};if(i.columns[p]&&i.columns[p].cellsFormat){var g=i.columns[p].cellsFormat.toLowerCase();-1==g.indexOf("p")&&-1==g.indexOf("c")&&-1==g.indexOf("n")&&-1==g.indexOf("f")||(f.type="number"),-1==g.indexOf("d")&&-1==g.indexOf("m")&&-1==g.indexOf("y")&&-1==g.indexOf("h")&&-1==g.indexOf("m")&&-1==g.indexOf("s")&&-1==g.indexOf("t")||(f.type="date")}l.push(f)}var v=e(c).find("td:eq("+p+")");if(l[p].type){var x=i.getvaluebytype(e.trim(v.text()),l[p]);u[m]=x}else u[m]=e.trim(v.text())}h[h.length]=u}i.host.wrap("<div></div>");var b=i.host.parent(),y=i.host.data();y.jqxDataTable.host=b,y.jqxDataTable.element=b[0],i.host.parent()[0].id=i.element.id;try{i.host.parent()[0].style=i.element.style}catch(e){}i.element=b[0],i.host=b,i.host.data(y);var w={dataFields:l,localdata:h,datatype:"array"},_=new e.jqx.dataAdapter(w);i.source=_}i.source&&!i.source.dataBind&&(i.source=new e.jqx.dataAdapter(i.source));var q=i.source._source.datafields;q&&q.length>0&&(i._camelCase=void 0!==i.source._source.dataFields,i.selectionMode=i.selectionMode.toLowerCase()),null==i.host.attr("tabindex")&&i.host.attr("tabindex","0"),i.host.attr("role","grid"),i.host.attr("align","left"),i.host.addClass(i.toTP("jqx-datatable")),i.host.addClass(i.toTP("jqx-grid")),i.host.addClass(i.toTP("jqx-reset")),i.host.addClass(i.toTP("jqx-rc-all")),i.host.addClass(i.toTP("jqx-widget")),i.host.addClass(i.toTP("jqx-widget-content")),i._testmodules()||(i.render(!0),e.jqx.utilities.resize(i.host,(function(){var t=e(window).width(),s=e(window).height(),r=i.host.width(),n=i.host.height();i._lastHostWidth==r&&i._lastHostHeight==n||i._updatesize(i._lastHostWidth!=r,i._lastHostHeight!=n),i._lastWidth=t,i._lastHeight=s,i._lastHostWidth=r,i._lastHostHeight=n})))},getvaluebytype:function(t,i){var s=t;if(null==t)return t;if(","==this.gridlocalization.decimalseparator&&t.indexOf(this.gridlocalization.decimalseparator)>=0&&(t=t.replace(this.gridlocalization.decimalseparator,".")),t.indexOf(this.gridlocalization.currencysymbol)>=0&&(t=t.replace(this.gridlocalization.currencysymbol,"")),t.indexOf(this.gridlocalization.percentagesymbol)>=0&&(t=t.replace(this.gridlocalization.percentagesymbol,"")),e.isArray(t)&&"array"!=i.type){for(var r=0;r<t.length;r++)t[r]=this.getvaluebytype(t[r],i);return t}if("date"==i.type)if("NaN"==t)t="";else{var n=new Date(t);if("string"==typeof t&&i.format){var o=e.jqx.dataFormat.parsedate(t,i.format);null!=o&&(n=o)}null==(t=("NaN"==n.toString()||"Invalid Date"==n.toString())&&e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(t):n)&&(t=s)}else if("float"==i.type||"number"==i.type||"decimal"==i.type)if("NaN"==t)t="";else{t=parseFloat(t);isNaN(t)&&(t=s)}else if("int"==i.type||"integer"==i.type){t=parseInt(t);isNaN(t)&&(t=s)}else"bool"!=i.type&&"boolean"!=i.type||(null!=t&&null!=t.toLowerCase&&("false"==t.toLowerCase()?t=!1:"true"==t.toLowerCase()&&(t=!0)),t=1==t||(0!=t||""===t)&&"");return t},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove(),this.dataloadelement=e('<div class="jqx-datatable-load" style="z-index: 99998; background-color:rgba(50,50,50,0.1); overflow: hidden; position: absolute;"></div>');var t=e('<div style="z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"><div style="float: left;"><div style="float: left; overflow: hidden; width: 32px; height: 32px;" class="jqx-grid-load"></div><span style="margin-top: 10px; float: left; display: block; margin-left: 5px;" >'+this.gridlocalization.loadtext+"</span></div></div>");if(t.addClass(this.toTP("jqx-rc-all")),this.dataloadelement.addClass(this.toTP("jqx-rc-all")),t.addClass(this.toTP("jqx-fill-state-normal")),this.dataloadelement.append(t),this.dataloadelement.width(this.width),this.dataloadelement.height(this.height),this.host.prepend(this.dataloadelement),""!=this.source._source.url){var i=!1;("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(i=!0),i?(this.host.height(100),this.dataloadelement.height(100)):(this.host.height(this.height),this.dataloadelement.height(this.height));var s=!1;("auto"===this.width||null===this.width||this.autoWidth)&&(s=!0),s?(this.host.width(300),this.dataloadelement.width(300)):(this.host.width(this.width),this.dataloadelement.width(this.width))}},_measureElement:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>measure Text</span>");i.addClass(this.toTP("jqx-widget")),e(document.body).append(i),"cell"==t?this._cellheight=i.height():this._columnheight=i.height(),i.remove()},_testmodules:function(){var t="",i=this,s=function(){""!=t.length&&(t+=",")};if(this.host.jqxScrollBar||(s(),t+=" jqxscrollbar.js"),this.host.jqxButton||(s(),t+=" jqxbuttons.js"),e.jqx.dataAdapter||(s(),t+=" jqxdata.js"),""!=t||this.editable||this.filterable||this.pageable){var r=[];if((this.filterable&&"simple"!=this.filterMode||"advanced"==this.pagerMode&&this.pageable)&&function(e){switch(e){case"checkbox":i.host.jqxCheckBox||r.checkbox||(r.checkbox=!0,s(),t+=" jqxcheckbox.js");break;case"dropdownlist":i.host.jqxDropDownList||r.dropdownlist?i.host.jqxListBox||r.listbox||(s(),r.listbox=!0,t+=" jqxlistbox.js"):(s(),r.dropdownlist=!0,t+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}}("dropdownlist"),""!=t)throw new Error("jqxDataTable: Missing references to the following module(s): "+t)}return!1},focus:function(){try{this.wrapper.focus(),this.host.focus();var e=this;setTimeout((function(){e.wrapper.focus(),e.host.focus()}),25),this.focused=!0}catch(e){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},isBindingCompleted:function(){return!this._loading},_updatesize:function(t,i){if(!this._loading){var s=this,r=s.host.width(),n=s.host.height();s._oldWidth||(s._oldWidth=r),s._oldHeight||(s._oldHeight=n),null!=s._resizeTimer&&(clearTimeout(s._resizeTimer),s._resizeTimer=null);var o=function(){s._resizeTimer&&clearTimeout(s._resizeTimer),s.resizingGrid=!0,e.jqx.isHidden(s.host)||(s._updatecolumnwidths(),s.refresh(),s._oldWidth=r,s._oldHeight=n,s.resizingGrid=!1)};o(),s._resizeTimer=setTimeout((function(){var e=s.host.width(),t=s.host.height();s._oldWidth==e&&s._oldHeight==t||o()}),300)}},resize:function(e,t){null!=e&&(this.width=e),null!=t&&(this.height=t),this._updatecolumnwidths(),this.refresh()},isTouchDevice:function(){if(null!=this.touchDevice)return this.touchDevice;var t=e.jqx.mobile.isTouchDevice();return this.touchDevice=t,1==this.touchmode?(t=!0,e.jqx.mobile.setMobileSimulator(this.table[0]),this.touchDevice=t):0==this.touchmode&&(t=!1),t&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollBarSize=this.touchScrollBarSize),t},toTP:function(e){return this.toThemeProperty(e)},localizestrings:function(t,i){if(this._cellscache=new Array,e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache(),this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(null!=t){for(var s in t)s.toLowerCase()!==s&&(t[s.toLowerCase()]=t[s]);for(var r=["pagergotopagestring","pagershowrowsstring","pagerrangestring","pagernextbuttonstring","pagerpreviousbuttonstring","pagerfirstbuttonstring","pagerlastbuttonstring","toppagerstring","firstDay","days","months","AM","PM","patterns","percentsymbol","currencysymbol","currencysymbolposition","decimalseparator","thousandsseparator","filterapplystring","filteraddnew","filtercancelstring","filterclearstring","filterstring","filterstringcomparisonoperators","filternumericcomparisonoperators","filterdatecomparisonoperators","filterbooleancomparisonoperators","emptydatastring","filterselectstring","todaystring","clearstring","validationstring","loadtext","filtersearchstring","loadingErrorMessage"],n=0;n<r.length;n++){var o=r[n];void 0!==t[o]&&(this.gridlocalization[o]=t[o])}t.loadingErrorMessage&&(this.loadingErrorMessage=t.loadingErrorMessage),!1!==i&&(this._builddataloadelement(),e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none"))}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",filterapplystring:"Apply",filtercancelstring:"Cancel",filterclearstring:"Clear Filter",filterstring:"advanced",filtersearchstring:"Search:",filterstringcomparisonoperators:["empty","not empty","contains","contains(match case)","does not contain","does not contain(match case)","starts with","starts with(match case)","ends with","ends with(match case)","equal","equal(match case)","null","not null"],filternumericcomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterdatecomparisonoperators:["equal","not equal","less than","less than or equal","greater than","greater than or equal","null","not null"],filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",loadingErrorMessage:"The data is still loading and you cannot set a property or call a method. You can do that once the data binding is completed. jqxDataTable raises the 'bindingComplete' event when the binding is completed."}},_updateScrollbars:function(e){var t=!1;("auto"===this.width||null===this.width||this.autowidth)&&999999==this.maxWidth&&(t=!0);var i=parseInt(this.scrollBarSize),s=this.table?this.table.height():0,r=0,n="inherit",o=this.vScrollBar[0].style.visibility;this.hScrollBar[0].style.visibility;if(e)a=e;else var a=this.host.height();this.columnGroups?a-=this.showHeader?this.columnsheader.height():0:a-=this.showHeader?this.columnsHeight:0,this.filterable&&(a-=this.filter.height()),this.pageable&&(a-=this.pagerHeight,"both"===this.pagerPosition&&(a-=this.pagerHeight)),this.showtoolbar&&(a-=this.toolbarHeight),this.showstatusbar&&(a-=this.statusBarHeight),this.showAggregates&&(a-=this.aggregatesHeight);var l=!1;if(("auto"===this.height||null===this.height||this.autoheight)&&999999==this.maxHeight&&(l=!0),!l&&s>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)?(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-a})):this.vScrollBar[0].style.visibility="hidden",o!=this.vScrollBar[0].style.visibility){this._updatecolumnwidths();var h=this.table.height();s!=h&&(s=h,!l&&s>a&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)&&(this.vScrollBar[0].style.visibility=n,r=4+parseInt(i),this.vScrollBar.jqxScrollBar({max:s-a})))}0==this.scrollBarSize&&(r=0);var d=this.table?this.table.width():0;d>3&&(d-=3);var c=parseInt(this.host.css("border-left-width"))+parseInt(this.host.css("border-right-width")),u=c+this.host.width()-r;if(d>u&&!t){if(this.hScrollBar[0].style.visibility=n,this.hScrollBar.jqxScrollBar({max:d-u}),r=4+parseInt(i),0==i&&(r=0),!l){if(s>a-r+4&&(this.source.records.length>0||this.source.hierarchy&&this.source.hierarchy.length>0)){this.hScrollBar.jqxScrollBar({max:c+d-u});var p="hidden"===this.vScrollBar[0].style.visibility;this.vScrollBar[0].style.visibility=n,this._updatecolumnwidths(),p&&this.hScrollBar.jqxScrollBar({max:d-u+r+c});var m=this.table?this.table.width():0;m>3&&(m-=3),m!=d&&m<u&&(this.hScrollBar.jqxScrollBar({max:c+m-u}),this.hScrollBar[0].style.visibility="hidden",r=0)}this.vScrollBar.jqxScrollBar({max:s-a+r})}}else this.hScrollBar[0].style.visibility="hidden";0===this.source.records.length&&this.source.hierarchy&&0===this.source.hierarchy.length&&(this.vScrollBar[0].style.visibility="hidden",this.bottomRight[0].style.visibility="hidden"),"hidden"==this.vScrollBar[0].style.visibility&&0!=this.vScrollInstance.value&&this.vScrollInstance.setPosition(0)},_measureElementWidth:function(t){var i=e("<span style='visibility: hidden; white-space: nowrap;'>"+t+"</span>");i.addClass(this.toTP("jqx-widget")),i.addClass(this.toTP("jqx-grid")),i.addClass(this.toTP("jqx-grid-column-header")),i.addClass(this.toTP("jqx-widget-header")),e(document.body).append(i);var s=i.outerWidth()+20;return i.remove(),s},_arrangeAutoHeight:function(e){if(e||(e=0),"auto"===this.height||null===this.height||this.autoheight){var t=this.table.height(),i=0;if(this.columnGroups?i+=this.showHeader?this.columnsheader.height():-1:i+=this.showHeader?this.columnsHeight:-1,i+=this.showstatusbar?this.statusBarHeight:0,i+=this.showAggregates?this.aggregatesHeight:0,i+=this.showtoolbar?this.toolbarHeight:0,i+=this.pageable?this.pagerHeight:0,"both"===this.pagerPosition&&(i+=this.pageable?this.pagerHeight:0),i+=t,this.filterable){var s=this.filter.find(".filterrow"),r=1;this.filter.find(".filterrow-hidden").length>0&&(r=0),i+=this.filterHeight-1+this.filterHeight*s.length*r}return i+e>this.maxHeight?this.host.height(this.maxHeight):this.host.height(i+e),!0}return!1},escapeHTML:function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};return String(e).replace(/[&<>"'`=\/]/g,(function(e){return t[e]}))},sanitizeHTML:function(e){var t=this,i=new RegExp("<s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)[^>]*>(.*?)<s*/s*(applet|audio|base|bgsound|embed|form|iframe|isindex|keygen|layout|link|meta|object|script|svg|style|template|video)>","ig");return String(e).replace(i,(function(e){return t.escapeHTML(e)}))},escape_HTML:function(e){return this.enableSanitizeAll||e&&(e.indexOf("onclick")>=0||e.indexOf("onload")>=0||e.indexOf("onerror")>=0)?this.escapeHTML(e):this.sanitizeHTML(e)},_arrangeAutoWidth:function(e){if(e||(e=0),"auto"===this.width||null===this.width||this.autowidth){for(var t=0,i=0;i<this.columns.records.length;i++){var s=this.columns.records[i].width;this.columns.records[i].hidden||(t+="auto"==s?s=this._measureElementWidth(this.escape_HTML(this.columns.records[i].text)):s)}var r=t;return r+e>this.maxWidth?this.host.width(this.maxWidth):this.host.width(r+e),!0}return!1},_measureTopAndHeight:function(){var e=this.host.height(),t=0;if(this.showtoolbar&&(t+=this.toolbarHeight,e-=parseInt(this.toolbarHeight)),this.filterable){var i=this.filter.find(".filterrow"),s=1;this.filter.find(".filterrow-hidden").length>0&&(s=0),t+=this.filterHeight,e-=parseInt(this.filterHeight);var r=1==s?i.length:0;t+=this.filterHeight*r,e-=this.filterHeight*r}return this.pageable&&"bottom"!=this.pagerPosition&&(t+=parseInt(this.pagerHeight)+1,e>this.pagerHeight&&"both"===this.pagerPosition&&(e-=parseInt(this.pagerHeight))),{top:t,height:e}},_arrange:function(){if(this.table){this._arrangeAutoHeight(),this._arrangeAutoWidth();var t=this.host.width(),i=this.host.height(),s=i;this.pageable?"bottom"===this.pagerPosition?(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="inherit"):"both"===this.pagerPosition?(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="inherit"):"top"===this.pagerPosition&&(this.toppager[0].style.visibility="inherit",this.pager[0].style.visibility="hidden"):(this.toppager[0].style.visibility="hidden",this.pager[0].style.visibility="hidden");var r=0;if(this.showtoolbar?(this.toolbar.width(t),this.toolbar.height(this.toolbarHeight-1),this.toolbar.css("top",0),r+=this.toolbarHeight,i-=parseInt(this.toolbarHeight)):this.toolbar[0].style.height="0px",this.filterable){this.filter.width(t),this.filter.css("top",r);var n=this.filter.find(".filterrow"),o=1;this.filter.find(".filterrow-hidden").length>0&&(o=0),this.filter.height(this.filterHeight-1+this.filterHeight*n.length*o),r+=this.filterHeight,i-=parseInt(this.filterHeight);var a=1==o?n.length:0;r+=this.filterHeight*a,i-=this.filterHeight*a}if(this.showstatusbar?(this.statusbar.width(this.table?Math.max(t,this.table.width()):t),this.statusbar.height(this.statusBarHeight-1)):this.statusbar[0].style.height="0px",this.showAggregates?this.aggregates.height(this.aggregatesHeight-1):this.aggregates[0].style.height="0px",this.pageable&&"bottom"!=this.pagerPosition)this.toppager[0].style.width=t+"px",this.toppager[0].style.height=parseInt(this.pagerHeight)+"px",this.toppager[0].style.top=parseInt(r)+"px",r+=parseInt(this.pagerHeight)+1,i>this.pagerHeight&&(i-=parseInt(this.pagerHeight));else{this.toppager[0].style.width!=t+"px"&&(this.toppager[0].style.width=parseInt(t)+"px"),this.toppager[0].style.height!=this.pagerHeight+"px"&&(this.toppager[0].style.height=parseInt(this.pagerHeight)+"px"),this.toppager[0].style.top!=r+"px"&&(this.toppager[0].style.top=r+"px");var l=r+("bottom"!=this.pagerPosition?this.pagerHeight:0)+"px";this.content[0].style.top!=l&&(this.content[0].style.top=r+this.pagerHeight+"px")}this._updateScrollbars(s);var h=parseInt(this.scrollBarSize),d=2,c=0;if("hidden"!=this.vScrollBar[0].style.visibility&&(c=h+4),"hidden"!=this.hScrollBar[0].style.visibility&&(d=h+4+2),0==h&&(c=0,d=0),this.showAggregates&&("hidden"===this.hScrollBar[0].style.visibility?this.aggregates.width(this.table?Math.max(t,this.table.width())+4:t):this.aggregates.width("auto")),"hidden"!=this.vScrollBar[0].style.visibility||"hidden"!=this.hScrollBar[0].style.visibility){var u=this._arrangeAutoHeight(d-2),p=this._arrangeAutoWidth(c+1);if(u||p){t=this.host.width();this.toppager[0].style.width=parseInt(t)+"px",this.toolbar[0].style.width=parseInt(t)+"px",this.statusbar[0].style.width=parseInt(t)+"px",this.filter[0].style.width=parseInt(t)+"px"}if(u){var m=this._measureTopAndHeight();r=m.top,i=m.height}}var f=0;this.pageable&&(f=this.pagerHeight,"top"!=this.pagerPosition&&(d+=this.pagerHeight)),this.showAggregates&&(d+=this.aggregatesHeight,f+=this.aggregatesHeight),this.showstatusbar&&(d+=this.statusBarHeight,f+=this.statusBarHeight),this.hScrollBar[0].style.height!=h+"px"&&(this.hScrollBar[0].style.height=parseInt(h)+"px"),this.hScrollBar[0].style.top==r+i-4-h-f+"px"&&"0px"==this.hScrollBar[0].style.left||(this.hScrollBar[0].style.top=r+i-4-h-f-1+"px",this.hScrollBar[0].style.left="0px");var g=this.hScrollBar[0].style.width,v=!1,x=!1;0==c?g!=t-2+"px"&&(this.hScrollBar[0].style.width=t-2+"px",v=!0):g!=t-h-4+"px"&&(this.hScrollBar[0].style.width=t-h-4+"px",v=!0),this.vScrollBar[0].style.width!=h+"px"&&(this.vScrollBar[0].style.width=h+"px",x=!0),this.vScrollBar[0].style.height!=parseInt(i)-d+"px"&&(this.vScrollBar[0].style.height=parseInt(i)-d+"px",x=!0),this.vScrollBar[0].style.left==parseInt(t)-parseInt(h)-4+"px"&&this.vScrollBar[0].style.top==r+"px"||(this.vScrollBar[0].style.top=r+"px",this.vScrollBar[0].style.left=parseInt(t)-parseInt(h)-4+"px"),this.rtl&&(this.vScrollBar.css({left:"0px",top:r}),"hidden"!=this.vScrollBar.css("visibility")&&this.hScrollBar.css({left:h+2}));var b=this.vScrollInstance;b.disabled=this.disabled;var y=this.hScrollInstance;y.disabled=this.disabled,v&&y.refresh(),x&&b.refresh();var w=function(e){"hidden"!=e.vScrollBar[0].style.visibility&&"hidden"!=e.hScrollBar[0].style.visibility?(e.bottomRight[0].style.visibility="inherit",e.bottomRight[0].style.left=1+parseInt(e.vScrollBar.css("left"))+"px",e.bottomRight[0].style.top=parseInt(e.hScrollBar.css("top"))+"px",e.rtl&&e.bottomRight.css("left","0px"),e.bottomRight[0].style.width=parseInt(h)+3+"px",e.bottomRight[0].style.height=parseInt(h)+4+"px",e.showAggregates&&(e.bottomRight.css("z-index",99),e.bottomRight.height(parseInt(h)+4+e.aggregatesHeight),e.bottomRight.css({top:parseInt(e.hScrollBar.css("top"))-e.aggregatesHeight}))):e.bottomRight[0].style.visibility="hidden"};if(w(this),this.content[0].style.width!=t-c+"px"&&(this.content[0].style.width=t-c+"px"),this.content[0].style.height!=i-d+3+"px"&&(this.content[0].style.height=i-d+3+"px"),this.content[0].style.top!=r+"px"&&(this.content[0].style.top=parseInt(r)+"px"),this.rtl&&(this.content.css("left",c),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",c),this.table)){var _=this.table.width();_<t-c&&(this.content.css("left",t-_+2),this.filter&&this.filter.children().length>0&&e(this.filter.children()).css("left",t-_+2))}this.showAggregates&&(this.aggregates.css("top",r+i-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0)),this.rtl&&this.aggregates.css("left","0px"),"hidden"!=this.hScrollBar.css("visibility")&&(this.hScrollBar.css({top:r+i-4-h-f+this.aggregatesHeight+"px"}),this.aggregates.css("top",1+r+i-h-5-this.aggregatesHeight-(this.pageable?this.pagerHeight:0)-(this.showstatusbar?this.statusBarHeight+1:0))),w(this)),this.showstatusbar&&(this.statusbar.css("top",r+i-this.statusBarHeight-(this.pageable?this.pagerHeight:0)),this.rtl&&("hidden"==this.hScrollBar.css("visibility")?this.statusbar.css("left",this.content.css("left")):this.statusbar.css("left","0px"))),this.pageable?(this.pager[0].style.width=t+"px",this.pager[0].style.height=this.pagerHeight+"px",this.pager[0].style.top=parseInt(r)+parseInt(i)-parseInt(this.pagerHeight)-1+"px"):this.pager[0].style.height="0px",this.vScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,this.hScrollBar[0].style.zIndex=this.tableZIndex+this.headerZIndex+10+this.columns.records.length,t!=parseInt(this.dataloadelement[0].style.width)&&(this.dataloadelement[0].style.width=this.element.style.width),i!=parseInt(this.dataloadelement[0].style.height)&&(this.dataloadelement[0].style.height=this.element.style.height),this._hostwidth=t}},scrollOffset:function(e,t){if(0==arguments.length||null!=e&&"object"==typeof e&&!e.top)return{left:this.hScrollBar.jqxScrollBar("value"),top:this.vScrollBar.jqxScrollBar("value")};if(null!=e&&"object"==typeof e){t=e.left;var i=e.top;e=i}null!=e&&null!=t&&null!=e&&null!=t&&(this.vScrollBar.jqxScrollBar("setPosition",e),this.hScrollBar.jqxScrollBar("setPosition",t))},scrollleft:function(e){null!=e&&null!=e&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",e)},scrolltop:function(e){null!=e&&null!=e&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",e)},beginUpdate:function(){this._updating=!0,this._datachanged=!1},endUpdate:function(e){this._updating=!1,!1!==e&&(this._rendercolumnheaders(),this.refresh())},updating:function(){return this._updating},databind:function(t,i,s){if(!0!==this.loadingstate){var r=window;"block"==this.host.css("display")&&(this.autoShowLoadElement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height())):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));var n=this;null==t&&(t={}),null!=t.sortcomparer&&null!=t.sortcomparer||(t.sortcomparer=null),null!=t.filter&&null!=t.filter||(t.filter=null),null!=t.sort&&null!=t.sort||(t.sort=null),null!=t.data&&null!=t.data||(t.data=null);if(null!=t&&(null!=t._source?t._source.url:t.url),this.dataview=this.dataview||new e.jqx.dataView,this.dataview.pageable=this.pageable,this.dataview.grid=this,!n.initializedcall){if(t._source&&this.sortable&&(null!=t._source.sortcolumn&&(this.sortcolumn=t._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=t._source.sortcolumn,t._source.sortcolumn=null),null!=t._source.sortdirection)){this.dataview.sortfielddirection=t._source.sortdirection;var o=t._source.sortdirection;if("a"==o||"asc"==o||"ascending"==o||1==o)var a=!0;else a=!1;this.sortdirection=null!=o?{ascending:a,descending:!a}:{ascending:!1,descending:!1}}this.pageable&&t._source&&(null!=t._source.pagenum&&(this.dataview.pagenum=t._source.pagenum),null!=t._source.pagesize?(this.pageSize=t._source.pagesize,this.dataview.pagesize=t._source.pagesize):(this.dataview.pagesize=t._source.pagesize,null==this.dataview.pagesize&&(this.dataview.pagesize=this.pageSize))),this.sortable&&(t.sortcolumn&&(this.dataview.sortfield=t.sortcolumn),t.sortdirection&&(this.dataview.sortfielddirection=t.sortdirection))}this._loading=!0,this.dataview.update=function(t){n._loading=!1,n.rowsByKey=new Array;var o=n.source._source.datafields;if(n.groups&&n.groups.length>0){var a=Object.prototype.toString,l=n.groups[0];if(Object.prototype.toString="function"==typeof l?l:function(){return this[l]},!n.source.records.sort){var h=new Array,d=0,c={};e.each(c,(function(){h[0+d++]=this})),c=h}n.source.records.sort((function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof s){if(s<r)return-1;if(s>r)return 1}return 0})),Object.prototype.toString=a}for(var u=0;u<n.source.records.length;u++){var p=n.source.records[u];if(n.rowsByKey[p.uid]=p,p.records&&p.records.length>0){var m=function(e){for(var t=0;t<e.length;t++)e[t]&&(n.rowsByKey[e[t].uid]=e[t],e[t].records&&e[t].records.length>0&&m(e[t].records))};m(p.records)}if(0===u){var f=!1;if(o)for(var g=0;g<o.length;g++)if(o[g]&&!o[g].type){f=!0,o[g].type="string";var v=p[o[g].name];if(null==v)continue;if(!0!==v&&!1!==v||(o[g].type="boolean"),null!=v&&v.toString().indexOf(n.gridlocalization.currencysymbol)>-1||v.toString().indexOf(n.gridlocalization.percentsymbol)>-1){var x=v.toString().split(" ").length,b=new Number(n._toNumber(v.toString()));isNaN(b)||1!=x||(o[g].type="number")}(e.jqx.dataFormat.isNumber(v)||!isNaN(parseFloat(v))&&isFinite(v))&&(o[g].type="number"),e.jqx.dataFormat.isDate(v)&&(o[g].type="date")}if(f)for(g=0;g<o.length;g++){var y=n.source.getvaluebytype(p[o[g].name],o[g]);if(null!=y&&"number"==o[g].type){var w=y;w=new Number(n._toNumber(w.toString())),isNaN(w)||(y=w)}p[o[g].name]=y}}}if("pager"===i||"filter"===i||"sort"===i?n.refresh():n._render(),n.autoShowLoadElement&&!n._loading&&(e(n.dataloadelement).css("visibility","hidden"),e(n.dataloadelement).css("display","none")),n.pageable&&(n.disabled||n.pagernexttop&&(n.pagerfirsttop.jqxButton({disabled:!1}),n.pagerfirstbottom.jqxButton({disabled:!1}),n.pagerlasttop.jqxButton({disabled:!1}),n.pagerlastbottom.jqxButton({disabled:!1}),n.pagernexttop.jqxButton({disabled:!1}),n.pagerprevioustop.jqxButton({disabled:!1}),n.pagershowrowscombotop.jqxDropDownList&&"advanced"==n.pagerMode&&(n.pagershowrowscombotop.jqxDropDownList({disabled:!1}),n.pagershowrowscombobottom.jqxDropDownList({disabled:!1})),n.pagernextbottom.jqxButton({disabled:!1}),n.pagerpreviousbottom.jqxButton({disabled:!1}))),n._updateTouchScrolling(),n._raiseEvent("bindingComplete"),s&&s(),!n.initializedcall){if(n.initializedcall=!0,n.isInitialized=!0,n.ready&&n.ready(),(null!=n.width&&-1!=n.width.toString().indexOf("%")||null!=n.height&&-1!=n.height.toString().indexOf("%"))&&n._updatesize(!0),n._rendercelltexts&&n._rendercelltexts(),n._gridRenderElement){e(n._gridRenderElement).show("slow");var _=6e3+Math.floor(4e3*Math.random()+1),q=String.fromCharCode(83,69,84).toLowerCase()+"-"+String.fromCharCode(84,73,77,69,79,85,84).toLowerCase();r[e.camelCase(q)]((function(){e(n._gridRenderElement).hide("slow",(function(){e(n._gridRenderElement).remove()}))}),_)}if("hidden"==n.host.css("visibility")){e.jqx.browser.msie&&e.jqx.browser.version;"visible"==n.vScrollBar.css("visibility")&&n.vScrollBar.css("visibility","inherit"),"visible"==n.hScrollBar.css("visibility")&&n.hScrollBar.css("visibility","inherit"),n._intervalTimer=setInterval((function(){"visible"==n.host.css("visibility")&&(n._updatesize(!0),clearInterval(n._intervalTimer))}),100)}}},this.dataview.databind(t)}},_raiseEvent:function(t,i){null==i&&(i={owner:null});var s=t,r=i;r.owner=this;var n=new e.Event(s);n.owner=this,n.args=r;var o=this.host.trigger(n);return i=n.args,o},ensureColumnVisible:function(e){for(var t=0,i=0,s=0;s<this.columns.records.length;s++){if(this.columns.records[s].datafield==e){t+=this.columns.records[s].width,i=this.columns.records[s].width;break}t+=this.columns.records[s].width}if("hidden"!=this.hScrollBar.css("visibility")){var r=this.hScrollBar.jqxScrollBar("value"),n=r+this.host.width();r>t-i?this.hScrollBar.jqxScrollBar("setPosition",t-i):t>n&&this.hScrollBar.jqxScrollBar("setPosition",r+t-n)}},ensurerowvisiblebykey:function(t){if("hidden"===this.vScrollBar[0].style.visibility)return!1;var i=this._getuirow(t);if(i){var s=this.vScrollBar.jqxScrollBar("value"),r=this.host.height(),n=0;this.columnGroups?n+=this.showHeader?this.columnsheader.height():0:n+=this.showHeader?this.columnsHeight:0,this.filterable&&(n+=this.filter.height()),this.pageable&&"top"===this.pagerPosition&&(n+=this.pagerHeight),this.showtoolbar&&(n+=this.toolbarHeight),r-=n,this.pageable&&"top"!==this.pagerPosition&&(r-=this.pagerHeight),this.showstatusbar&&(r-=this.statusBarHeight),this.showAggregates&&(r-=this.aggregatesHeight),"hidden"!=this.hScrollBar.css("visibility")&&(r-=20);var o=this.host.coord().top+n,a=s,l=r+a,h=i.coord().top+s-o,d=(h=Math.round(h))+i.outerHeight();if(d=Math.round(d),0===Math.round(i.position().top))return this.vScrollBar.jqxScrollBar("setPosition",0);var c=e(this._table.children()[1]).children().length-1,u=this._getuikey(c),p=this._getuirow(u);if(p&&p[0]===i[0])return this.vScrollBar.jqxScrollBar("setPosition",this.vScrollBar.jqxScrollBar("max"));if(h<a){var m=h-i.height();return m<0&&(m=0),this.vScrollBar.jqxScrollBar("setPosition",m)}return d>l?this.vScrollBar.jqxScrollBar("setPosition",4+d-r):void 0}},ensureRowVisible:function(e){var t=this._getkey(e);this.ensurerowvisiblebykey(t)},getColumn:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,(function(){if(this.datafield==t||this.displayfield==t)return i=this,!1})),i},_setcolumnproperty:function(e,t,i){if(null==e||null==t||null==i)return null;var s=t;t=t.toLowerCase();var r=this.getColumn(e);if(null!=r){r[t];r[t]=i,r[s]=i;var n=this.getColumn(e);switch(null!=n&&(n[t]=i),t){case"filteritems":case"text":case"editable":case"resizable":case"draggable":case"hidden":case"hideable":case"renderer":case"cellsrenderer":case"align":case"aggregates":case"cellsalign":case"cellsformat":case"pinned":case"contenttype":case"filterable":case"groupable":case"cellclass":case"cellclassname":case"class":case"width":case"minwidth":case"maxwidth":"align"==t||"text"==t||"class"==t||"hidden"==t||"pinned"==t||"resizable"==t||"renderer"==t?(this._rendercolumnheaders(),this.refresh()):"width"==t||"maxwidth"==t||"minwidth"==t?(r._width=null,r._percentagewidth=null,this._updatecolumnwidths(),this.refresh()):this.refresh()}}},getColumnProperty:function(e,t){return null==e||null==t?null:(t=t.toLowerCase(),this.getColumn(e)[t])},setColumnProperty:function(e,t,i){this._setcolumnproperty(e,t,i)},hideColumn:function(e){this._setcolumnproperty(e,"hidden",!0)},showColumn:function(e){this._setcolumnproperty(e,"hidden",!1)},updateBoundData:function(e,t){this.databind(this.source,e,t)},refresh:function(t){if(1!=t){if(e.jqx.isHidden(this.host))return;this.vScrollInstance.setPosition(0),this._renderrows(),this.updatepagerdetails(),this._arrange(),this._arrangeFilterRow&&this._arrangeFilterRow(),this._renderhorizontalscroll(),this._showicons(),this.showAggregates&&this._updateaggregates(),this._updateTouchScrolling()}},_rendercelltexts:function(){if("10208878-FCD1-4EC7-9249-BA0F153A5DE8"!==e.jqx.credits){var t="www.jqwidgets.com";if(-1==location.hostname.indexOf(t.substring(4))){this._gridRenderElement&&e(this._gridRenderElement).remove();var i=String.fromCharCode(83,80,65,78),s=String.fromCharCode(72,84,84,80,58,47,47),r=document.createElement(i);r.id=e.jqx.utilities.createId(),r.innerHTML=t,r.style.position="absolute",r.style.right="5px",r.style.bottom="5px",r.style.color="#909090",r.style.cursor="pointer",r.style.zIndex="999999",r.style.display="none",r.style.fontSize="9px",r.onmousedown=function(){open(s+t)},this.content[0].appendChild(r),this._gridRenderElement=r}}},_updateTouchScrolling:function(){var t=this.that;if(t.isTouchDevice()){var i=e.jqx.mobile.getTouchEventName("touchstart"),s=e.jqx.mobile.getTouchEventName("touchend"),r=e.jqx.mobile.getTouchEventName("touchmove");t.table&&(t.removeHandler(t.table,i+".touchScroll"),t.removeHandler(t.table,r+".touchScroll"),t.removeHandler(t.table,s+".touchScroll"),t.removeHandler(t.table,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(t.table[0],Math.max(t.vScrollInstance.max,t.hScrollInstance.max),(function(e,i){if(null!=i&&"hidden"!=t.vScrollBar.css("visibility")){t.vScrollInstance.value;t.vScrollInstance.setPosition(i)}if(null!=e&&"hidden"!=t.hScrollBar.css("visibility")){t.hScrollInstance.value;t.hScrollInstance.setPosition(e)}t.scrolled=new Date,t.vScrollInstance.thumbCapture=!0}),this.element.id,this.hScrollBar,this.vScrollBar))}},_showicons:function(){if(this.table)for(var t=0;t<this.columns.records.length;t++){var i=this.columns.records[t];if(e(i.filtericon).hide(),e(i.sortasc).hide(),e(i.sortdesc).hide(),"simple"!==this.filterMode)for(var s=0;s<this.dataview.filters.length;s++){if(this.dataview.filters[s].datafield===i.displayfield){e(i.filtericon).show();break}}if(null!==this.sortcolumn&&this.sortcolumn===i.displayfield&&null!=this.sortdirection&&(this.sortdirection.ascending?e(i.sortasc).show():e(i.sortdesc).show()),"left"!=i.align&&"center"!=i.align&&!this.rtl||this.rtl&&"right"!=i.align&&"center"!=i.align){var r=e.jqx.isHidden(e(i.filtericon))?0:16;r+=e.jqx.isHidden(e(i.sortasc))?0:16,r+=e.jqx.isHidden(e(i.sortdesc))?0:16;var n=e(e(e(i.element).children()[0]).children()[0]);this.rtl?r>0?n.css("margin-left",4+r+"px"):n.css("margin-left","4px"):r>0?n.css("margin-right",4+r+"px"):n.css("margin-right","4px")}}},render:function(t){var i="<div style='overflow: hidden; -webkit-appearance: none; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'><div id='wrapper"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'><div id='toolbar' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='toppager' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='filter' style='visibility: hidden; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='content"+this.element.id+"' style='overflow: hidden; -webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; margin-left: 0px; margin-top: 0px; margin-right: 0px; margin-bottom: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='verticalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='horizontalScrollBar"+this.element.id+"' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='bottomRight' style='align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'></div><div id='aggregates' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='statusbar' style='align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div><div id='pager' style='z-index: 20; align:left; valign:top; left: 0px; top: 0px; position: absolute;'></div></div></div>";this.element.innerText="",this.element.innerHTML=i,this.wrapper=this.host.find("#wrapper"+this.element.id),this.content=this.host.find("#content"+this.element.id),this.content.addClass(this.toTP("jqx-reset"));var s=this.host.find("#verticalScrollBar"+this.element.id),r=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal")),this.vScrollBar&&this.vScrollBar.jqxScrollBar("destroy"),this.hScrollBar&&this.hScrollBar.jqxScrollBar("destroy"),this.vScrollBar=s.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.hScrollBar=r.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,theme:this.theme,_triggervaluechanged:!1}),this.vScrollBar.css("visibility","hidden"),this.hScrollBar.css("visibility","hidden"),this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance,this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance,this.filter=this.host.find("#filter"),this.filter[0].id="filter"+this.element.id,this.filter.addClass(this.toTP("jqx-widget-header")),this.filter.addClass(this.toTP("jqx-grid-toolbar")),this.pager=this.host.find("#pager"),this.pager[0].id="pager"+this.element.id,this.toolbar=this.host.find("#toolbar"),this.toolbar[0].id="toolbar"+this.element.id,this.toolbar.addClass(this.toTP("jqx-grid-toolbar")),this.toolbar.addClass(this.toTP("jqx-widget-header")),this.aggregates=this.host.find("#aggregates"),this.aggregates[0].id="aggregates"+this.element.id,this.aggregates.addClass(this.toTP("jqx-grid-statusbar")),this.aggregates.addClass(this.toTP("jqx-widget-header")),this.statusbar=this.host.find("#statusbar"),this.statusbar[0].id="statusbar"+this.element.id,this.statusbar.addClass(this.toTP("jqx-grid-statusbar")),this.statusbar.addClass(this.toTP("jqx-widget-header")),this.pager.addClass(this.toTP("jqx-grid-pager")),this.pager.addClass(this.toTP("jqx-widget-header")),this.toppager=this.host.find("#toppager"),this.toppager.addClass(this.toTP("jqx-grid-pager-top")),this.toppager.addClass(this.toTP("jqx-widget-header")),this.gridtable=null,this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1)),this._builddataloadelement(),this._cachedcolumns=this.columns;var n=this.source.datafields;if(null==n&&this.source._source&&(n=this.source._source.datafields),n)for(var o=0;o<this.columns.length;o++){var a=this.columns[o];if(a&&a.cellsFormat&&a.cellsFormat.length>2)for(var l=0;l<n.length;l++)if(n[l].name==a.datafield&&!n[l].format){n[l].format=a.cellsFormat;break}}this.databind(this.source),this.showtoolbar&&this.toolbar.css("visibility","inherit"),this.showstatusbar&&this.statusbar.css("visibility","inherit"),this.showAggregates&&this.aggregates.css("visibility","inherit"),this.tableheight=null;var h=this;this.removeHandler(this.content,"scroll"),this.removeHandler(this.content,"mousedown"),this.addHandler(this.content,"scroll",(function(e){return h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0),h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0),!1})),!0!==t&&this._render()},_render:function(){var t=this;if(null!=t.dataview&&!t._loading){(25!=t.columnsHeight||t.columnGroups)&&t._measureElement("column"),t.filterable?t.filter[0].style.visibility="inherit":t.filter[0].style.visibility="hidden",t.rowinfo=new Array,t._removeHandlers(),null==t.columns?t.columns=new e.jqx.dataCollection(t.element):t._initializeColumns();var i=!1,s=!1;null!=t.width&&-1!=t.width.toString().indexOf("%")&&(i=!0),i?t.element.style.width=t.width:t.host.width(t.width),null!=t.height&&-1!=t.height.toString().indexOf("%")&&(s=!0),s?t.element.style.height=t.height:t.host.height(t.height),t._lastHostWidth=t.host.width(),t._lastHostHeight=t.host.height(),e.jqx.utilities.html(t.content,""),t.columnsheader=t.columnsheader||e('<div style="overflow: hidden;"></div>'),t.columnsheader.remove(),t.columnsheader.addClass(t.toTP("jqx-widget-header")),t.columnsheader.addClass(t.toTP("jqx-grid-header")),t.showHeader?t.columnsheader&&t.columnsheader.css("display","block"):t.columnsheader.css("display","none"),t.gridcontent=t.gridcontent||e('<div style="width: 100%; overflow: hidden; position: absolute;"></div>'),t.gridcontent.remove();var r=t.columnsHeight;r=t._preparecolumnGroups(),t.columnsheader.height(r),t.content.append(t.columnsheader),t.content.append(t.gridcontent),t._rendercolumnheaders(),t.tableheight=null,t.gridcontent.find("#contenttable"+t.element.id).remove(),null!=t.table&&(t.table.remove(),t.table=null),t.table=e('<div id="contenttable'+t.element.id+'" style="overflow: hidden; position: relative;"></div>'),t.gridcontent.addClass(t.toTP("jqx-grid-content")),t.gridcontent.addClass(t.toTP("jqx-widget-content")),t.gridcontent.append(t.table),t._renderrows(),t.filterable&&t._renderfilter(),t.pageable&&t._initpager(),t._arrange(),t.renderStatusBar&&t.renderStatusBar(t.statusbar),t.rendertoolbar&&t.rendertoolbar(t.toolbar),t.showAggregates&&t._updateaggregates(),t.disabled&&t.host.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t._renderhorizontalscroll(),t._showicons(),t._addHandlers()}},clear:function(){this.source&&(this.source.records=new Array,this.source.hierarchy=new Array),this.dataview._filteredData=new Array,this.databind(null),this._render()},_initpager:function(){var t=this.gridlocalization.pagergotopagestring,i=(this.gridlocalization.pagerrangestring,this.gridlocalization.pagershowrowsstring),s=(this.pagerHeight-28)/2;if(this.pagerdiv=this.pagerdiv||e('<div style="line-height: 28px; width: 100%; height: 100%; position: relative;"></div>'),this.toppagerdiv=this.toppagerdiv||e('<div style="line-height: 28px; width: 100%; height: 100%; position: relative;"></div>'),!this.pageable)return this.pagerdiv.remove(),void this.toppagerdiv.remove();if(this.pagerRenderer){var r;this.pagerdiv.children().remove(),this.toppager.children().remove(),null!=(r=this.pagerRenderer())&&this.pagerdiv.append(e(r)),this.pager.append(this.pagerdiv),null!=(r=this.pagerRenderer())&&this.toppagerdiv.append(e(r)),this.toppager.append(this.toppagerdiv)}else{this.pagerdiv.css("top",s),this.toppagerdiv.css("top",s);var n=function(s,r){var n=this,o=e('<div style="margin-right: 12px; height: 28px; float: right;"><input style="height:100%; box-sizing: border-box; text-align: right; width: 36px;" type="text"/></div>'),a=e('<div style="float: right; margin-right: 7px;"></div>'),l=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),h=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),d=e('<div type="button" style="margin-left: 3px; padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),c=e('<div type="button" style="padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"></div>'),u=e('<div style="margin-right: 7px; float: right;"></div>'),p=e('<div style="margin-right: 7px; float: right;"></div>'),m=e('<div style="padding-bottom: 3px; margin-right: 3px; float: right;"></div>');o.attr("disabled",n.disabled);var f=e('<div id="gridpagerlist" style="margin-top: 0px; margin-right: 7px; float: right;"></div>');if(f[0].id="gridpagerlist"+r+n.element.id,n.removeHandler(l,"mousedown"),n.removeHandler(l,"mouseup"),n.removeHandler(l,"click"),n.removeHandler(h,"mousedown"),n.removeHandler(h,"mouseup"),n.removeHandler(h,"click"),n.removeHandler(d,"mousedown"),n.removeHandler(d,"mouseup"),n.removeHandler(d,"click"),n.removeHandler(c,"mousedown"),n.removeHandler(c,"mouseup"),n.removeHandler(c,"click"),n.rtl?(l.attr("title",n.gridlocalization.pagerpreviousbuttonstring),h.attr("title",n.gridlocalization.pagernextbuttonstring)):(h.attr("title",n.gridlocalization.pagerpreviousbuttonstring),l.attr("title",n.gridlocalization.pagernextbuttonstring)),e.jqx.browser.msie&&e.jqx.browser.version<8&&m.css("padding-top","3px"),this["pagerfirst"+r]=d,this["pagerlast"+r]=c,this["pagernext"+r]=l,this["pagerprevious"+r]=h,this["pagergotoinput"+r]=o,this["pagerdetails"+r]=u,this["pagershowrows"+r]=p,this["pagergotolabel"+r]=a,this["pagershowrowscombo"+r]=f,this["pagerbuttons"+r]=m,"default"==n.pagerMode){n.rtl?(c.attr("title",n.gridlocalization.pagerfirstbuttonstring),d.attr("title",n.gridlocalization.pagerlastbuttonstring)):(d.attr("title",n.gridlocalization.pagerfirstbuttonstring),c.attr("title",n.gridlocalization.pagerlastbuttonstring));var g=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");g.addClass(n.toThemeProperty("jqx-icon-arrow-first")),d.wrapInner(g);var v=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");v.addClass(n.toThemeProperty("jqx-icon-arrow-last")),c.wrapInner(v),n.rtl?(s.append(c),s.append(l),s.append(m),s.append(h),s.append(d)):(s.append(d),s.append(h),s.append(m),s.append(l),s.append(c)),c.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),d.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme});var x=n.rtl?"right":"left";m.css("float",x),c.css("float",x),d.css("float",x),l.css("float",x),h.css("float",x),u.css("float",n.rtl?"left":"right"),n.rtl?(u.css("margin-left","7px"),u.css("margin-right","0px")):(u.css("margin-left","0px"),u.css("margin-right","7px"))}else n.rtl||(s.append(l),s.append(h));l.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme}),h.jqxButton({cursor:"pointer",disabled:n.disabled,theme:n.theme});var b=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");b.addClass(n.toThemeProperty("jqx-icon-arrow-left")),h.wrapInner(b);var y=e("<div style='margin-left: 6px; width: 15px; height: 26px;'></div>");if(y.addClass(n.toThemeProperty("jqx-icon-arrow-right")),l.wrapInner(y),n.rtl||s.append(u),"default"!=n.pagerMode){n.rtl?(s.append(a),s.append(o),s.append(p),s.append(f),s.append(u),s.append(l),s.append(h)):(s.append(f),s.append(p),s.append(o),s.append(a));var w=n.pageSizeOptions;f.jqxDropDownList({_checkForHiddenParent:!1,rtl:n.rtl,disabled:n.disabled,source:w,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:28,theme:n.theme});for(var _=0,q=0;q<w.length;q++)this.pageSize>=w[q]&&(_=q);a[0].innerHTML=t,f.jqxDropDownList({selectedIndex:_});var j=o.find("input");j.addClass(n.toThemeProperty("jqx-input")),j.addClass(n.toThemeProperty("jqx-widget-content")),this.rtl&&j.css("direction","rtl");n=this;this.removeHandler(f,"select"),this.addHandler(f,"select",(function(e){if(e.args){n.vScrollInstance&&n.vScrollInstance.setPosition(0);var t=e.args.index;n.pagershowrowscombotop.data().jqxDropDownList.instance.selectIndex(t),n.pagershowrowscombobottom.data().jqxDropDownList.instance.selectIndex(t),n.pagershowrowscombobottom.data().jqxDropDownList.instance.renderSelection("mouse"),n.pagershowrowscombotop.data().jqxDropDownList.instance.renderSelection("mouse");var i=n.dataview.pagenum*n.dataview.pagesize,s=w[t],r=n.pageSize;n.pageSize=parseInt(s),isNaN(n.pageSize)&&(n.pageSize=10),s>=100?(n.pagershowrowscombotop.jqxDropDownList({width:55}),n.pagershowrowscombobottom.jqxDropDownList({width:55})):(n.pagershowrowscombotop.jqxDropDownList({width:44}),n.pagershowrowscombobottom.jqxDropDownList({width:44})),n.dataview.pagesize=n.pageSize;var o=Math.floor(i/n.dataview.pagesize);if(o!==n.dataview.pagenum||parseInt(s)!==parseInt(r))n._raiseEvent("pageSizeChanged",{pagenum:o,oldpageSize:r,pageSize:n.dataview.pagesize}),n.goToPage(o)||(n.serverProcessing?n.updateBoundData("pager"):n.refresh())}})),(o=o.find("input")).addClass(n.toThemeProperty("jqx-grid-pager-input")),o.addClass(n.toThemeProperty("jqx-rc-all")),this.removeHandler(o,"keydown"),this.removeHandler(o,"change"),n.addHandler(o,"keydown",(function(e){if(e.keyCode>=65&&e.keyCode<=90)return!1;if("13"==e.keyCode){var t=o.val();return t=parseInt(t),isNaN(t)||n.goToPage(t-1),!1}})),n.addHandler(o,"change",(function(){var e=o.val();e=parseInt(e),isNaN(e)||n.goToPage(e-1)}))}p[0].innerHTML=i,n.addHandler(l,"mouseenter",(function(){y.addClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))})),n.addHandler(h,"mouseenter",(function(){b.addClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))})),n.addHandler(l,"mouseleave",(function(){y.removeClass(n.toThemeProperty("jqx-icon-arrow-right-hover"))})),n.addHandler(h,"mouseleave",(function(){b.removeClass(n.toThemeProperty("jqx-icon-arrow-left-hover"))})),n.addHandler(l,"mousedown",(function(){y.addClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))})),n.addHandler(l,"mouseup",(function(){y.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected"))})),n.addHandler(h,"mousedown",(function(){b.addClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))})),n.addHandler(h,"mouseup",(function(){b.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected"))})),"default"===n.pagerMode&&(n.addHandler(c,"mouseenter",(function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))})),n.addHandler(d,"mouseenter",(function(){g.addClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))})),n.addHandler(c,"mouseleave",(function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-hover"))})),n.addHandler(d,"mouseleave",(function(){g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-hover"))})),n.addHandler(c,"mousedown",(function(){v.addClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))})),n.addHandler(d,"mousedown",(function(){g.addClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))})),n.addHandler(c,"mouseup",(function(){v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected"))})),n.addHandler(d,"mouseup",(function(){g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected"))}))),n.addHandler(e(document),"mouseup.pagerbuttons"+r+this.element.id,(function(){y.removeClass(n.toThemeProperty("jqx-icon-arrow-right-selected")),b.removeClass(n.toThemeProperty("jqx-icon-arrow-left-selected")),v&&(v.removeClass(n.toThemeProperty("jqx-icon-arrow-last-selected")),g.removeClass(n.toThemeProperty("jqx-icon-arrow-first-selected")))})),n.addHandler(l,"click",(function(){l.jqxButton("disabled")||(n.rtl?n.goToPrevPage():n.goToNextPage())})),n.addHandler(h,"click",(function(){h.jqxButton("disabled")||(n.rtl?n.goToNextPage():n.goToPrevPage())})),"default"===this.pagerMode&&(n.addHandler(d,"click",(function(){if(!d.jqxButton("disabled"))if(n.rtl){var e=n.dataview.totalrecords,t=Math.ceil(e/n.pageSize);n.goToPage(t-1)}else n.goToPage(0)})),n.addHandler(c,"click",(function(){if(!c.jqxButton("disabled"))if(n.rtl)n.goToPage(0);else{var e=n.dataview.totalrecords,t=Math.ceil(e/n.pageSize);n.goToPage(t-1)}})))};this.pagerdiv.children().remove(),this.toppagerdiv.children().remove(),n.call(this,this.pagerdiv,"bottom"),n.call(this,this.toppagerdiv,"top"),this.pager.append(this.pagerdiv),this.toppager.append(this.toppagerdiv),this.updatepagerdetails()}},_updatepagertheme:function(){},goToPage:function(t,i){if(this._loading)return!1;if(null!=this.editKey){if(!this.editSettings.saveOnPageChange)return!1;if(!this.endroweditbykey(this.editKey))return!1}if(null!=t&&null!=t||(t=0),-1==t&&(t=0),t<0)return!1;var s=this.dataview.totalrecords,r=this.dataview.pagenum,n=Math.ceil(s/this.pageSize);return t>=n&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),t>0&&(t=n-1)),this.dataview.pagenum!=t&&(this.pageable&&(this.dataview.pagenum=t,this._raiseEvent("pageChanged",{pagenum:t,oldpagenum:r,pageSize:this.dataview.pagesize})),this.serverProcessing?this.updateBoundData("pager",i):(this.refresh(),i&&e.isFunction(i)&&i()),!0)},goToPrevPage:function(e){if(this.dataview.pagenum>0)return this.goToPage(this.dataview.pagenum-1,e);if("default"!=this.pagerMode&&"advanced"!=this.pagerMode){var t=this.dataview.totalrecords,i=Math.ceil(t/this.pageSize);return this.goToPage(i-1,e)}return!1},goToNextPage:function(e){var t=this.dataview.totalrecords;this.summaryrows&&(t+=this.summaryrows.length);var i=Math.ceil(t/this.pageSize);return this.dataview.pagenum<i-1?this.goToPage(this.dataview.pagenum+1,e):"default"!=this.pagerMode&&"advanced"!=this.pagerMode&&this.goToPage(0,e)},updatepagerdetails:function(){if(this.pageable){var t=this;if(!this.serverProcessing)if(this.source.hierarchy){var i=t._names(),s=0,r=function(n,o){for(var a=0;a<o.length;a++)0==t.dataview.filters.length&&(o[a]._visible=!0),!1!==o[a]._visible&&s++,t.treeGrid&&"root"==t.treeGrid.pageSizeMode||o[a].records&&(o[a][i.expanded]||o[a][i.leaf])&&!1!==o[a]._visible&&(r(n+1,o[a].records),t.treeGrid&&e(t.treeGrid).jqxTreeGrid("showSubAggregates")&&0!=n&&s--)};r(0,this.dataview.rows),this.dataview.totalrecords=s}else this.dataview.totalrecords=this.dataview.rows.length;var n=this.dataview.pagenum*this.pageSize,o=(this.dataview.pagenum+1)*this.pageSize;o>=this.dataview.totalrecords&&(o=this.dataview.totalrecords);var a=this.dataview.totalrecords;n++;var l=Math.ceil(a/this.dataview.pagesize);if(l>=1&&l--,l++,"root"==this.pageSizeMode&&((l=Math.ceil(this.rootRecordsLength/this.dataview.pagesize))>=1&&l--,l++,a=this.rootRecordsLength,this.dataview.totalrecords=this.rootRecordsLength),"default"!=this.pagerMode){if(this.pagergotoinputbottom){var h=this.pagergotoinputbottom.find("input");h.val(this.dataview.pagenum+1),h.attr("title","1 - "+l),(h=this.pagergotoinputtop.find("input")).val(this.dataview.pagenum+1),h.attr("title","1 - "+l)}}else{var d="",c=this.pagerButtonsCount;0!=c&&c||(c=5);var u=0;for(this.rtl&&(u=c-1);this.rtl&&u>=0||!this.rtl&&u<c;){var p=1+u,m=this.dataview.pagenum/c;p+=Math.floor(m)*c;var f=this.toTP("jqx-grid-pager-number");if(f+=" "+this.toTP("jqx-rc-all"),p>l&&!this.rtl)break;if(this.rtl&&p>l)u--;else{if(this.rtl||0==u&&p>c&&(d+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>"),this.dataview.pagenum===p-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),this.rtl){if(u===c-1){f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(d+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}this.dataview.pagenum===p-1&&(f+=" "+this.toTP("jqx-fill-state-pressed")),d+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>"}else if(d+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+p+"'>"+p+"</a>",u===c-1){var f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),l>=1+p&&(d+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(1+p)+"'>...</a>")}if(this.rtl){f=this.toTP("jqx-grid-pager-number");f+=" "+this.toTP("jqx-rc-all"),0==u&&p>c&&(d+="<a class='"+f+"' tabindex=-1 href='javascript:;' data-page='"+(-1+p)+"'>...</a>")}this.rtl?u--:u++}}if(!this.pagerbuttonsbottom)return;var g=this.pagerbuttonsbottom.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave");g=this.pagerbuttonstop.find("a");this.removeHandler(g,"click"),this.removeHandler(g,"mouseenter"),this.removeHandler(g,"mouseleave"),this.pagerbuttonsbottom[0].innerHTML=d,this.pagerbuttonstop[0].innerHTML=d,this.disabled&&this.host.find(".jqx-grid-pager-number").css("cursor","default");var v=function(){g.click((function(i){if(!t.disabled){var s=e(i.target).attr("data-page");t.goToPage(parseInt(s)-1)}})),g.mouseenter((function(i){t.disabled||e(i.target).addClass(t.toTP("jqx-fill-state-hover"))})),g.mouseleave((function(i){t.disabled||e(i.target).removeClass(t.toTP("jqx-fill-state-hover"))}))};if("both"===this.pagerPosition||"bottom"===this.pagerPosition){g=this.pagerbuttonsbottom.find("a");v()}if("both"===this.pagerPosition||"top"===this.pagerPosition){g=this.pagerbuttonstop.find("a");v()}}if(0==o&&o<n&&(n=0),this.pagerdetailsbottom&&(this.rtl?(this.pagerdetailsbottom[0].innerHTML=a+this.gridlocalization.pagerrangestring+o+"-"+n,this.pagerdetailstop[0].innerHTML=a+this.gridlocalization.pagerrangestring+o+"-"+n):(this.pagerdetailsbottom[0].innerHTML=n+"-"+o+this.gridlocalization.pagerrangestring+a,this.pagerdetailstop[0].innerHTML=n+"-"+o+this.gridlocalization.pagerrangestring+a)),"default"==this.pagerMode){var x=this.pagerbuttonsbottom.width()+e(this.pagerdetailsbottom).width()+160;this.pagerdiv.css("min-width",x),this.toppagerdiv.css("min-width",x)}n>o&&this.goToPrevPage()}},_preparecolumnGroups:function(){var e=this.columnsHeight;if(this.columnGroups){if(this.columnshierarchy=new Array,this.columnGroups.length){for(var t=this,i=0;i<this.columnGroups.length;i++)this.columnGroups[i].parent=null,this.columnGroups[i].groups=null;for(i=0;i<this.columns.records.length;i++)this.columns.records[i].parent=null,this.columns.records[i].groups=null;var s=function(e){for(var i=0;i<t.columnGroups.length;i++){var s=t.columnGroups[i];if(s.name===e)return s}return null};for(i=0;i<this.columnGroups.length;i++){if((h=this.columnGroups[i]).groups||(h.groups=null),h.parentGroup&&(h.parentgroup=h.parentGroup),h.parentgroup)(r=s(h.parentgroup))&&(h.parent=r,r.groups||(r.groups=new Array),-1===r.groups.indexOf(h)&&r.groups.push(h))}for(i=0;i<this.columns.records.length;i++){var r;if((h=this.columns.records[i]).columngroup)(r=s(h.columngroup))&&(r.groups||(r.groups=new Array),h.parent=r,-1===r.groups.indexOf(h)&&r.groups.push(h))}var n=0;for(i=0;i<this.columns.records.length;i++){var o=h=this.columns.records[i];for(h.level=0;o.parent;)o=o.parent,h.level++;o=h;var a=h.level;for(n=Math.max(n,h.level);o.parent;)(o=o.parent)&&(o.level=--a)}var l=function(e){var t=new Array;if(e.columngroup&&t.push(e),!e.groups)return new Array;for(var i=0;i<e.groups.length;i++)if(e.groups[i].columngroup)t.push(e.groups[i]);else if(e.groups[i].groups)for(var s=l(e.groups[i]),r=0;r<s.length;r++)t.push(s[r]);return t};for(i=0;i<this.columnGroups.length;i++){var h=this.columnGroups[i],d=l(h);h.columns=d;for(var c=new Array,u=0,p=0;p<d.length;p++)c.push(this.columns.records.indexOf(d[p])),d[p].pinned&&u++;if(0!=u)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group cannot be pinned.");c.sort((function(e,t){return(e=parseInt(e))<(t=parseInt(t))?-1:e>t?1:0}));for(var m=1;m<c.length;m++)if(c[m]!=c[m-1]+1)throw new Error("jqxDataTable: Column Groups initialization Error. Please, check the initialization of the jqxDataTable's columns array. The columns in a column group are expected to be siblings in the columns array.")}}this.columnGroupslevel=1+n,e=this.columnGroupslevel*this.columnsHeight}return e},wheel:function(e,t){if(t.autoheight&&"hidden"==t.hScrollBar.css("visibility"))return e.returnValue=!0,!0;var i=0;if(e||(e=window.event),e.originalEvent&&e.originalEvent.wheelDelta&&(e.wheelDelta=e.originalEvent.wheelDelta),e.wheelDelta?i=e.wheelDelta/120:e.detail&&(i=-e.detail/3),i){var s=t._handleDelta(i);return s&&(e.preventDefault&&e.preventDefault(),null!=e.originalEvent&&(e.originalEvent.mouseHandled=!0),null!=e.stopPropagation&&e.stopPropagation()),!!s&&(s=!1,e.returnValue=s,s)}e.preventDefault&&e.preventDefault(),e.returnValue=!1},_handleDelta:function(e){if("hidden"!=this.vScrollBar.css("visibility")){var t=this.vScrollInstance.value;if(e<0?this.vScrollInstance.setPosition(this.vScrollInstance.value+20):this.vScrollInstance.setPosition(this.vScrollInstance.value-20),t!=this.vScrollInstance.value)return!0}else if("hidden"!=this.hScrollBar.css("visibility")){t=this.hScrollInstance.value;if(e>0?this.hScrollInstance.value>20?this.hScrollInstance.setPosition(this.hScrollInstance.value-20):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+20):this.hScrollInstance.setPosition(this.hScrollInstance.max),t!=this.hScrollInstance.value)return!0}return!1},_removeHandlers:function(){this.removeHandler(this.host,"focus"),this.removeHandler(e(window),"jqxReady."+this.element.id),this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);var t="mousedown";this.isTouchDevice()&&(t=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(this.host,"dragstart."+this.element.id),this.removeHandler(this.host,"keydown"),this.table&&(this.removeHandler(this.table,"mouseleave"),this.removeHandler(this.table,"mousemove"),this.removeHandler(this.table,t),this.removeHandler(this.table,"selectstart."+this.element.id),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.removeHandler(this.table,"dblclick"))},_addHandlers:function(){var t=this;this._mousewheelfunc=this._mousewheelfunc||function(e){return t.wheel(e,t),!1},this.addHandler(this.host,"dragstart."+this.element.id,(function(e){return!1})),this.addHandler(this.table,"selectstart."+this.element.id,(function(i){return!!t.enableBrowserSelection||(!(!t.filterable||!e(i.target).ischildof(t.filterrow))||(!!(t.rowDetails&&e(i.target).parents("[data-role=details]").length>0)||null!=t.editKey&&void 0))})),this.addHandler(e(window),"jqxReady."+this.element.id,(function(){t._updatecolumnwidths(),t.refresh()})),this.editable&&this.addHandler(e(document),"mousedown.gridedit"+this.element.id,(function(i){if(t.editable&&t.editSettings.saveOnBlur&&null!=t.editKey&&!t.vScrollInstance.isScrolling()&&!t.vScrollInstance.isScrolling()){var s=t.host.coord(),r=t.host.width(),n=t.host.height(),o=!1,a=!1;if((i.pageY<s.top||i.pageY>s.top+n)&&(o=!0,a=!0),(i.pageX<s.left||i.pageX>s.left+r)&&(o=!0,!0),o){var l=function(t){var s=e(t.children()[0]).data();if(s&&!s.jqxWidget&&(s=t.data()),s||(s=t.data()),s.jqxWidget&&s.jqxWidget.container&&"block"==s.jqxWidget.container[0].style.display){var r=s.jqxWidget,n=r.container.coord().top,l=r.container.coord().top+r.container.height();return!(!a||!(i.pageY<n||i.pageY>l))&&(o=!0,r.close(),!0)}},h=t._editors;if(h)for(var d=0;d<h.length;d++){var c=h[d].editor,u=l(c),p=c.attr("aria-owns");if(p){if(p==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+p)))return!0}else if(p=c.children().attr("aria-owns")){if(p==document.activeElement.id)return!0;if(e(document.activeElement).ischildof(e("#"+p)))return!0}if(!1===u)return}}o&&t.endroweditbykey(t.editKey)}})),this.removeHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"mousewheel",this._mousewheelfunc),this.addHandler(this.host,"focus",(function(e){e.preventDefault}));var i=this.isTouchDevice();this.vScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px"):t._timer=setTimeout((function(){t.table&&(t.table[0].style.top=0-t.vScrollInstance.value+"px")}),5)},this.hScrollInstance.valueChanged=function(e){t._timer&&clearTimeout(t._timer),i?t.table&&t._renderhorizontalscroll():t._timer=setTimeout((function(){t.table&&t._renderhorizontalscroll()}),5)};var s="mousedown";this.isTouchDevice()&&(s=e.jqx.mobile.getTouchEventName("touchend"),e.jqx.browser.msie&&e.jqx.browser.version<10&&(s="mousedown"));var r=function(e,i){for(var s=null,r=t._table.coord(),n=r.top,o=r.left,a=t._table[0].rows,l=0;l<a.length;l++)for(var h=a[l].cells,d=0;d<h.length;d++){var c=h[d],u=c.offsetLeft+o,p=c.offsetTop+n,m=c.offsetWidth,f=c.offsetHeight;if(0!==m&&0!==f){if(!(p<=i&&i<p+f))break;if(u<=e&&e<u+m){s=c;break}}}return s},n=function(){if(t.hoveredRow){var e=t.hoveredRow[0].cells,i=function(e){for(var i=0;i<e.length;i++){var s=e[i],r=s.className;r=(r=r.replace(" "+t.toTP("jqx-fill-state-hover"),"")).replace(" "+t.toTP("jqx-grid-cell-hover"),""),s.className=r}};if(i(e),t._pinnedTable&&e.length>0)i(t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells)}t.hoveredRow=null};this.addHandler(this.table,"mouseleave",(function(e){n(),t.wrapper&&(t.wrapper.parent().removeAttr("tabindex",0),t.wrapper.removeAttr("tabindex",1),t.content.removeAttr("tabindex",2))}));var o=function(e){if(!t.enableHover)return!0;if(t.hoveredRow=e,!e)return!0;var i=e[0].cells,s=t.rowDetails&&!t.treeGrid&&!t.treeGrid?1:0,r=0;s>0&&t.rtl&&(s=0,r=1);for(var n=s;n<i.length-r;n++){i[n].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}if(t._pinnedTable&&t._pinnedTable[0].rows.length){var o=t._pinnedTable[0].rows[t.hoveredRow[0].rowIndex].cells;for(n=s;n<o.length-r;n++){o[n].className+=" "+t.toTP("jqx-fill-state-hover")+" "+t.toTP("jqx-grid-cell-hover")}}};t.isTouchDevice()&&(t.enableHover=!1),this.addHandler(this.table,"mousemove",(function(i){var s=i.pageX,a=i.pageY;if(t.disabled)return!0;if(!t.enableHover)return!0;if(t.hScrollInstance.isScrolling()||t.vScrollInstance.isScrolling())return!0;var l=r(s,a);if(!l)return!0;var h=e(l).parent();return n(),t.rowDetails&&t.treeGrid&&"row-details"==h.attr("data-role")||t.renderedRecords&&0===t.renderedRecords.length||null!=t.editKey&&t.editKey===h.attr("data-key")||o(h),!0})),this.addHandler(this.host,"keydown",(function(e){return t._handleKey(e)})),e.jqx.browser.msie&&e.jqx.browser.version<9&&this.addHandler(this.table,"dblclick",(function(e){t.table.trigger("mousedown",e)})),this.addHandler(this.table,s,(function(i){i.target;var s=null;if(t.disabled)return!0;if(!(t.touchmode&&i.originalEvent&&i.originalEvent._pageX)){t.table.coord();var n,a=i.pageX,l=i.pageY;if(e.jqx.browser.msie&&e.jqx.browser.version<9&&arguments&&2==arguments.length&&(a=arguments[1].pageX,l=arguments[1].pageY),t.isTouchDevice())if(a=(n=e.jqx.position(i)).left,l=n.top,isNaN(a)||isNaN(l))a=(n=e.jqx.position(i.originalEvent)).left,l=n.top;s=r(a,l);var h=e(s).parent(),d=h.attr("data-key");if(t.rowDetails&&t.treeGrid&&"row-details"==h.attr("data-role"))return!0;var c=function(){t.enableBrowserSelection||(i.preventDefault&&i.preventDefault(),i.stopPropagation()),t.host.focus()};if(void 0!==d){var u=e(s).index(),p=t.columns.records[u];if(d==t.editKey){if(!t.editSettings.editSingleCell)return!0;if(t.clickedTD==s)return!0;if(null!=t.editKey&&t.editSettings.saveOnSelectionChange&&!t.endroweditbykey(t.editKey))return!0}else{if(null!=t.editKey&&t.editSettings.saveOnSelectionChange)if(!t.endroweditbykey(t.editKey))return!0}if(t.clickedTD=s,(b=t.rowinfo[d])&&b.group)return!0;var m=!1;if(b){var f=t.getrowdisplayindex(b.row),g=t.getrowindex(b.row);t._raiseEvent("rowClick",{index:f,boundIndex:g,key:d,row:b.row,originalEvent:i,dataField:p.datafield});var v=(new Date).getTime(),x=300;t.clickTime||(t.clickTime=new Date),t._lastSelectedKey==d&&v-t.clickTime.getTime()<x&&(t._raiseEvent("rowDoubleClick",{index:f,boundIndex:g,key:d,row:b.row,originalEvent:i,dataField:p.datafield}),m=!0,i.preventDefault&&i.preventDefault())}if(t.clickTime=new Date,s.className.indexOf("jqx-grid-group")>=0)b.expanded?t.hidedetailsbykey(d):t.showdetailsbykey(d);else if(i.target&&i.target.className.indexOf&&i.target.className.indexOf("jqx-grid-group")>=0&&t.treeGrid)b.expanded?t.treeGrid.collapseRow(d):t.treeGrid.expandRow(d),o(t._getuirow(d)),i.stopPropagation&&i.stopPropagation(),i.preventDefault&&i.preventDefault();else{if(!(i.target&&i.target.className.indexOf&&i.target.className.indexOf("checkbox")>=0&&t.treeGrid)){u=e(s).index(),p=t.columns.records[u];if(i.stopPropagation&&i.stopPropagation(),t.editable&&null==t.editKey&&t._lastSelectedKey==d&&t.editSettings.editOnDoubleClick&&m){t.beginroweditbykey(d,p);return!0}if(t.isTouchDevice()&&t.scrolled&&new Date-t.scrolled<500)return t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),!1;if("singlerow"===t.selectionMode&&"custom"!==t.selectionMode)return t.selectrowbykey(d,"mouse",!1),t._lastSelectedKey=d,t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault(),c(),!0;if("custom"!==t.selectionMode&&(i.ctrlKey||i.metaKey||t.clearSelection(!1),i.shiftKey&&t._lastSelectedKey)){var b=t.rowinfo[t._lastSelectedKey];t._doSelection(t._lastSelectedKey,!0,!1);var y=e(t._table.children()[1]).children("[data-key="+t._lastSelectedKey+"]"),w=y.index(),_=h.index();return t._selectRange(_,w),t.selectrowbykey(d,"mouse",!1),t._updateSelection(),i.preventDefault&&i.preventDefault(),c(),!0}return t._lastSelectedKey=d,t.clickTime=new Date,"custom"===t.selectionMode||(b&&(b.selected?t.unselectrowbykey(d,"mouse",!1):t.selectrowbykey(d,"mouse",!1),c()),t._updateSelection(),t.enableBrowserSelection||i.preventDefault&&i.preventDefault()),!0}b.checked?t.treeGrid.uncheckRow(d):t.treeGrid.checkRow(d),o(t._getuirow(d)),i.stopPropagation&&i.stopPropagation()}}}}))},_updateSelection:function(){var t=this,i=e(t._table.children()[1]).children(),s=t._pinnedTable?e(t._pinnedTable.children()[1]).children():null,r=t.rowDetails&&!t.treeGrid?1:0,n=0;r>0&&t.rtl&&(r=0,n=1);for(var o=0;o<i.length;o++){var a=i[o].cells;if(s)var l=s[o].cells;var h=null;if(i[o].getAttribute&&(h=i[o].getAttribute("data-key")),t.rowinfo[h]&&"none"!==t.selectionMode)if(t.rowinfo[h].selected)for(var d=r;d<a.length-n;d++){var c=a[d];e(c).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed")),l&&e(l[d]).addClass(t.toTP("jqx-grid-cell-selected")+" "+t.toTP("jqx-fill-state-pressed"))}else for(d=r;d<a.length-n;d++){c=a[d];if(l)var u=l[d];var p=c.className;p=(p=(p=(p=p.replace(" jqx-fill-state-pressed","")).replace(" jqx-fill-state-pressed-"+t.theme,"")).replace(" jqx-grid-cell-selected","")).replace(" jqx-grid-cell-selected-"+t.theme,""),c.className=p,u&&(u.className=p)}}},_selectRange:function(t,i){var s=e(e(this._table.children()[1]).children()[i]);if(t>i)for(var r=i,n=s;r<t;){var o=(n=n.next()).attr("data-key");this._doSelection(o,!0,!1),r++}else if(t<i)for(r=i,n=s;r>t;){o=(n=n.prev()).attr("data-key");this._doSelection(o,!0,!1),r--}},_getuikey:function(t,i){var s=null,r=e(this._table.children()[1]).children();if(s=e(r[t]).attr("data-key"),e(r[t]).attr("data-role")){var n=e(r[t]);if("next"==i)for(;n;){if(n=n.next())if(!n.attr("data-role"))return s=n.attr("data-key")}else if("prev"==i)for(;n;){if(n=n.prev())if(!n.attr("data-role"))return s=n.attr("data-key")}return null}return s},getRows:function(){return this.source.records},getView:function(){var t=this,i=this._names(),s=new Array,r=function(s,n){if(n)for(var o=0;o<n.length;o++)if(n[o]&&!1!==n[o]._visible){var a=e.extend({},n[o]);s.push(a),(n[o][i.expanded]||t.dataview.filters.length>0)&&(a.records=new Array,r(a.records,n[o].records))}};return r(s,this.dataViewRecords),s},getKeys:function(){for(var e=new Array,t=this.source.records,i=0;i<t.length;i++)e.push(t[i].uid);return e},getKey:function(e){var t=this.getRows();return t?t[e].uid:-1},_getkey:function(t){if(this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);var i=null,s=function(){var i=e(this._table.children()[1]).children(),s=null,r=0;if(this.pageable&&(r-=this.dataview.pagenum*this.dataview.pagesize),this.groups.length>0){for(var n=0,o=0;o<i.length;o++){var a=e(i[o]);if(!(a.children()[0].getAttribute("colspan")>0)){if(n===r+t)return s=a.attr("data-key");n++}}return s}if(this.rowDetails)for(n=0,o=0;o<i.length;o++){if(n===t+r)return s=e(i[o]).attr("data-key");o%2==1&&n++}else s=e(i[r+t]).attr("data-key");return s};if(null==(i=s.call(this))&&this.pageable){var r=Math.floor(t/this.dataview.pagesize);if(this.dataview.pagenum!=r){var n=this.getRows()[t];if(n&&null!=n.uid)return n.uid;if(isNaN(r))return null;this.goToPage(r),i=s.call(this)}}return i},_getuirow:function(t){try{var i=e(this._table.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var s=e(this._table.children()[1]).children(),r=0;r<s.length;r++){var n=s[r];if(t==n.getAttribute("data-key"))return e(n)}return null}return null},_getpinneduirow:function(t){if(!this._pinnedTable)return null;try{var i=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(i.length>0)return i}catch(i){for(var s=e(this._pinnedTable.children()[1]).children(),r=0;r<s.length;r++){var n=s[r];if(t==n.getAttribute("data-key"))return e(n)}return null}return null},_names:function(){var e={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};if(!this.source||this.source&&!this.source._source.hierarchy)return e;var t=this.source._source.hierarchy.reservedNames;return t||e},_getMatches:function(t,i){if(null==t||0==t.length)return-1;var s=this.renderedRecords;null!=i&&(s=s.slice(i));var r=0;if(this.rowDetails&&!this.treeGrid&&r++,r<this.columns.records.length)var n=this.columns.records[r].datafield;else new Array;var o=new Array;return e.each(s,(function(i){var s=this[n];s||(s=""),e.jqx.string.startsWithIgnoreCase(s.toString(),t)&&o.push(this.uid)})),o},_handleKey:function(t){if(this._loading)return!0;if(e(t.target).ischildof(this.filter))return!0;if(e(t.target).ischildof(this.toolbar))return!0;if(e(t.target).ischildof(this.statusbar))return!0;var i=this._names(),s=this,r=t.charCode?t.charCode:t.keyCode?t.keyCode:0,n=this._lastSelectedKey,o=(this.rowinfo[n],this._getuirow(n)),a=t.shiftKey&&"singlerow"!=this.selectionMode,l=t.ctrlKey||t.metaKey;if(o){if(this.handleKeyboardNavigation)if(this.handleKeyboardNavigation(r))return!0;if(this.editable&&null==this.editKey&&113===r&&this.editSettings.editOnF2&&this.beginroweditbykey(o.attr("data-key")),null==this.editKey&&!l&&!a&&this.incrementalSearch&&!(r>=33&&r<=40)){this._searchString||(this._searchString=""),(8==r||46==r)&&this._searchString.length>=1&&(this._searchString=this._searchString.substr(0,this._searchString.length-1));var h=String.fromCharCode(r),d=!isNaN(parseInt(h));if(r>=65&&r<=97||d||8==r||32==r||46==r){if(t.shiftKey||(h=h.toLocaleLowerCase()),8!=r&&32!=r&&46!=r&&(this._searchString.length>0&&this._searchString.substr(0,1)==h||(this._searchString+=h)),32==r&&(this._searchString+=" "),this._searchTime=new Date,(n=this.getSelection()).length>=1){for(var c=n[0].uid,u=-1,p=0;p<this.renderedRecords.length;p++)if(this.renderedRecords[p].uid==c){u=p;break}if(0==(m=this._getMatches(this._searchString,u)).length||m.length>0&&m[0]==c)var m=this._getMatches(this._searchString)}else m=this._getMatches(this._searchString);if(m.length>0){if((n=this.getSelection()).length>=1){var f=m.indexOf(n[0].uid);if(-1==f)this.clearSelection(!1),this.selectrowbykey(m[0]);else{var g=f+1;g>=m.length&&(g=0),this.clearSelection(!1),this.selectrowbykey(m[g])}}else this.clearSelection(!1),this.selectrowbykey(m[0]);this._lastSearchString=this._searchString}}null!=this._searchTimer&&clearTimeout(this._searchTimer),27!=r&&13!=r||(this._searchString="",this._lastSearchString=""),this._searchTimer=setTimeout((function(){s._searchString="",s._lastSearchString=""}),500)}if(null!=this.editKey){if(27===r&&this.editSettings.cancelOnEsc)this.endroweditbykey(this.editKey,!0);else if(13===r&&this.editSettings.saveOnEnter){if(t.target&&"div"!=t.target.nodeName.toLowerCase()&&"input"!=t.target.nodeName.toLowerCase())return!0;this.endroweditbykey(this.editKey,!1)}else if(this.editSettings.editSingleCell&&this.editColumn){var v=this.columns.records.indexOf(this.editColumn);if(9==r&&v<this.columns.records.length-1&&!t.shiftKey){var x=this.editKey,b=null;for(p=v+1;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){b=this.columns.records[p];break}b&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,b))}else if(9==r&&t.shiftKey&&v>0){x=this.editKey;var y=null;for(p=v-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){y=this.columns.records[p];break}y&&(this.endroweditbykey(this.editKey,!1),this.beginroweditbykey(x,y))}if(9==r){var w=this.rowinfo[this.editKey];u=this.getrowindex(w),o=this._getuirow(this.editKey);if(t.shiftKey||b){if(!y&&t.shiftKey){for(_=null,p=this.columns.records.length-1;p>=0;p--)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){_=this.columns.records[p];break}if(_){for(;o;){if(o=o.prev())if(!o.attr("data-role")){q=o.attr("data-key");break}}if(q){this.clearSelection(!1),this._lastSelectedKey=q;w=this.rowsByKey[q],u=this.getrowindex(w),j=this.getrowdisplayindex(w);this._raiseEvent("rowSelect",{key:q,index:j,boundIndex:u,row:this.rowsByKey[q]}),this.endroweditbykey(this.editKey,!1),this._doSelection(q,!0,!0),this.beginroweditbykey(q,_)}}}}else{for(var _=null,p=0;p<this.columns.records.length;p++)if(this.columns.records[p].editable&&!this.columns.records[p].hidden){_=this.columns.records[p];break}if(_){for(;o;){if(o=o.next())if(!o.attr("data-role")){var q=o.attr("data-key");break}}if(q){this.clearSelection(!1),this._lastSelectedKey=q;var w=this.rowsByKey[q],u=this.getrowindex(w),j=this.getrowdisplayindex(w);this._raiseEvent("rowSelect",{key:q,index:j,boundIndex:u,row:this.rowsByKey[q]}),this.endroweditbykey(this.editKey,!1)?(this._doSelection(q,!0,!0),this.beginroweditbykey(q,_)):this.beginroweditbykey(this.editKey,_)}}}return!1}}return!0}if(t.ctrlKey||t.metaKey){var T=String.fromCharCode(r).toLowerCase();if("c"==T||"x"==T)if((n=this.getSelection()).length>=1){for(var C="",I=0;I<this.renderedRecords.length;I++){var S=this.renderedRecords[I];for(p=0;p<n.length;p++){if((w=n[p]).uid===S.uid){for(var k=0;k<this.columns.records.length;k++){C+=this.getCellTextByKey(w.uid,this.columns.records[k].displayfield),k<this.columns.records.length-1&&(C+="\t")}C+="\r\n";break}}}if(""!=C&&(C=C.substring(0,C.length-1)),window.clipboardData)window.clipboardData.setData("Text",C);else{var P=e('<textarea style="position: absolute; left: -1000px; top: -1000px;"/>');P.val(C),e("body").append(P),P.select(),setTimeout((function(){document.designMode="off",P.select(),P.remove()}),100)}}}if(32===r&&this.treeGrid&&this.treeGrid.checkboxes){if((n=this.getSelection()).length>1){for(p=0;p<n.length;p++){var H=n[p].uid;this.rowinfo[H].checked?this.treeGrid.uncheckRow(H,!1):this.treeGrid.checkRow(H,!1)}return this._renderrows(),!1}if(c=o.attr("data-key"))return this.rowinfo[c].checked?this.treeGrid.uncheckRow(c):this.treeGrid.checkRow(c),!1}var B=o.index(),D=function(t){var i=null,r=e(s._table.children()[1]).children().length-1,n=e(e(s._table.children()[1]).children()[r]);if(n.attr("data-role"))for(;n;){if(n=n.prev())if(!n.attr("data-role")){i=n.attr("data-key");break}}else i=n.attr("data-key");return"all"==t?{row:n,key:i}:i},z=function(t){var i=null,r=e(e(s._table.children()[1]).children()[0]);if(r.attr("data-role"))for(;r;){if(r=r.next())if(!r.attr("data-role")){i=r.attr("data-key");break}}else i=r.attr("data-key");return"all"==t?{row:r,key:i}:i},E=(c=null,function(){if(l||a||s.clearSelection(!1),33==r||37==r){var e=B;(c=s._getuikey(e,"prev"))||(c=z())}else if(34==r||39==r){e=B;(c=s._getuikey(e,"next"))||(c=D())}else 38==r?c=D():40==r&&(c=z());s._lastSelectedKey=c;var t=s.rowsByKey[c],i=(e=s.getrowindex(t),s.getrowdisplayindex(t));s._raiseEvent("rowSelect",{key:c,index:i,boundIndex:e,row:s.rowsByKey[c]}),s._doSelection(c,!0,!0),s.host.focus()});if(this.treeGrid&&this.rtl&&(37==r?r=39:39==r&&(r=37)),36==r||l&&38==r)return function(){s.clearSelection(!1);var e=z();a||l?s._selectRange(o.index(),0):s._lastSelectedKey=e,s.selectrowbykey(e,"keyboard")}(),!1;if(35==r||l&&40==r)return function(){s.clearSelection(!1);var e=D("all"),t=e.key;a||l?s._selectRange(o.index(),e.row.index()):s._lastSelectedKey=t,s.selectrowbykey(t,"keyboard")}(),!1;if(33==r||37==r){c=o.attr("data-key");if(this.rowDetails&&37==r&&!this.treeGrid)return this.hidedetailsbykey(c),!1;if(this.treeGrid&&37==r){if(this.rowinfo[c].row&&!this.rowinfo[c].row[i.parent]&&!this.rowinfo[c][i.leaf]&&!this.rowinfo[c].expanded)return!1;if(this.rowinfo[c].expanded&&!this.rowinfo[c][i.leaf])return this.treeGrid.collapseRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row[i.parent]&&(c=this.rowinfo[c].row[i.parent].uid),this.rowinfo[c][i.leaf])return!1}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToNextPage(E):this.goToPrevPage(E),!1;if(this.treeGrid&&this.pageable&&33==r)return this.goToPrevPage(E),!1}else if(34==r||39==r){c=o.attr("data-key");if(this.rowDetails&&39==r&&!this.treeGrid)return this.showdetailsbykey(c),!1;if(this.treeGrid&&39==r){if(this.rowinfo[c][i.leaf])return!1;if(!this.rowinfo[c].expanded)return this.treeGrid.expandRow(c),!1;if(this.rowinfo[c].row&&this.rowinfo[c].row.records&&this.rowinfo[c].row.records.length>0)if(this.dataview.filters.length>0){var A=this.rowinfo[c].row.records;for(p=0;p<A.length;p++)if(A[p]._visible){c=A[p].uid;break}}else c=this.rowinfo[c].row.records[0].uid}if(this.pageable&&!this.treeGrid)return this.rtl?this.goToPrevPage(E):this.goToNextPage(E),!1;if(this.treeGrid&&this.pageable&&34==r)return this.goToNextPage(E),!1}else if(38==r){for(;o;){if(o=o.prev())if(!o.attr("data-role")){c=o.attr("data-key");break}}if(this.pageable&&null==c)return this.goToPrevPage(E),!1}else if(40==r){for(;o;){if(o=o.next())if(!o.attr("data-role")){c=o.attr("data-key");break}}if(this.pageable&&null==c)return this.goToNextPage(E),!1}if(null!=c){if(l||a||this.clearSelection(!1),this.rowinfo[c]&&this.rowinfo[c].selected&&(l||a)){this._doSelection(this._lastSelectedKey,!1,!1),this._lastSelectedKey=c;w=this.rowsByKey[c],u=this.getrowindex(w);s._updateSelection();j=this.getrowdisplayindex(w);return this._raiseEvent("rowUnselect",{key:c,index:j,boundIndex:u,row:w}),!1}this._lastSelectedKey=c;w=this.rowsByKey[c],u=this.getrowindex(w);this._doSelection(c,!0,!1),s._updateSelection();j=this.getrowdisplayindex(w);if(this._raiseEvent("rowSelect",{key:c,index:j,boundIndex:u,row:w}),this.treeGrid)if(37==r){var M=null;if(o=this._getuirow(c))o.attr("data-role")||(M=o.attr("data-key"));if(this.pageable&&null==M&&this.dataview.pagenum>0)for(;null==this._getuirow(c)&&this.dataview.pagenum>0;)this.goToPrevPage()}else if(39==r){M=null;if(o=this._getuirow(c))o.attr("data-role")||(M=o.attr("data-key"));this.pageable&&null==M&&this.goToNextPage()}return!1}}},_selection:function(e){if("selectionStart"in e[0]){var t=e[0],i=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:i,text:t.value}}var s=document.selection.createRange();if(null==s)return{start:0,end:t.value.length,length:0};var r=e[0].createTextRange(),n=r.duplicate();r.moveToBookmark(s.getBookmark()),n.setEndPoint("EndToStart",r);i=s.text.length;return{start:n.text.length,end:n.text.length+s.text.length,length:i,text:s.text}},_doSelection:function(e,t,i){if(null!=e){var s;if("singlerow"===this.selectionMode&&this.clearSelection(!1),s=this.rowinfo[e])s.selected=t,this.ensurerowvisiblebykey(e);else this.ensurerowvisiblebykey(e),(s=this.rowinfo[e])?s.selected=t:this.rowinfo[e]={selected:t};"none"!=this.selectionMode&&!1!==i&&this._renderrows()}else this.clearSelection()},clearSelection:function(e){if(this.rowinfo){var t=this.getRows();for(var i in this.rowinfo){var s=this.rowinfo[i];if(s.selected){s.selected=!1;var r=t.indexOf(s.row),n=this.getrowdisplayindex(s.row);this._raiseEvent("rowUnselect",{key:i,index:n,boundIndex:r,row:s.row})}}}!1!==e&&this._renderrows()},exportData:function(i){if(!e.jqx.dataAdapter.ArrayExporter){if(!this.treeGrid)throw"jqxDataTable: Missing reference to jqxdata.export.js!";throw"jqxTreeGrid: Missing reference to jqxdata.export.js!"}var s=this.exportSettings.columnsHeader;null==s&&(s=!0);var r=this.exportSettings.hiddenColumns;null==r&&(r=!1);var n=this.exportSettings.serverURL,o=this.exportSettings.characterSet,a=this.exportSettings.collapsedRecords;null==a&&(a=!1);var l=this.exportSettings.fileName;void 0===l&&(l=this.treeGrid?"jqxTreeGrid_Data":"jqxDataTable_Data");var h=this,d=this.getRows();if(1==this.exportSettings.recordsInView&&(d=this.getView()),this.treeGrid&&this.treeGrid.virtualModeCreateRecords)d=this.treeGrid.getRows();if(this.groups&&this.groups.length>0){var c=this.source.getGroupedRecords(this.groups,"records","label",null,"data",null,"parent",d),u=function(t,i){for(var s=0;s<t.length;s++){var r=e.extend({},t[s]);if(i.push(r),r.records&&r.records.length>0)for(var n=u(r.records,new Array),o=0;o<n.length;o++)n[o].leaf,i.push(n[o])}return i},p=u.call(this,c,new Array);d=p}if(0==d.length)throw"No data to export.";this.exporting=!0,this.altRows&&this._renderrows();for(var m=new Array,f=0;f<this.columns.records.length;f++)!r&&this.columns.records[f].hidden||m.push(e.extend({},this.columns.records[f]));if(this.groups&&this.groups.length>0&&m.length>0){var g=this._names();for(f=0;f<d.length;f++)d[f][g.leaf]||(h.rtl?d[f][m[m.length-1].displayfield]=d[f].label:d[f][m[0].displayfield]=d[f].label)}var v=0;if(this.treeGrid){var x=this.treeGrid.getRows();1==this.exportSettings.recordsInView&&(x=this.getView());g=this._names();var b=function(e){for(var t=0;t<e.length;t++){var i=e[t],s=i[g.expanded]||!i[g.expanded]&&a;v=Math.max(v,1+i[g.level]),i.records&&i.records.length>0&&s&&b(e[t].records)}};if(b(x),"xml"!=i&&"json"!=i){var y=m.length;for(f=0;f<v;f++){(L=new t(this,this)).width=this.indentWidth,L.datafield="Level"+f,L.displayfield="Level"+f,L.align="center",L.cellsalign="center",L.text="",this.rtl?m.splice(y,0,L):m.splice(f,0,L)}var w=new Array,_=!(!this.source._source.hierarchy||!this.source._source.hierarchy.groupingDataFields),q=function(t){for(var s=0;s<t.length;s++){for(var r=e.extend({},t[s]),n=0;n<r[g.level];n++)r["Level"+n]="";var o=r[g.expanded]||!r[g.expanded]&&a;("xls"==i||"html"==i||"pdf"==i)&&r.records&&r.records.length>0?r["Level"+r[g.level]]=o?"-":"+":r["Level"+r[g.level]]="",r[g.leaf]&&(r["Level"+r[g.level]]="");for(n=r[g.level]+1;n<v;n++)r["Level"+n]="";if(_&&!r[g.leaf]&&(h.rtl?r[m[m.length-v-1].displayfield]=r.label:r[m[v].displayfield]=r.label),r.aggregate){var l="xls"==i?"_AG":"";for(n=v;n<m.length;n++){var d=n;h.rtl&&(d=m.length-n-1),null!=r[m[d].displayfield]&&(r[m[d].displayfield]=l+r[m[d].displayfield])}}w.push(r),o&&!r[g.leaf]&&q(r.records)}};q(x),d=w}else d=x}var j=null!=r&&r,T={},C={},I=this.host.find(".jqx-grid-cell:first"),S=this.host.find(".jqx-grid-cell-alt:first"),k=this;I.removeClass(k.toThemeProperty("jqx-grid-cell-selected")),I.removeClass(k.toThemeProperty("jqx-fill-state-pressed")),S.removeClass(k.toThemeProperty("jqx-grid-cell-selected")),S.removeClass(k.toThemeProperty("jqx-fill-state-pressed")),I.removeClass(k.toThemeProperty("jqx-grid-cell-hover")),I.removeClass(k.toThemeProperty("jqx-fill-state-hover")),S.removeClass(k.toThemeProperty("jqx-grid-cell-hover")),S.removeClass(k.toThemeProperty("jqx-fill-state-hover"));for(var P="cell",H=1,B=1,D=[],z=0;z<m.length;z++){if(""!=(L=m[z]).cellclassname)if(L.customCellStyles=new Array,"string"==typeof L.cellclassname)L.customCellStyles.push(L.cellclassname);else for(f=0;f<d.length;f++){var E=f,A=L.cellclassname(E,L.displayfield,d[f][L.displayfield],d[f]);A&&(L.customCellStyles[f]=A)}}if(e.each(m,(function(t){var r=t;h.treeGrid&&(t>=v?r=m.length-v-1:v>0&&t<v&&(r=0));var n=e(h._table[0].rows[0].cells[r]);if(h._table[0].rows.length>1&&0==(o=e(h._table[0].rows[1].cells[r])).length)var o=e(h._table[0].rows[1].cells[0]);if(0==n.length)n=e(h._table[0].rows[0].cells[0]);var a=this,l=function(e){if(e.removeClass(k.toThemeProperty("jqx-cell")),e.removeClass(k.toThemeProperty("jqx-grid-cell-selected")),e.removeClass(k.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(k.toThemeProperty("jqx-grid-cell-hover")),e.removeClass(k.toThemeProperty("jqx-fill-state-hover")),a.customCellStyles)for(var t in a.customCellStyles)e.removeClass(a.customCellStyles[t])};if(l(n),o&&l(o),null==this.displayfield)return!0;if(h.showAggregates&&h.getcolumnaggregateddata)if(h.treeGrid){D.push(h.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,function(e,t){for(var i=0;i<e.length;i++){var s=e[i];0===s.level&&t.push(s)}return t}(d,[])))}else D.push(h.getcolumnaggregateddata(this.displayfield,this.aggregates,!0,d));var c=h._getexportcolumntype(this);!this.exportable||this.hidden&&!j||(T[this.displayfield]={},T[this.displayfield].text=this.text,T[this.displayfield].width=parseInt(this.width),isNaN(T[this.displayfield].width)&&(T[this.displayfield].width=60),T[this.displayfield].width>500&&(T[this.displayfield].width=500),T[this.displayfield].formatString=this.cellsFormat,T[this.displayfield].localization=h.gridlocalization,T[this.displayfield].type=c,T[this.displayfield].cellsAlign=this.cellsalign,T[this.displayfield].hidden=!s,T[this.displayfield].index=r,T[this.displayfield].maxIndex=m.length),P="cell"+H;var u=this.element;if("json"!=i&&"xml"!=i){var p=function(e,t,s,r,n,o,a,l,h){C[e]={index:1+a,maxIndex:m.length},o.rtl&&(C[e].index=m.length-a),"html"!=i&&"xls"!=i&&"pdf"!=i||(t&&(C[e]["font-size"]=t.css("font-size"),C[e]["font-weight"]=t.css("font-weight"),C[e]["font-style"]=t.css("font-style"),C[e]["background-color"]=o._getexportcolor(t.css("background-color")),C[e].color=o._getexportcolor(t.css("color")),C[e]["border-color"]=o._getexportcolor(t.css("border-top-color"))),s?C[e]["text-align"]=n.align:(C[e]["text-align"]=n.cellsalign,C[e].formatString=n.cellsFormat,C[e].dataType=c),"html"!=i&&"pdf"!=i||(C[e]["border-top-width"]="0px",o.rtl?(C[e]["border-left-width"]="1px",C[e]["border-right-width"]="0px",a==m.length-v-1&&s&&(C[e]["border-right-width"]="1px")):(C[e]["border-left-width"]="0px",C[e]["border-right-width"]="1px"),C[e]["border-bottom-width"]="1px",t&&(C[e]["border-top-style"]=t.css("border-top-style"),C[e]["border-left-style"]=t.css("border-left-style"),C[e]["border-right-style"]=t.css("border-right-style"),C[e]["border-bottom-style"]=t.css("border-bottom-style")),s?(0!=a||o.rtl?a==m.length-1&&o.rtl&&(C[e]["border-right-width"]="1px"):C[e]["border-left-width"]="1px",t&&(C[e]["border-top-width"]="1px",C[e]["border-bottom-width"]=t.css("border-bottom-width"))):0!=a||o.rtl?a==m.length-1&&o.rtl&&(C[e]["border-right-width"]="1px"):C[e]["border-left-width"]="1px",t&&(C[e].height=t.css("height")),o.treeGrid&&!s&&(C[e].index-1<v?o.rtl?C[e]["border-left-width"]="0px":C[e]["border-right-width"]="0px":C[e].index-1==v&&(o.rtl?C[e]["border-right-width"]="0px":C[e]["border-left-width"]="0px")))),!n.exportable||n.hidden&&!j||(1==l?(T[n.displayfield].customCellStyles||(T[n.displayfield].customCellStyles=new Array),T[n.displayfield].customCellStyles[h]=e):s?T[n.displayfield].style=e:r?T[n.displayfield].cellAltStyle=e:T[n.displayfield].cellStyle=e)};if(p("column"+B,u,!0,!1,this,h,t),B++,p(P,n,!1,!1,this,h,t),h.altRows&&p(P="cellalt"+H,o,!1,!0,this,h,t),this.customCellStyles){for(var f in a.customCellStyles)n.removeClass(a.customCellStyles[f]);for(var f in a.customCellStyles)n.addClass(a.customCellStyles[f]),p(P+a.customCellStyles[f],n,!1,!1,this,h,t,!0,f),n.removeClass(a.customCellStyles[f])}H++}})),"json"!=i&&"xml"!=i&&v>0&&this.treeGrid){var M=v+1;if(this.rtl&&(M=m.length-v),C["column"+M]){var O=C["column"+M];O.merge=v,O["border-left-width"]="1px";for(C["cell"+M],f=0;f<m.length;f++){M=f+1;if(this.rtl&&(M=m.length-f),C["column"+M].level=f,C["column"+M].maxLevel=v,C["cell"+M].maxLevel=v,(L=m[f]).customCellStyles)for(var N in L.customCellStyles)C["cell"+M+L.customCellStyles[N]]&&(C["cell"+M+L.customCellStyles[N]].maxLevel=v);C["cellalt"+M]&&(C["cellalt"+M].maxLevel=v)}for(f=0;f<v;f++){M=f+1;var L,W=f;if(this.rtl&&(M=m.length-f),(R=C["column"+M]).disabled=!0,C["cell"+M].level=W,C["cell"+M].maxLevel=v,C["column"+M].level=W,C["cellalt"+M]&&(C["cellalt"+M].level=W,C["cellalt"+M].maxLevel=v),(L=m[f]).customCellStyles)for(var N in L.customCellStyles)C["cell"+M+L.customCellStyles[N]]&&(C["cell"+M+L.customCellStyles[N]].maxLevel=v,C["cell"+M+L.customCellStyles[N]].level=W);if(("html"==i||"pdf"==i||"xls"==i)&&(R["font-size"]=O["font-size"],R["font-weight"]=O["font-weight"],R["font-style"]=O["font-style"],R["background-color"]=O["background-color"],R.color=O.color,R["border-color"]=O["border-color"],"html"==i||"pdf"==i)){R["border-top-width"]=O["border-top-width"],R["border-left-width"]=O["border-left-width"],this.rtl&&(R["border-right-width"]=O["border-right-width"],0==f&&(R["border-right-width"]="1px")),0!=f||this.rtl?0==f&&this.rtl&&(R["border-left-width"]="0px"):R["border-left-width"]="0px",this.rtl?this.rtl&&(R["border-left-width"]="0px"):R["border-right-width"]="0px",R["border-bottom-width"]="0px";var R=C["cell"+M];this.rtl?this.rtl&&(R["border-left-width"]="0px"):R["border-right-width"]="0px"}}}}if(this.showAggregates){var F=[],V="xls"==i?"_AG":"",U=0;this.rowDetails&&!this.treeGrid&&U++,D.length>0&&(e.each(m,(function(e){if(this.aggregates)for(var t=0;t<this.aggregates.length;t++)if(F[t]||(F[t]={}),F[t]){var i=h._getaggregatename(this.aggregates[t]),s=h._getaggregatetype(this.aggregates[t]),r=D[e-U];r&&(F[t][this.displayfield]=V+i+": "+r[s])}})),e.each(m,(function(e){for(var t=0;t<F.length;t++)null==F[t][this.displayfield]&&(F[t][this.displayfield]=V)}))),e.each(F,(function(){d.push(this)}))}k=this;var K=e.jqx.dataAdapter.ArrayExporter(d,T,C,n,this.treeGrid&&("xml"==i||"json"==i));if(null==l){this._renderrows();var G=this.treeGrid&&("xml"==i||"json"==i),X=K.exportTo(i,this.treeGrid&&("xml"==i||"json"==i));return this.showAggregates&&e.each(F,(function(){d.pop(this)})),setTimeout((function(){k.exporting=!1}),50),X}G=this.treeGrid&&("xml"==i||"json"==i);K.exportToFile(i,l,n,o,G),this.showAggregates&&e.each(F,(function(){d.pop(this)})),this._renderrows(),setTimeout((function(){k.exporting=!1}),50)},_getexportcolor:function(e){var t=e;if("transparent"==e&&(t="#FFFFFF"),t&&t.toString()||(t="#FFFFFF"),-1!=t.toString().indexOf("rgb")){var i=t.split(",");if(-1!=t.toString().indexOf("rgba")){var s=parseInt(i[0].substring(5)),r=parseInt(i[1]),n=parseInt(i[2]),o=parseFloat(i[3].substring(1,4)),a={r:s,g:r,b:n},l=this._rgbToHex(a);return 0==s&&0==r&&0==n&&0==o?"#ffffff":"#"+l}a={r:s=parseInt(i[0].substring(4)),g:r=parseInt(i[1]),b:n=parseInt(i[2].substring(1,4))};return"#"+(l=this._rgbToHex(a))}if(-1!=t.toString().indexOf("#")&&4==t.toString().length){var h=t.toString().substring(1,4);t+=h}return t},_rgbToHex:function(e){return this._intToHex(e.r)+this._intToHex(e.g)+this._intToHex(e.b)},_intToHex:function(e){var t=parseInt(e).toString(16);return 1==t.length&&(t="0"+t),t.toUpperCase()},_getexportcolumntype:function(t){var i=this,s="string",r=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(r){var n="";if(e.each(r,(function(){if(this.name==t.displayfield)return this.type&&(n=this.type),!1})),n)return n}if(null!=t){if(null==this.dataview.cachedrecords)return s;var o=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,(function(){return o=this[t.displayfield],!1}));else{if(0==this.dataview.cachedrecords.length)return s;if(null!=(o=this.dataview.cachedrecords[0][t.displayfield])&&""==o.toString())return"string"}if(null!=o){if(-1!=t.cellsFormat.indexOf("c"))return"number";if(-1!=t.cellsFormat.indexOf("n"))return"number";if(-1!=t.cellsFormat.indexOf("p"))return"number";if(-1!=t.cellsFormat.indexOf("d"))return"date";if(-1!=t.cellsFormat.indexOf("y"))return"date";if(-1!=t.cellsFormat.indexOf("M"))return"date";if(-1!=t.cellsFormat.indexOf("m"))return"date";if(-1!=t.cellsFormat.indexOf("t"))return"date";if("boolean"==typeof o)s="boolean";else if(e.jqx.dataFormat.isNumber(o))s="number";else{var a=new Date(o);if("NaN"==a.toString()||"Invalid Date"==a.toString())if(e.jqx.dataFormat){if(null!=(a=e.jqx.dataFormat.tryparsedate(o))){if(a&&a.getFullYear()&&1970==a.getFullYear()&&0==a.getMonth()&&1==a.getDate()){var l=new Number(o);return isNaN(l)?"string":"number"}return"date"}s="string"}else s="string";else s="date"}}}return s},showDetails:function(e){var t=this._getkey(e);this.showdetailsbykey(t)},hideDetails:function(e){var t=this._getkey(e);this.hidedetailsbykey(t)},setCellValueByKey:function(t,i,s){var r=this,n=this.rowsByKey[t],o=this.getrowindex(n),a=n;if(null!=a&&a[i]==s)return!1;if(null==a||null!==a[i]||""!==s){var l="";if(null!=a&&a[i]!==s){var h,d=this.getColumn(i),c="string";if(v=this.source.datafields||(this.source._source?this.source._source.datafields:null)){var u="";e.each(v,(function(){if(this.name==d.displayfield)return this.type&&(u=this.type),!1})),u&&(c=u)}if(l=a[i],!d.nullable||null!=s&&""!==s&&d.nullable&&void 0===s.label){if(e.jqx.dataFormat.isNumber(l)||"number"==c||"float"==c||"int"==c||"decimal"==c&&"date"!=c)s=new Number(s),s=parseFloat(s),isNaN(s)&&(s=0);else if((e.jqx.dataFormat.isDate(l)||"date"==c)&&""!=s){var p=s;"Invalid Date"!=(p=new Date(p))&&null!=p?s=p:"Invalid Date"==p&&(s=p=new Date)}if(a[i]===s)return}if(r.dataview._filteredData=null,r.dataview._sortData=null,r.dataview._sortHierarchyData=null,a[i]=s,this.treeGrid)(h=this.treeGrid.getRow(t))&&(h[i]=s);if(null!=s&&null!=s.label)if(a[(d=this.getColumn(i)).displayfield]=s.label,a[i]=s.value,this.treeGrid)(h=this.treeGrid.getRow(t))&&(h[d.displayfield]=s.label,h[i]=s.value)}if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){var m=o,f=this.source._source._localdata()[m];this.source.suspendKO=!0;var g=f;if(g[i]&&g[i].subscribe)null!=s&&null!=s.label?(g[d.displayfield](s.label),g[i](s.value)):g[i](s);else{var v=this.source._source.datafields,x=null;if(v&&e.each(v,(function(){if(this.name==i)return x=this.map,!1})),null==x)null!=s&&null!=s.label?(g[i]=s.value,g[d.displayfield]=s.label):g[i]=s;else{var b=x.split(this.source.mapChar);if(b.length>0){for(var y=g,w=0;w<b.length-1;w++)y=y[b[w]];y[b[b.length-1]]=s}}this.source._source._localdata.replace(f,e.extend({},g))}this.source.suspendKO=!1}if(this.source.updaterow){try{var _=t;null==this.source.updaterow(_,a,(function(e){0==e&&this.setCellValue(n,i,l,!0,!1)}))&&!0}catch(e){return!1,void this.setCellValue(n,i,l)}}var q=this.getrowdisplayindex(n);d=this.getColumn(i);this._raiseEvent("cellValueChanged",{value:s,oldValue:l,dataField:i,displayField:d.displayfield,key:t,boundIndex:o,index:q,row:this.rowsByKey[t]}),this.editable&&null!=this.editKey||this._renderrows()}},setCellValue:function(e,t,i){if(null==e||null==t)return!1;var s=parseInt(e),r=this._getkey(s);this.setCellValueByKey(r,t,i)},getCellText:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellTextByKey(s,t)},getCellTextByKey:function(t,i){if(null==t||null==i)return null;var s=this.getCellValueByKey(t,i),r=this.getColumn(i);return r&&""!=r.cellsFormat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(s)?s=e.jqx.dataFormat.formatdate(s,r.cellsFormat,this.gridlocalization):(e.jqx.dataFormat.isNumber(s)||!isNaN(parseFloat(s))&&isFinite(s))&&(s=e.jqx.dataFormat.formatnumber(s,r.cellsFormat,this.gridlocalization))),s},getCellValue:function(e,t){if(null==e||null==t)return!1;var i=parseInt(e),s=this._getkey(i);return this.getCellValueByKey(s,t)},getCellValueByKey:function(e,t){var i=this.rowsByKey[e];!i&&this.treeGrid&&(i=this.treeGrid.getRow(e));this.getrowindex(i);return null!=i?i[t]:null},beginRowEdit:function(e){var t=this._getkey(e);this.beginroweditbykey(t)},beginCellEdit:function(e,t){var i=this._getkey(e),s=this.getColumn(t);this.beginroweditbykey(i,s)},endCellEdit:function(e,t,i){this.endRowEdit(e,i)},endRowEdit:function(e,t){var i=this._getkey(e);this.endroweditbykey(i,t)},getrowindex:function(e){var t=this.getRows().indexOf(e);if(-1!=t)return t;if(this.groups&&this.groups.length>0)for(var i=this.getRows(),s=0;s<i.length;s++)if(e.originalRecord){if(i[s].uid==e.originalRecord.uid){t=s;break}}else if(i[s].uid==e.uid){t=s;break}return t},getrowdisplayindex:function(e){if(this.treeGrid)return-1;var t=this.getView(),i=t.indexOf(e);if(-1!=i)return i;if(null==e)return i;for(var s=t,r=0;r<s.length;r++)if(s[r].uid==e.uid||e.originalRecord&&s[r].uid==e.originalRecord.uid){i=r;break}return i},beginroweditbykey:function(t,i){if(this.beginEdit&&!1===this.beginEdit(t,i))return!1;var s=this.treeGrid?this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0:this.groups.length;if(s>0){var r=this.rowsByKey[t];if(this.treeGrid)r=this.treeGrid.getRow(t);if(r.level<s)return!1}if(null==this._lastSelectedKey&&this.selectrowbykey(t),this.editKey===t&&null!=this.editKey)return!1;if(this.rowinfo[t]&&this.rowinfo[t].locked)return!1;if(null!=this.editKey)return this.endroweditbykey(t,!0),!1;var n=this.editSettings.editSingleCell;if(!i&&n&&this.columns.records&&this.columns.records.length>0){for(var o=0;o<this.columns.records.length&&(!(i=this.columns.records[o]).editable||i.hidden);o++);if(!i)return!1}if(n&&i&&!i.editable)return this.editKey=null,!1;n&&(this.editColumn=i);var a=this;r=this.rowsByKey[t];if(this.treeGrid)r=this.treeGrid.getRow(t);var l=this.getrowindex(r),h=this._getuirow(t),d=this._getpinneduirow(t);this._editors=new Array;var c=!1;if(h){var u=h[0].cells,p=0;for(o=0;o<u.length;o++){var m=this.columns.records[o],f=u[o];if(!m.rowDetailscolumn&&!(m.checkboxcolumn||(m.pinned&&(f=d[0].cells[o]),n&&i&&m.datafield!=i.datafield||(e(f).removeClass(this.toTP("jqx-grid-cell-selected")),e(f).removeClass(this.toTP("jqx-fill-state-pressed")),e(f).removeClass(this.toTP("jqx-grid-cell-hover")),e(f).removeClass(this.toTP("jqx-fill-state-hover")),"none"==m.columntype)))){var g=e(f).outerWidth(),v=e(f).width();0===p&&(p=e(f).outerHeight()-1),e(f).css("padding","0px");var x="<div style='height:"+p+"px; width: 100%; overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 9999;'></div>",b=this.getCellTextByKey(t,m.displayfield);f.innerHTML=x;var y=e(f.firstChild);switch(m.columntype){case"textbox":case"default":var w=e("<input style='border: none;' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' type='textbox'/>").appendTo(y);if(this.rtl&&w.css("direction","rtl"),w.addClass(this.toThemeProperty("jqx-input")),w.addClass(this.toThemeProperty("jqx-widget-content")),w.addClass(this.toThemeProperty("jqx-cell-editor")),w[0].onfocus=function(t){setTimeout((function(){var i;t?(i=e(t.target).parent().parent().index())>=0&&a.ensureColumnVisible(a.columns.records[i].datafield):(i=e(document.activeElement).parent().parent().index())>=0&&a.ensureColumnVisible(a.columns.records[i].datafield);a.content&&(a.content[0].scrollTop=0,a.content[0].scrollLeft=0),a.gridcontent&&(a.gridcontent[0].scrollLeft=0,a.gridcontent[0].scrollTop=0)}),10)},m.editable){if(!c){c=!0;var _=e.jqx.browser.msie&&e.jqx.browser.version>10;_||w.focus();var q=w;setTimeout((function(){var e=q.val().length;_||q.focus();try{if("selectionStart"in q[0])q[0].setSelectionRange(0,e);else{var t=q[0].createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",0),t.select()}}catch(e){}}),10)}}else w.attr("disabled",!0),w.attr("readOnly",!0),w.addClass(this.toThemeProperty("jqx-fill-state-disabled"));if(w.width(v),w.height(p),e.jqx.browser.msie&&e.jqx.browser.version<9&&w.css("line-height",parseInt(p)+"px"),w.css("text-align",m.cellsalign),null===b&&(b=""),null==b&&(b=""),w.val(b),m.createeditor){var j=b;b=this.getCellValueByKey(t,m.displayfield);m.createeditor(this.treeGrid?t:l,b,w,j,v,p)}if(this._editors.push({column:m,editor:w}),""!=m.cellsFormat&&(-1==m.cellsFormat.indexOf("p")&&-1==m.cellsFormat.indexOf("c")&&-1==m.cellsFormat.indexOf("n")&&-1==m.cellsFormat.indexOf("f")||w.keydown((function(e){var t=e.charCode?e.charCode:e.keyCode?e.keyCode:0,i=String.fromCharCode(t),s=parseInt(i);if(isNaN(s))return!0;if(a._selection(w).length>0)return!0;var r="",n=w.val();if(m.cellsFormat.length>1){var o=parseInt(m.cellsFormat.substring(1));isNaN(o)&&(o=0)}else o=0;if(o>0&&-1!=n.indexOf(a.gridlocalization.decimalseparator)&&a._selection(w).start>n.indexOf(a.gridlocalization.decimalseparator))return!0;for(var l=0;l<n.length-o;l++){var h=n.substring(l,l+1);null!=h.match(/^[0-9]+$/)&&(r+=h)}return!(r.length>=11)&&void 0}))),m.initeditor){j=b,b=this.getCellValueByKey(t,m.displayfield);m.initeditor(this.treeGrid?t:l,b,w,j,v,p)}break;case"custom":case"template":this.editorsCache||(this.editorsCache=new Array);var T=e("<div style='width: 100%; height: 100%; border: none;'></div>").appendTo(y),C=e.trim(m.datafield).split(" ").join("");-1!=C.indexOf(".")&&(C=C.replace(".",""));var I=this.editorsCache["templateeditor_"+C];if("custom"==m.columntype)I=this.editorsCache["customeditor_"+C+"_"+t];j=b,b=this.getCellValueByKey(t,m.displayfield);if(I)(w=I).width(g),w.height(p),w.appendTo(T);else(w=e("<div style='border: none;'></div>")).width(g),w.height(p),I=w,null===b&&(b=""),"custom"!=m.columntype?this.editorsCache["templateeditor_"+C]=w:this.editorsCache["customeditor_"+C+"_"+t]=w,w.appendTo(T),m.createeditor&&m.createeditor(this.treeGrid?t:l,b,w,j,g,p);m.initeditor&&m.initeditor(this.treeGrid?t:l,b,w,j,g,p),this._editors.push({column:m,editor:w})}}}}this.editKey=t,this.beginUpdate();var S=this.getrowdisplayindex(r);if(this._raiseEvent("rowBeginEdit",{key:t,index:S,boundIndex:l,row:this.rowsByKey[t]}),n){var k=null,P=null;(r=this.rowsByKey[t])&&(k=r[i.datafield],P=r[i.displayfield]),this._raiseEvent("cellBeginEdit",{value:k,displayValue:P,key:t,index:S,dataField:i.datafield,displayField:i.displayfield,boundIndex:l,row:this.rowsByKey[t]})}this.endUpdate(!1)},_toNumber:function(e){e.indexOf||null==e||(e=e.toString()),e.indexOf(this.gridlocalization.currencysymbol)>-1&&(e=e.replace(this.gridlocalization.currencysymbol,""));(e=(e=function(e,t,i){var s=e;if(t==i)return e;for(var r=s.indexOf(t);-1!=r;)r=(s=s.replace(t,i)).indexOf(t);return s}(e,this.gridlocalization.thousandsseparator,"")).replace(this.gridlocalization.decimalseparator,".")).indexOf(this.gridlocalization.percentsymbol)>-1&&(e=e.replace(this.gridlocalization.percentsymbol,""));for(var t="",i=0;i<e.length;i++){var s=e.substring(i,i+1);"-"===s&&(t+="-"),"."===s&&(t+="."),null!=s.match(/^[0-9]+$/)&&(t+=s)}return e=(e=t).replace(/ /g,"")},_geteditorvalue:function(t,i,s,r){var n=new String;if(i){if(!t.geteditorvalue){if(t.columntype,n=i.val(),""!=t.cellsFormat){var o="string",a=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(a){var l="";e.each(a,(function(){if(this.name==t.displayfield)return this.type&&(l=this.type),!1})),l&&(o=l)}var h="date"===o||"time"===o;if("number"===o||"float"===o||"int"===o||"integer"===o||"string"===o&&(-1!=t.cellsFormat.indexOf("p")||-1!=t.cellsFormat.indexOf("c")||-1!=t.cellsFormat.indexOf("n")||-1!=t.cellsFormat.indexOf("f"))){if(""===n&&t.nullable)return"";n=this._toNumber(n),n=new Number(n),isNaN(n)&&(n="")}if(h||"string"===o&&(-1!=t.cellsFormat.indexOf("H")||-1!=t.cellsFormat.indexOf("m")||-1!=t.cellsFormat.indexOf("M")||-1!=t.cellsFormat.indexOf("y")||-1!=t.cellsFormat.indexOf("h")||-1!=t.cellsFormat.indexOf("d"))){if(""===n&&t.nullable)return"";var d=n;("Invalid Date"==(n=new Date(n))||null==n||t.cellsFormat.length>1)&&(e.jqx.dataFormat&&(n=e.jqx.dataFormat.parsedate(d,t.cellsFormat,this.gridlocalization)),"Invalid Date"!=n&&null!=n||(n=""))}}t.displayfield!=t.datafield&&(n={label:n,value:n})}if(t.geteditorvalue){var c=this.getCellValueByKey(r,t.displayfield);n=t.geteditorvalue(this.treeGrid?r:s,c,i)}}return n},_validateEditors:function(e){for(var t=this,i=!0,s=t.rowsByKey[e],r=t.getrowindex(s),n=t._editors,o=(e=t.editKey,t._getuirow(e)),a=0;a<n.length;a++){var l=n[a].editor,h=n[a].column,d=t._geteditorvalue(h,l,r,e);if(h.validation){l.removeClass(t.toThemeProperty("jqx-grid-validation-label"));var c=h.datafield;try{var u=h.validation({value:d,row:e,datafield:h.datafield,displayfield:h.displayfield,column:h},d),p=t.gridlocalization.validationstring;null!=u.message&&(p=u.message),("boolean"==typeof u?u:u.result)||(null!=u.showmessage&&1!=u.showmessage||t._showvalidationpopup(o,c,p,l),i=!1)}catch(e){t._showvalidationpopup(o,c,t.gridlocalization.validationstring,l),i=!1}}}return i},endroweditbykey:function(t,i){var s=this;if(null!==s.editKey){if(this.endEdit)if(!1===this.endEdit(t))return;var r=s.rowsByKey[t],n=s.getrowindex(r),o=s._editors,a=s.editKey;s._getuirow(a);if(!0!==i){var l=!0;if(o&&(l=s._validateEditors(a))){for(var h=e.extend({},r),d=e.extend({},r),c=0;c<o.length;c++){var u=o[c].editor,p=o[c].column,m=s._geteditorvalue(p,u,n,a);m&&null!=m.label?(h[p.displayfield]=m.label,h[p.datafield]=m.value):h[p.displayfield]=m}s.updaterowbykey(s.editKey,h,!1,(function(){s.dataview._sortHierarchyData=null,s.dataview._sortData=null;for(var i=0;i<o.length;i++){var l=o[i].editor,h=o[i].column,c=s._geteditorvalue(h,l,n,a),u=d[h.displayfield];if(c&&null!=c.label?(r[h.displayfield]=c.label,r[h.datafield]=c.value):r[h.displayfield]=c,s.treeGrid){var p=s.treeGrid.getRow(a);p&&(p[h.displayfield]=c)}if(s.editorsCache){var m=function(e){if(e&&e.jqxWidget){var t=e.jqxWidget.element.className;if(t.indexOf("dropdownlist")>=0||t.indexOf("datetimeinput")>=0||t.indexOf("combobox")>=0||t.indexOf("menu")>=0)if(e.jqxWidget.isOpened)e.jqxWidget.isOpened()&&e.jqxWidget.close()}},f="customeditor_"+h.displayfield+"_"+t,g="templateeditor_"+h.displayfield;if(s.editorsCache[f]){var v=e(s.editorsCache[f]).data(),x=s.editorsCache[f];!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),m(v),s.editorsCache[f].detach()}if(s.editorsCache[g]){s.editorsCache[g].detach();v=e(s.editorsCache[g]).data(),x=s.editorsCache[g];!v.jqxWidget&&e(x).children()[0]&&e(e(x).children()[0]).data().jqxWidget&&(v=e(e(x).children()[0]).data()),m(v)}}c!=u&&(s.beginUpdate(),s._raiseEvent("cellValueChanged",{value:c,oldValue:u,dataField:h.datafield,displayField:h.displayfield,key:t,index:n,row:r}),s.endUpdate(!1))}}))}if(!l)return!1}return s._detachEditors(a),!0}},_detachEditors:function(t){var i=this,s=i.rowsByKey[t],r=i.getrowindex(s);if(i.editorsCache)for(var n in i.editorsCache){var o=e(i.editorsCache[n]).data();if(o&&o.jqxWidget){var a=o.jqxWidget.element.className;if(a.indexOf("dropdownlist")>=0||a.indexOf("datetimeinput")>=0||a.indexOf("combobox")>=0||a.indexOf("menu")>=0)if(o.jqxWidget.isOpened)o.jqxWidget.isOpened()&&o.jqxWidget.close()}e(i.editorsCache[n]).detach()}i.beginUpdate();var l=i.getrowdisplayindex(s);if(i.editSettings.editSingleCell){var h=null,d=null;(s=i.rowsByKey[t])&&(h=s[i.editColumn.datafield],d=s[i.editColumn.displayfield]),i._raiseEvent("cellEndEdit",{value:h,displayValue:d,key:t,index:l,dataField:i.editColumn.datafield,displayField:i.editColumn.displayfield,boundIndex:r,row:i.rowsByKey[t]})}i._raiseEvent("rowEndEdit",{key:t,index:l,boundIndex:r,row:i.rowsByKey[t]}),i.endUpdate(!1),i.editColumn=null,i.editKey=null,i._renderrows(),i._renderhorizontalscroll(),i.host.focus(),setTimeout((function(){i.host.focus()}),10)},_showvalidationpopup:function(t,i,s,r){if(null==s)s=this.gridlocalization.validationstring;r.addClass(this.toThemeProperty("jqx-grid-validation-label"));var n=e("<div style='z-index: 99999; top: 0px; left: 0px; position: absolute;'></div>"),o=e("<div style='width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'></div>");n.html(s),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),n.addClass(this.toThemeProperty("jqx-grid-validation")),n.addClass(this.toThemeProperty("jqx-rc-all")),n.hide(),o.hide(),n.prependTo(this.table),o.prependTo(this.table);var a=this.hScrollInstance.value,l=parseInt(a),h=this.getColumn(i).uielement;if(t){var d=t;n.css("top",parseInt(d.position().top)+30+"px");var c=parseInt(n.css("top"));o.css("top",c-11),o.removeClass(),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var u=!1;c>=this._table.height()&&(o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),o.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),(c=parseInt(d.position().top)-d.outerHeight()-5)<0&&(c=0,o.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),u=!0),n.css("top",c+"px"),o.css("top",c+n.outerHeight()-9));var p=-l+parseInt(e(h).position().left),m=parseInt(this._table.css("left"));isNaN(m)&&(m=0),0!=m&&(l=0),o.css("left",l+p+30);var f=n.width();if(f+p>this.host.width()-20)p-=f+p-this.host.width()+40;u?n.css("left",l+parseInt(e(h).position().left)-n.outerWidth()):n.css("left",l+p),r.mouseenter((function(){r.hasClass("jqx-grid-validation-label")&&(n.show(),o.show())})),r.mouseleave((function(){n.hide(),o.hide()})),this.popups||(this.popups=new Array),this.popups[this.popups.length]={validation:n,validationrow:o}}},addRow:function(t,i,s,r){if(null!=i){this._datachanged=!0,null==s&&(s="last");var n=!1,o=this.that;if(null==t){var a=this.dataview.filters&&this.dataview.filters.length>0,l=a?this.source.records.length:this.dataview.totalrecords;if(!this.pageable){this.source._source.totalrecords?this.dataview.totalrecords=this.source._source.totalrecords:this.source._source.totalRecords?this.dataview.totalrecords=this.source._source.totalRecords:0!==this.source.hierarchy.length?this.dataview.totalrecords=this.source.hierarchy.length:this.dataview.totalrecords=this.source.records.length;l=a?this.source.records.length:this.dataview.totalrecords}if(e.isArray(i)){var h=new Array;e.each(i,(function(e,t){var s=o.dataview.getid(o.dataview.source.id,i[e],l+e);h.push(s),o.getColumn(o.dataview.source.id)&&(i[e][o.dataview.source.id]=s)})),t=h}else t=this.dataview.getid(this.dataview.source.id,i,l),this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t)}else e.isArray(i)?e.each(i,(function(e,s){var r=t[e];o.getColumn(o.dataview.source.id)&&(i[e][o.dataview.source.id]=r)})):this.getColumn(this.dataview.source.id)&&(i[this.dataview.source.id]=t);var d=!!this.treeGrid&&!!this.treeGrid.virtualModeCreateRecords,c=function(t,i,s,n){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);var o=t.vScrollInstance.value,a=!1;if(e.isArray(s)?e.each(s,(function(e,s){var o=null;null!=i&&null!=i[e]&&(o=i[e]),this.uid=o,t.rowsByKey[o]=this,i==r&&(r=null),a=t.source.addRecord(this,n,r,d)})):(s.uid=i,t.rowsByKey[i]=s,i==r&&(r=null),a=t.source.addRecord(s,n,r,d)),t.groups&&t.groups.length>0){var l=Object.prototype.toString,h=t.groups[0];if(Object.prototype.toString="function"==typeof h?h:function(){return this[h]},!t.source.records.sort){var c=new Array,u=0,p=[];e.each(p,(function(){c[0+u++]=this})),p=c}t.source.records.sort((function(t,i){if(void 0===t&&(t=null),void 0===i&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return-1;if(null!==t&&null===i)return 1;var s=0,r=0;if(t&&t.uid&&(s=t.uid),i&&i.uid&&(r=i.uid),t=t.toString(),i=i.toString(),e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase());try{if(t<i)return-1;if(t>i)return 1}catch(e){}if("number"==typeof s){if(s<r)return-1;if(s>r)return 1}return 0})),Object.prototype.toString=l}return t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null,null!=t._updating&&0!=t._updating||t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.push(s),t.source.suspendKO=!1),t.vScrollInstance.setPosition(o),a};if(this.source.addrow){var u=function(e,r){1!=e&&null!=e||(null!=r&&(t=r),c(o,t,i,s))};try{null==(n=o.treeGrid?this.source.addrow(t,i,s,r,u):this.source.addrow(t,i,s,u))&&(n=!0)}catch(e){n=!1}if(0==n)return!1}else c(this,t,i,s);return n}return!1},deleteRow:function(e){var t=this._getkey(e);this.deleterowbykey(t)},deleterowbykey:function(t){if(null!=t){this._datachanged=!0;var i=!1,s=this.that,r=function(t,i){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var s=!1,r=t.vScrollInstance.value;if(e.isArray(i))e.each(i,(function(){var e=this;if(t.rowsByKey[e]){if(s=!0,t.rowinfo[e].selected&&t.unselectrowbykey(e,!1),t.treeGrid)var i=t._names(),r=t.rowsByKey[e][i.parent];if(delete t.rowsByKey[e],t.treeGrid&&t.rowinfo[e]){var n=t.rowinfo[e].row.records,o=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&o(e[i].records)}};n&&(o(n),delete t.rowinfo[e])}t.source.deleteRecord(e),r&&i&&r.records&&0==r.records.length&&(r[i.leaf]=!0,t.rowinfo[r.uid][i.leaf]=!0)}}));else{s=!1;if(t.rowsByKey[i]){if(s=!0,t.rowinfo[i]&&t.rowinfo[i].selected&&t.unselectrowbykey(i,!1),t.treeGrid)var n=t._names(),o=t.rowsByKey[i][n.parent];if(delete t.rowsByKey[i],t.treeGrid&&t.rowinfo[i]){var a=t.rowinfo[i].row.records,l=function(e){for(var i=0;i<e.length;i++){var s=e[i].uid;delete t.rowsByKey[s],delete t.rowinfo[s],e[i].records&&l(e[i].records)}};a&&l(a)}delete t.rowinfo[i],t.source.deleteRecord(i),o&&n&&o.records&&0==o.records.length&&(o[n.leaf]=!0,t.rowinfo[o.uid][n.leaf]=!0)}}return t.refresh(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata&&(t.source.suspendKO=!0,t.source._source._localdata.pop(),t.source.suspendKO=!1),t.vScrollInstance.setPosition(r),s};if(this.source.deleterow){try{this.source.deleterow(t,(function(e){1!=e&&null!=e||r(s,t)})),null==i&&(i=!0)}catch(e){i=!1}}else i=r(s,t);return i}return!1},updateRow:function(e,t){var i=this._getkey(e);this.updaterowbykey(i,t)},updaterowbykey:function(t,i,s,r){if(null!=t&&null!=i){var n=this.that,o=!1,a=function(t,i,r){if(t._loading)throw new Error("jqxDataTable: "+t.loadingErrorMessage);t.dataview._filteredData=null,t.dataview._sortData=null,t.dataview._sortHierarchyData=null;var n=!1;if(e.isArray(i))e.each(i,(function(e,i){var s=t.rowsByKey[this],o=function(t,i){s?s[this]=r[e]:n=!1,n=!0};o(),t.treeGrid&&(s=t.treeGrid.getRow(this),o())}));else{var o=function(e){if(e){for(var i=0;i<t.columns.records.length;i++)e[t.columns.records[i].datafield]=r[t.columns.records[i].datafield],t.groups.length>0&&e.originalRecord&&(e.originalRecord[t.columns.records[i].datafield]=r[t.columns.records[i].datafield]);n=!0}else n=!1};o(l=t.rowsByKey[i]),t.treeGrid&&o(l=t.treeGrid.getRow(i))}var a=t.vScrollInstance.value;if(null!=s&&1!=s||null!=t._updating&&0!=t._updating||t._renderrows(),t.showAggregates&&t._updatecolumnsaggregates&&t._updatecolumnsaggregates(),t.source&&t.source._knockoutdatasource&&!t._updateFromAdapter&&t.autokoupdates&&t.source._source._localdata){var l=t.rowsByKey[i],h=t.getrowindex(l),d=t.source._source._localdata()[h];t.source.suspendKO=!0,t.source._source._localdata.replace(d,e.extend({},l)),t.source.suspendKO=!1}return t.vScrollInstance.setPosition(a),n};if(this.source.updaterow){try{null==(o=this.source.updaterow(t,i,(function(e){1!=e&&null!=e||(a(n,t,i),r&&r(),n._renderrows(!1),n.autoRowHeight&&(n._updateScrollbars(),n._arrange()))})))&&(o=!0)}catch(e){o=!1}}else(o=a(n,t,i))&&r&&r(),n._renderrows(!1),n.autoRowHeight&&(n._updateScrollbars(),n._arrange());return o}return!1},lockRow:function(e){var t=this._getkey(e);this.lockrowbykey(t)},unlockRow:function(e){var t=this._getkey(e);this.unlockrowbykey(t)},lockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!0:this.rowinfo[e]={locked:!0},this._renderrows()},unlockrowbykey:function(e){this.rowinfo[e]?this.rowinfo[e].locked=!1:this.rowinfo[e]={locked:!1},this._renderrows()},selectRow:function(e){var t=this._getkey(e);this.selectrowbykey(t)},unselectRow:function(e){var t=this._getkey(e);this.unselectrowbykey(t)},selectrowbykey:function(e,t,i){"keyboard"!=t&&"mouse"!=t&&(this._lastSelectedKey=e);var s=!1!==i;this._doSelection(e,!0,s);var r=this.rowsByKey[e],n=this.getrowindex(r),o=this.getrowdisplayindex(r);this._raiseEvent("rowSelect",{key:e,index:o,boundIndex:n,row:this.rowsByKey[e]})},unselectrowbykey:function(e,t){var i=!1!==t;this._doSelection(e,!1,i);var s=this.rowsByKey[e],r=this.getrowindex(s),n=this.getrowdisplayindex(s);this._raiseEvent("rowUnselect",{key:e,index:n,boundIndex:r,row:this.rowsByKey[e]})},getSelection:function(){var e=new Array;if(this.rowinfo)for(var t in this.rowinfo){var i=this.rowinfo[t];i.selected&&e.push(i.row)}return e},showdetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!0;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var n=r.children(),o=e(n[0]);if(this.rtl)o=e(n[n.length-1]);this.rtl?(o.removeClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),o.addClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-left")),o.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(o.removeClass(this.toThemeProperty("jqx-grid-group-collapse")),o.addClass(this.toThemeProperty("jqx-grid-group-expand")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-right")),o.addClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().show();var a=r.next();if(a.show(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().show(),r.next().children().show()),!i.initialized){var l=i.detailsHeight,h=this.initRowDetails(t,i.row,e(e(a).children().children().children()[0]),i);i.details=e(a).children().children().children()[0],i.initialized=!0,!1!==h&&i.detailsHeight==l||(!1===h&&(i.expanded=!1,i.nodetails=!0,a.hide()),this._renderrows())}this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var d=this.getrowindex(i.row),c=this.getrowdisplayindex(i.row);this._raiseEvent("rowExpand",{row:i.row,index:c,boundIndex:d,rowKey:t})}}}},hidedetailsbykey:function(t){if(this.rowDetails){var i=this.rowinfo[t];if(i){i.expanded=!1;var s=e(this._table.children()[1]).children("[data-key="+t+"]"),r=e(this._pinnedTable.children()[1]).children("[data-key="+t+"]");if(s){var n=r.children(),o=e(n[0]);if(this.rtl)o=e(n[n.length-1]);this.rtl?(o.addClass(this.toThemeProperty("jqx-grid-group-collapse-rtl")),o.removeClass(this.toThemeProperty("jqx-grid-group-expand-rtl")),o.addClass(this.toThemeProperty("jqx-icon-arrow-left")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))):(o.addClass(this.toThemeProperty("jqx-grid-group-collapse")),o.removeClass(this.toThemeProperty("jqx-grid-group-expand")),o.addClass(this.toThemeProperty("jqx-icon-arrow-right")),o.removeClass(this.toThemeProperty("jqx-icon-arrow-down"))),s.next().hide(),r.next().hide(),e.jqx.browser.msie&&e.jqx.browser.version<8&&(s.next().children().hide(),r.next().children().hide()),this._updateScrollbars(),("auto"===this.height||null===this.height||this.autoheight)&&this._arrange();var a=this.getrowindex(i.row),l=this.getrowdisplayindex(i.row);this._raiseEvent("rowCollapse",{row:i.row,index:l,boundIndex:a,rowKey:t})}}}},_getvirtualcolumnsindexes:function(e,t,i,s,r){if(this.rowDetails||this.rtl||this.editcell||this.width&&this.width.toString().indexOf("%")>=0||this.exporting)return{start:0,end:i+s};var n=0,o=-1,a=i+s;if(this.autorowheight)return{start:0,end:i+s};if(!r)for(var l=0;l<i+s;l++){if(this.columns.records[l].hidden||(n+=this.columns.records[l].width),n>=e&&-1==o&&(o=l),n>t+e){a=l;break}}return++a>i+s&&(a=i+s),-1==o&&(o=0),{start:o,end:a}},_renderhorizontalscroll:function(){var e=this.hScrollInstance,t=e.value;"hidden"===this.hScrollBar.css("visibility")&&(e.value=0,t=0);var i=parseInt(t);if(null!=this.table){var s=this.columnsrow,r=this.columns.records.length-0,n=this.columns.records,o=0==this.source.records.length;if(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(i=e.max-i),o&&!this._haspinned)this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px";else{if(this._haspinned||null==this._haspinned){for(var a=0;a<0+r;a++){if(n[a].pinned){var l=null;if(this.showAggregates&&this.statusbar[0].cells&&(l=this.statusbar[0].cells[a]),this.filterrow&&this.filterrow[0].cells)var h=this.filterrow[0].cells[a];if(this.rtl)s[0].cells[a].style.marginLeft=-parseInt(t)+"px",l&&(l.style.marginLeft=-parseInt(t)+"px"),this.filterrow&&h&&(h.style.marginLeft=-parseInt(t)+"px");else s[0].cells[a].style.marginLeft=i+"px",l&&(l.style.marginLeft=i+"px"),this.filterrow&&h&&(h.style.marginLeft=i+"px")}}if(this.columnsVirtualization){for(var d=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<d;u++){var p=u,m=this.columns.records[p].element[0];if(!this.columns.records[p].pinned)if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=c;u<this.columns.records.length;u++){p=u,m=this.columns.records[p].element[0];if(!this.columns.records[p].pinned)if(m.parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=d;u<c;u++){p=u;if(m=this.columns.records[p].element[0],!this.columns.records[p].pinned)if(m.parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(g)}}this._table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}else if(0==this._haspinned){if(this.columnsVirtualization){var f;for(d=(f=this._getvirtualcolumnsindexes(i,this.host.width(),0,this.columns.records.length,!1)).start,c=f.end,u=0;u<d;u++){p=u;if((m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=c;u<this.columns.records.length;u++){p=u;if((m=this.columns.records[p].element[0]).parentNode&&m.parentNode.removeChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode&&g.parentNode.removeChild(g)}for(u=d;u<c;u++){var g;p=u;if((m=this.columns.records[p].element[0]).parentNode||this.columnsrow[0].appendChild(m),this.filterrow&&this.filterrow[0])(g=this.filterrow[0].cells[p]).parentNode||this.filterrow[0].appendChild(g)}}this.table[0].style.left=-i+"px",s[0].style.marginLeft=-i+"px"}this.filterrow&&(this.filterrow[0].style.left=-i+"px",this.rtl&&(this.filterrow[0].style.left=-i+parseInt(this.content.css("left"))+"px"))}if(this.showAggregates&&this.aggregates[0].cells){var v=0;this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&(v="hidden"!=this.hScrollBar.css("visibility")?2+parseInt(this.hScrollBar.css("left")):3+parseInt(this.vScrollBar.width())),this.aggregates[0].style.marginLeft=-i+v+"px"}}},_initializeColumns:function(){var i=this.source.datafields;null==i&&this.source._source&&(i=this.source._source.datafields);var s=!!i&&i.length>0;if(this.columns&&this.columns.records)for(var r=0;r<this.columns.records.length;r++)this._removecolumnhandlers(this.columns.records[r]);var n,o=this,a=new e.jqx.dataCollection(this.element),l=0;(this._haspinned=!1,this._columns?this.columns=this._columns:this._columns=this.columns,"checkbox"==this.selectionMode)&&((n=new t(o,this)).visibleindex=l++,n.width=o.indentWidth,n.checkboxcolumn=!0,n.editable=!1,n.columntype="checkbox",n.groupable=!1,n.draggable=!1,n.filterable=!1,n.resizable=!1,n.datafield="_checkboxcolumn",a.add(n));this.rowDetails&&!this.treeGrid&&((n=new t(o,this)).visibleindex=l++,n.width=o.indentWidth,n.editable=!1,n.rowDetailscolumn=!0,n.groupable=!1,n.draggable=!1,n.pinned=!0,n.filterable=!1,n.resizable=!1,n.text="",a.add(n));var h=new Array;e.each(this.columns,(function(e){if(null!=o.columns[e]){var i=new t(o,this);if(i.visibleindex=l++,null!=this.dataField&&(this.datafield=this.dataField),this.pinned&&(o._haspinned=!0),null==this.datafield)o.source&&o.source._source&&"array"==o.source._source.datatype&&(s||(o.source._source.datafields||(o.source._source.datafields=new Array),o.source._source.datafields.push({name:e.toString()})),this.datafield=e.toString(),this.displayfield=e.toString(),i.datafield=this.datafield,i.displayfield=this.displayfield);else{if(h[this.datafield])throw new Error("jqxDataTable: Invalid column 'dataField' setting. jqxDataTable's columns should be initialized with unique data fields.");h[this.datafield]=!0}a.add(i)}})),this.rtl&&a.records.reverse(),this.columns=a},addFilter:function(e,t){this.getColumn(e)&&this.dataview.addFilter(e,t)},removeFilter:function(e){this.getColumn(e)&&this.dataview.removeFilter(e)},clearFilters:function(e,t){this.dataview.filters=new Array,this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,!1!==t&&this.resetfilter(),!1!==e&&this.applyFilters()},resetfilter:function(){if(this.filterinput&&this.filterinput.val(""),this.filterrow)for(var t=0;t<this.filterrow[0].cells.length;t++){var i=this.filterrow[0].cells[t],s=e(i).find("input:first"),r=e(i).find(".filterconditions"),n=this.columns.records[t];if(n.filterable){s.val("");var o,a=this.getcolumntypebydatafield(n),l=new e.jqx.filter;switch(a){case"number":case"int":case"float":case"decimal":o="numericfilter",l.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":o="booleanfilter",l.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":o="datefilter",l.getoperatorsbyfiltertype("datefilter");break;case"string":o="stringfilter",l.getoperatorsbyfiltertype("stringfilter")}r.length>0&&("stringfilter"===o?r.jqxDropDownList({selectedIndex:2}):r.jqxDropDownList({selectedIndex:0}))}}},applyFilters:function(){if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this.serverProcessing?(this.dataview.pagenum=0,this.updateBoundData("filter")):(this.goToPage(0),this.refresh()),arguments&&arguments.length>0){if(this._updateSimpleFilter&&this.filtercolumnsList){var e=this.filtercolumnsList.jqxDropDownList("getSelectedItem").value;this._updateSimpleFilter(e)}this._updateFilterRow&&this._updateFilterRow()}this._raiseEvent("filter",{filters:this.dataview.filters})},sortBy:function(e,t){if(this.dataview._filteredData=null,this.dataview._sortData=null,this.dataview._sortHierarchyData=null,this._loading)throw new Error("jqxDataTable: "+this.loadingErrorMessage);if(this.editable&&null!=this.editKey)this.endroweditbykey(this.editKey);if(null==e&&(t=null,e=this.sortcolumn),e){var i,s=this;i="a"==t||"asc"==t||"ascending"==t||1==t,s.sortdirection=null!=t?{ascending:i,descending:!i}:{ascending:!1,descending:!1},s.sortcolumn=null!=t?e:null,s.source.sort&&(s.dataview.sortfield=e,s.dataview.sortfielddirection=null==t?"":i?"asc":"desc",s.source.sort&&!this._loading&&s.source.sort(e,t)),s.dataview.sortBy(e,t),s._raiseEvent("sort",{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection})}this.serverProcessing?this.updateBoundData("sort"):this.refresh()},_togglesort:function(e){if(!this.disabled&&e.sortable&&this.sortable){var t={sortcolumn:this.sortcolumn,sortdirection:this.sortdirection},i=null;i=null==t.sortcolumn||t.sortcolumn!=e.displayfield||1!=(i=t.sortdirection.ascending)&&null,this.sortBy(e.displayfield,i)}},_renderfilter:function(){var t=this,i=e("<div style='position: relative; margin: 4px;'><input style='width: 200px; height: 22px; direction: ltr;' role='textbox' type='text'/><div style='cursor: pointer; height: 100%;'><div></div></div></div>");i.height(22);var s=i.find("input"),r=i.find("div:first");i.addClass(this.toThemeProperty("jqx-rc-all")),i.addClass(this.toThemeProperty("jqx-widget")),i.addClass(this.toThemeProperty("jqx-input-group")),s.addClass(this.toThemeProperty("jqx-input")),s.addClass(this.toThemeProperty("jqx-rc-l")),s.addClass(this.toThemeProperty("jqx-input-group-addon")),s.addClass(this.toThemeProperty("jqx-widget")),s.addClass(this.toThemeProperty("jqx-widget-content")),r.addClass(this.toThemeProperty("jqx-fill-state-normal")),r.addClass(this.toThemeProperty("jqx-rc-r")),r.addClass(this.toThemeProperty("jqx-input-group-addon")),r.find("div").addClass(this.toThemeProperty("jqx-icon-search")),this.rtl&&(s.addClass(this.toThemeProperty("jqx-rtl")),s.css("direction","rtl")),this.filter.children().remove(),this.filterbutton=r;for(var n=new Array,o=0;o<t.columns.records.length;o++)t.columns.records[o].datafield&&t.columns.records[o].filterable&&n.push({label:t.columns.records[o].text,value:t.columns.records[o].displayfield});var a=n.length<10,l=e("<div style='position: relative; top: 50%; display: none; margin-right: 4px; margin-left: 4px; float: left;'>"+this.gridlocalization.filtersearchstring+"</div>");this.filter.append(l);var h=e("<div class='filtercolumns' style='position: relative; margin: 4px; float: left;'></div>");this.filter.append(h),h.jqxDropDownList&&h.jqxDropDownList({theme:this.theme,enableBrowserBoundsDetection:!0,autoDropDownHeight:a,rtl:t.rtl,dropDownWidth:220,selectedIndex:0,width:"auto",height:20,source:n,displayMember:"label",valueMember:"value"}),this.filtercolumnsList=h;var d=function(e){t.filterinput.val("");for(var i=0;i<t.dataview.filters.length;i++){var s=t.dataview.filters[i];s.datafield===e&&t.filterinput.val(s.filter.getfilterat(0).filtervalue)}};35!==t.filterHeight&&(t.filtercolumnsList.css("margin-top",t.filterHeight/2-10),i.css("margin-top",t.filterHeight/2-10)),t._updateSimpleFilter=d,this.addHandler(h,"select",(function(e){var t=e.args.item.value;d(t)})),"simple"===this.filterMode?(this.filtercolumnsList.hide(),l.show(),l.css("margin-top",-this.filter.height()/2),i.css("float","left")):(this.filtercolumnsList.show(),l.hide());var c=function(){if(!r.hasClass("jqx-fill-state-disabled")){var i=s.val();if(h.jqxDropDownList)var n=h.jqxDropDownList("getSelectedItem");var o=function(i,s,r){var n=new e.jqx.filter,o=t.getcolumntypebydatafield(i),a=t._getfiltertype(o);if("datefilter"==a)var l=n.createfilter(a,s,"EQUAL",null,i.cellsFormat,t.gridlocalization);else if("numericfilter"==a||"booleanfilter"==a){"numericfilter"==a&&(","==t.gridlocalization.decimalseparator&&s.indexOf(t.gridlocalization.decimalseparator)>=0&&(s=s.replace(t.gridlocalization.decimalseparator,".")),s.indexOf(t.gridlocalization.currencysymbol)>=0&&(s=s.replace(t.gridlocalization.currencysymbol,"")),s.indexOf(t.gridlocalization.percentagesymbol)>=0&&(s=s.replace(t.gridlocalization.percentagesymbol,"")));l=n.createfilter(a,s,"EQUAL",null,i.cellsFormat,t.gridlocalization)}else l=n.createfilter(a,s,"CONTAINS");return n.operator=r,n.addfilter(0,l),n};if("simple"!==t.filterMode){if(n){var a=n.value,l=o(c=t.getColumn(a),i,"and");i.length>0?(t.removeFilter(a),t.addFilter(a,l),t.applyFilters()):(t.removeFilter(a),t.applyFilters()),"advanced"===t.filterMode&&t._updateFilterRow&&t._updateFilterRow(!0)}}else{if(t.clearFilters(!1,!1),i.length>0)for(var d=0;d<t.columns.records.length;d++){var c;l=o(c=t.columns.records[d],i,"or");t.addFilter(c.datafield,l)}t.applyFilters()}0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)}};if(s.keydown((function(e){if(13===e.keyCode)return c(),e.preventDefault&&e.preventDefault(),!1})),r.click((function(){c()})),this.filterinput=s,this.filter.append(i),"advanced"==this.filterMode){var u=e("<a style='float: left; position: relative; margin: 2px; margin-left: 10px;' href='#'>"+this.gridlocalization.filterstring+"</a>");i.append(u),this.addHandler(u,"click",(function(i){var s=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=t.columns.records[s];if(o.filterable){!0===i&&n.val("");for(var a=0;a<t.dataview.filters.length;a++){var l=t.dataview.filters[a];if(l.datafield===o.displayfield){n.val(l.filter.getfilterat(0).filtervalue);break}}}}},r=function(i){if(t.filterrow)for(var s=0;s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=t.columns.records[s];o.hidden?r.style.visibility="hidden":r.style.visibility="inherit",o.filterable&&(r.style.left=parseInt(0)+parseInt(o.uielement[0].style.left)+"px",r.style.width=6+o.width+"px",n[0]&&(n[0].style.width=o.width-6-22+"px"))}};t._updateFilterRow=s,t._arrangeFilterRow=r;var n=function(){t.filtercolumnsList.jqxDropDownList({disabled:!0}),t.filterinput.addClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!0),t.filterbutton.addClass(t.toThemeProperty("jqx-fill-state-disabled"))};return 0===t.filter.find(".filterrow").length?(t._renderadvancedfilter(),n(),s(),t._arrange(),r()):("none"===t.filter.find(".filterrow").css("display")?(n(),t.filter.find(".filterrow").removeClass("filterrow-hidden"),s(),t.filter.find(".filterrow").show(),r()):(t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),d(t.filtercolumnsList.jqxDropDownList("getSelectedItem").value),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide()),t._arrange()),!1}))}var p=e("<div style='float: left; width: 16px; height: 16px; position: relative; margin: 3px;'></div>");p.attr("title",t.gridlocalization.filterclearstring),p.addClass(t.toThemeProperty("jqx-icon-close")),i.append(p),p.hide(),t.filtericon=p,p.click((function(){t.clearFilters(),t.filtericon.fadeOut(200)})),t.dataview.filters.length>0&&("advanced"!=t.filterMode?d(t.dataview.filters[0].datafield):t._updateFilterRow&&t._updateFilterRow())},_renderadvancedfilter:function(){var t=this,i=function(){t.clearFilters(!1,!1);for(var i=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,s=(t.filterinput.val(),0);s<t.filterrow[0].cells.length;s++){var r=t.filterrow[0].cells[s],n=e(r).find("input:first"),o=e(r).find(".filterconditions"),a=t.columns.records[s],l="";if(a.filterable){var h,d;a.displayfield===i&&t.filterinput.val(n.val());var c=t.getcolumntypebydatafield(a),u=new e.jqx.filter;switch(c){case"number":case"int":case"float":case"decimal":h="numericfilter",d=u.getoperatorsbyfiltertype("numericfilter");break;case"boolean":case"bool":h="booleanfilter",d=u.getoperatorsbyfiltertype("booleanfilter");break;case"date":case"time":h="datefilter",d=u.getoperatorsbyfiltertype("datefilter");break;case"string":h="stringfilter",d=u.getoperatorsbyfiltertype("stringfilter")}if(0==o.length)l="stringfilter"===h?d[2]:d[0];else{var p=o.jqxDropDownList("getSelectedItem");l=p?d[p.index]:"stringfilter"===h?d[2]:d[0]}var m=n.val();if(m.length>0||0==m.length&&"NOT_NULL"==l||0==m.length&&"NOT_EMPTY"==l||0==m.length&&"EMPTY"==l||0==m.length&&"NULL"==l){var f=a.displayfield,g=new e.jqx.filter;"numericfilter"==h&&(","==t.gridlocalization.decimalseparator&&m.indexOf(t.gridlocalization.decimalseparator)>=0&&(m=m.replace(t.gridlocalization.decimalseparator,".")),m.indexOf(t.gridlocalization.currencysymbol)>=0&&(m=m.replace(t.gridlocalization.currencysymbol,"")),m.indexOf(t.gridlocalization.percentagesymbol)>=0&&(m=m.replace(t.gridlocalization.percentagesymbol,"")));u=g.createfilter(h,m,l,null,a.cellsFormat,t.gridlocalization);g.addfilter(0,u),t.addFilter(f,g)}}}t.dataview.filters.length>0?t.applyFilters():t.clearFilters(),0==t.dataview.filters.length?t.filtericon.fadeOut(200):t.filtericon.fadeIn(200)};!function(){var s=e("<div style='position: relative;' class='filterrow'></div>").appendTo(t.filter);t.filterrow=s,s[0].cells=new Array,s.height(24),s.width(t.table.width());var r=t.filtercolumnsList.jqxDropDownList("getSelectedItem").value,n=t.filterinput.val();e.each(t.columns.records,(function(){var o=this,a=e("<div></div>").appendTo(s);if(a.css("position","absolute"),a.css("left",0+parseInt(o.uielement[0].style.left)),o.pinned&&(a.css("z-index",t.tableZIndex+t.columns.records.length),a.addClass(t.toThemeProperty("jqx-widget-header"))),s[0].cells.push(a[0]),!this.filterable)return!0;var l=e("<input style='margin-left: 4px; height: 20px; float: left;' role='textbox' type='text'/>").appendTo(a);l.keydown((function(e){13===e.keyCode&&i()})),o.displayfield===r&&l.val(n),l.addClass(t.toThemeProperty("jqx-input")),l.addClass(t.toThemeProperty("jqx-rc-all")),l.addClass(t.toThemeProperty("jqx-widget")),l.addClass(t.toThemeProperty("jqx-widget-content"));var h=e("<div style='cursor: pointer; margin-left: 4px; margin-bottom: 4px; margin-top: 6px; width: 18px; position: relative; margin-top: 4px; float: left;'></div>").appendTo(a);h.append(e("<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>")),l.focus((function(){t.ensureColumnVisible(o.displayfield),t.filter[0].scrollLeft=0,t.ensureColumnVisible(o.displayfield),setTimeout((function(){t.filter[0].scrollLeft=0,t.ensureColumnVisible(o.displayfield)}),10)})),h.click((function(){var i=e("<div class='filterconditions' style='position: relative; margin-top: 1px; float: left;'></div>");i.insertAfter(h),h.remove();var s,r=t.getcolumntypebydatafield(o),n=t._getfiltersbytype(r);s="string"===r?2:0,i.jqxDropDownList({theme:t.theme,enableBrowserBoundsDetection:!0,renderMode:"simple",arrowSize:0,selectedIndex:s,rtl:t.rtl,dropDownWidth:230,dropDownHeight:180,width:20,height:20,source:n,selectionRenderer:function(){return"<div style='width: 16px; height: 16px;' class='"+t.toThemeProperty("jqx-grid-column-filterbutton")+"'></div>"}}),t.addHandler(i,"close",(function(e){l.focus(),setTimeout((function(){l.focus()}),10)})),i.removeAttr("tabindex"),i.find("div").removeAttr("tabindex"),i.jqxDropDownList("open")})),l[0].style.width=o.width-6-22+"px"})),e("<div style='clear: both;'></div>").appendTo(s)}();var s=e("<div style='position:relative;' class='filterrow'></div>").appendTo(t.filter),r=e("<input type='button' style='position: relative; float: left; margin-top: 4px; margin-left: 4px;' value='"+t.gridlocalization.filterapplystring+"'/>").appendTo(s),n=e("<input type='button' style='position: relative; float: left; margin-top: 4px;  margin-left: 4px;' value='"+t.gridlocalization.filtercancelstring+"'/>").appendTo(s);r.css("left",0),n.css("left",0),r.css("top","4px"),n.css("top","4px"),r.jqxButton({theme:t.theme}),n.jqxButton({theme:t.theme}),n.click((function(){t.filtercolumnsList.jqxDropDownList({disabled:!1}),t.filterinput.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filterinput.attr("disabled",!1),t.filterbutton.removeClass(t.toThemeProperty("jqx-fill-state-disabled")),t.filter.find(".filterrow").addClass("filterrow-hidden"),t.filter.find(".filterrow").hide(),t._arrange()})),r.click((function(){i()})),t._renderhorizontalscroll()},_getfiltertype:function(e){var t="stringfilter";switch(e){case"number":case"int":case"float":case"decimal":t="numericfilter";break;case"boolean":case"bool":t="booleanfilter";break;case"date":case"time":t="datefilter";break;case"string":t="stringfilter"}return t},getcolumntypebydatafield:function(t){var i=this,s=i.source.datafields||(i.source._source?i.source._source.datafields:null);if(s){var r="";if(e.each(s,(function(){if(this.name==t.displayfield)return this.type&&(r=this.type),!1})),r)return r}return"string"},_getfiltersbytype:function(e){var t=this,i="";switch(e){case"number":case"float":case"int":i=t.gridlocalization.filternumericcomparisonoperators;break;case"date":i=t.gridlocalization.filterdatecomparisonoperators;break;case"boolean":case"bool":i=t.gridlocalization.filterbooleancomparisonoperators;break;default:i=t.gridlocalization.filterstringcomparisonoperators}return i},_getcellvalue:function(e,t){var i=null;return i=t[e.datafield],null!=e.displayfield&&(i=t[e.displayfield]),null==i&&(i=""),i},_renderrows:function(t){if(this.editable&&null!=this.editKey&&!1!==t)this.endroweditbykey(this.editKey);if(this.treeGrid)this.treeGrid._renderrows();else if(!this._loading&&!this._updating){this.rendering&&this.rendering();var i=this,s=0;this.table[0].rows=new Array;var r=this.toTP("jqx-cell")+" "+this.toTP("jqx-widget-content");this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var n=this.columns.records.length,o=e.jqx.browser.msie&&e.jqx.browser.version<8;o&&this.host.attr("hideFocus","true");var a=i.groups.length,l=new Array,h=this.source.records;if(h=this.dataview.evaluate(h),this.dataViewRecords=h,"all"==this.dataview.pagesize||!this.pageable||this.serverProcessing){var d=h;if(this.pageable&&this.serverProcessing&&h.length>this.dataview.pagesize)d=h.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize)}else d=h.slice(this.dataview.pagesize*this.dataview.pagenum,this.dataview.pagesize*this.dataview.pagenum+this.dataview.pagesize);if(i.groups&&i.groups.length>0){var c=this.pageable?this.dataview.pagesize*this.dataview.pagenum:0;if("root"===this.pageSizeMode){var u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",h,0);i.rootRecordsLength=u.length,u=function(e){for(var t=0,s=new Array,r=0;r<e.length;r++){var n=e[r];if(0==n.level&&t++,t>i.dataview.pagesize*i.dataview.pagenum&&t<=i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize&&s.push(n),t>i.dataview.pagesize*i.dataview.pagenum+i.dataview.pagesize)break}return s}(u)}else u=i.source.getGroupedRecords(i.groups,"records","label",null,"data",null,"parent",d,c);var p=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];if(t.push(s),s.records&&s.records.length>0)for(var r=p(s.records,new Array),n=0;n<r.length;n++)r[n].leaf,t.push(r[n])}return t};d=l=p.call(i,u,new Array),this.rowsByKey=new Array;for(var m=0;m<d.length;m++){var f=d[m];this.rowsByKey[f.uid]=f}}l=d;this.renderedRecords=l;var g=l.length,v=this.tableZIndex,x=0,b=0;if(o)for(var y=0;y<n;y++){(L=(I=this.columns.records[y]).width)<I.minwidth&&(L=I.minwidth),L>I.maxwidth&&(L=I.maxwidth);var w=e('<table><tr><td role="gridcell" style="max-width: '+L+"px; width:"+L+'px;" class="'+r+'"></td></tr></table>');e(document.body).append(w);var _=w.find("td");x=1+parseInt(_.css("padding-left"))+parseInt(_.css("padding-right")),w.remove();break}var q=this.rtl?" "+this.toTP("jqx-grid-table-rtl"):"",j="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+q+"' id='table"+this.element.id+"'><colgroup>",T="<table cellspacing='0' cellpadding='0' class='"+this.toTP("jqx-grid-table")+q+"' id='pinnedtable"+this.element.id+"'><colgroup>",C=0;for(y=0;y<n;y++){var I;if((I=this.columns.records[y]).hidden)C++;else{if((L=I.width)<I.minwidth&&(L=I.minwidth),L>I.maxwidth&&(L=I.maxwidth),(L-=x)<0&&(L=0),o){var S=L;if(y==C&&S++,I.rowDetailscolumn)T+="<col style='max-width: "+(S=S+4)+"px; width: "+S+"px;'>",j+="<col style='max-width: "+S+"px; width: "+S+"px;'>";else T+="<col style='max-width: "+S+"px; width: "+S+"px;'>",j+="<col style='max-width: "+S+"px; width: "+S+"px;'>"}else T+="<col style='max-width: "+L+"px; width: "+L+"px;'>",j+="<col style='max-width: "+L+"px; width: "+L+"px;'>";b+=L}}j+="</colgroup>",T+="</colgroup>",this._hiddencolumns=!1;var k=!1;if(this.rowDetails&&this._pinnedTable&&(this._pinnedTable.find("[data-role=details]").detach(),this._table.find("[data-role=details]").detach()),0===g){var P='<tr role="row">',H=this.host.height();if(this.pageable&&(H-=this.pagerHeight,"both"===this.pagerPosition&&(H-=this.pagerHeight)),H-=this.columnsHeight,this.filterable){var B=this.filter.find(".filterrow"),D=1;this.filter.find(".filterrow-hidden").length>0&&(D=0),H-=this.filterHeight+this.filterHeight*B.length*D}this.showstatusbar&&(H-=this.statusBarHeight),this.showAggregates&&(H-=this.aggregatesHeight),H<25&&(H=25),"hidden"!=this.hScrollBar[0].style.visibility&&(H-=this.hScrollBar.outerHeight()),("auto"===this.height||null===this.height||this.autoheight)&&(H=300);w='<td colspan="'+this.columns.records.length+'" role="gridcell" style="border: none; min-height: '+H+"px; height: "+H+"px; max-width:"+b+"px; width:"+b+"px;",r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");w+='" class="'+(r+=" "+this.toTP("jqx-center-align"))+'">',w+=this.gridlocalization.emptydatastring,j+=P+=w+="</td>",T+=P,this.table[0].style.width=b+2+"px",s=b}var z=this.getRows(),E=new Array;for(m=0;m<l.length;m++){var A=(f=l[m]).uid;void 0===f.uid&&(f.uid=this.dataview.generatekey());P='<tr data-key="'+A+'" role="row" id="row'+m+this.element.id+'">';var M='<tr data-key="'+A+'" role="row" id="row'+m+this.element.id+'">';if(a>0&&f.level<a)P='<tr data-role="row-group" data-key="'+A+'" role="row" id="row'+m+this.element.id+'">',M='<tr data-role="row-group" data-key="'+A+'" role="row" id="row'+m+this.element.id+'">';var O=0,N=0;for(y=0;y<n;y++){var L,W=this.columns.records[y];(W.pinned||this.rtl&&this.columns.records[n-1].pinned)&&(k=!0),(L=W.width)<W.minwidth&&(L=W.minwidth),L>W.maxwidth&&(L=W.maxwidth),(L-=x)<0&&(L=0);r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");W.pinned&&(r+=" "+this.toTP("jqx-grid-cell-pinned")),this.sortcolumn===W.displayfield&&(r+=" "+this.toTP("jqx-grid-cell-sort")),this.altRows&&m%2!=0&&(r+=" "+this.toTP("jqx-grid-cell-alt")),this.rtl&&(r+=" "+this.toTP("jqx-cell-rtl"));var R="";if(a>0&&f.level<a)if(o)r+=" "+this.toTP("jqx-grid-cell-pinned");else{r+=" "+this.toTP("jqx-grid-cell-pinned"),R+=' colspan="'+n+'"';S=0;for(var F=0;F<n;F++){var V=i.columns.records[F],U=V.width;U<V.minwidth&&(L=V.minwidth),U>V.maxwidth&&(L=V.maxwidth),(U-=x)<0&&(U=0),V.hidden||(S+=U)}L=S}w='<td role="gridcell" '+R+' style="max-width:'+L+"px; width:"+L+"px;";var K='<td role="gridcell" '+R+' style="pointer-events: none; visibility: hidden; border-color: transparent; max-width:'+L+"px; width:"+L+"px;";y==n-1&&1==n&&(w+="border-right-color: transparent;",K+="border-right-color: transparent;");var G=!1;a>0&&f.level<a&&(G=!0),G?this.rtl&&(r+=" "+this.toTP("jqx-right-align")):"left"!=W.cellsalign&&("right"===W.cellsalign?r+=" "+this.toTP("jqx-right-align"):r+=" "+this.toTP("jqx-center-align")),this.rowinfo[f.uid]&&(this.rowinfo[f.uid].selected&&!W.rowDetailscolumn&&this.editKey!==f.uid&&"none"!==this.selectionMode&&(r+=" "+this.toTP("jqx-grid-cell-selected"),r+=" "+this.toTP("jqx-fill-state-pressed")),this.rowinfo[f.uid].locked&&(r+=" "+this.toTP("jqx-grid-cell-locked"))),W.hidden?G||(w+="display: none;",K+="display: none;",this._hiddencolumns=!0):(O+=x+L,0==N&&(w+="border-left-width: 0px;",K+="border-left-width: 0px;"),N++),a>0&&o&&G&&y>=a&&(w+="font-size: 1px; border-color: transparent;  color: transparent;",K+="font-size: 1px; border-color: transparent; color: transparent;"),W.pinned&&(w+="pointer-events: auto;",K+="pointer-events: auto;"),!G&&W.rowDetailscolumn&&(this.rowinfo[f.uid]?this.rowinfo[f.uid].nodetails||(this.rowinfo[f.uid].expanded?(this.rtl?r+=" "+this.toTP("jqx-grid-group-expand-rtl"):r+=" "+this.toTP("jqx-grid-group-expand"),r+=" "+this.toTP("jqx-icon-arrow-down")):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))):this.rtl?(r+=" "+this.toTP("jqx-grid-group-collapse-rtl"),r+=" "+this.toTP("jqx-icon-arrow-left")):(r+=" "+this.toTP("jqx-grid-group-collapse"),r+=" "+this.toTP("jqx-icon-arrow-right"))),(!this.autoRowHeight||this.autoRowHeight&&!W.autoCellHeight)&&(r+=" "+this.toTP("jqx-grid-cell-nowrap "));var X=i._getcellvalue(W,f),Y=W.cellsFormat;if(a>0&&f.level<a&&(X=f.label,Y=i.getColumn(i.groups[f.level]).cellsFormat),""!=Y&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(X)?X=e.jqx.dataFormat.formatdate(X,Y,i.gridlocalization):(e.jqx.dataFormat.isNumber(X)||!isNaN(parseFloat(X))&&isFinite(X))&&(X=e.jqx.dataFormat.formatnumber(X,Y,i.gridlocalization))),G)this.groupsRenderer&&(X=this.groupsRenderer(X,f,f.level));else{if(""!=W.cellclassname&&W.cellclassname)if("string"==typeof W.cellclassname)r+=" "+W.cellclassname;else{var J=W.cellclassname(m,W.datafield,X,f);J&&(r+=" "+J)}if(""!=W.cellsRenderer&&W.cellsRenderer){if(-1===($=z.indexOf(f))&&f.originalRecord)var $=z.indexOf(f.originalRecord);(X=W.cellsRenderer($,W.datafield,X,f))&&(X.indexOf("<jqx-")>=0||X.indexOf(" ng-")>=0)&&E.push({rowKey:f.uid,row:$,column:W.datafield,value:X,columnIndex:y})}}if(w+='" class="'+r+'">',w+=X,w+="</td>",K+='" class="'+r+'">',K+=X,K+="</td>",W.pinned?(M+=w,P+=w):(P+=w,k&&(M+=K)),a>0&&!o&&f.level<a)break}if(0==s&&(this.table[0].style.width=O+2+"px",s=O),j+=P+="</tr>",T+=M+="</tr>",this.rowinfo[f.uid]?("group"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].group=G),"row"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].row=f),"details"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].details=null),"detailsHeight"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].detailsHeight=200),"initialized"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].initialized=!1),"expanded"in this.rowinfo[f.uid]||(this.rowinfo[f.uid].expanded=!1)):this.rowinfo[f.uid]={group:G,row:f,details:null,detailsHeight:200,initialized:!1,expanded:!1},this.serverProcessing&&(this.rowinfo[f.uid].row=f),this.rowDetails){var Q=this.rowinfo[f.uid].detailsHeight;if(this.rowinfo[f.uid])if(this.rowinfo[f.uid].expanded)var Z='<tr data-role="row-details"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Q+"px; max-height: "+Q+"px; height: "+Q+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else Z='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Q+"px; max-height: "+Q+"px; height: "+Q+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';else Z='<tr data-role="row-details" style="display: none;"><td valign="top" style="pointer-events: auto; overflow: hidden; min-height: '+Q+"px; max-height: "+Q+"px; height: "+Q+'px; overflow: hidden; border-left: none; border-right: none;" colspan="'+this.columns.records.length+'" role="gridcell"';r=this.toTP("jqx-cell")+" "+this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");r+=" "+this.toTP("jqx-details"),r+=" "+this.toTP("jqx-reset"),j+=Z+='" class="'+r+'"><div style="pointer-events: auto; overflow: hidden; min-height: '+Q+"px; max-height: "+Q+"px; height: "+Q+'px;"><div data-role="details"></div></div></td></tr>',T+=Z}}if(j+="</table>",T+="</table>",k){i.WinJS?MSApp.execUnsafeLocalFunction((function(){i.table.html(T+j)})):i.table[0].innerHTML=T+j;var ee=this.table.find("#table"+this.element.id),te=this.table.find("#pinnedtable"+this.element.id);if(te.css("float","left"),te.css("pointer-events","none"),ee.css("float","left"),te[0].style.position="absolute",ee[0].style.position="relative",ee[0].style.zIndex=v-10,te[0].style.zIndex=v+10,this._table=ee,this._table[0].style.left="0px",this._pinnedTable=te,this._pinnedTable[0].style.left="0px",this._pinnedTable[0].style.width=s+"px",this._table[0].style.width=s+"px",this.rtl&&s>parseInt(this.element.style.width)&&this._haspinned&&(this._pinnedTable[0].style.left=3-s+parseInt(this.element.style.width)+"px"),this.rowDetails)for(m=0;m<g;m++){A=(f=l[m]).uid;if(this.rowinfo[A].details){var ie=e(this._table.children()[1]).children("[data-key="+A+"]"),se=e(this._pinnedTable.children()[1]).children("[data-key="+A+"]");if(ie){var re=se.next(),ne=e(e(re).children().children());ne.children().detach(),ne.append(this.rowinfo[f.uid].details)}}}}else{i.WinJS?MSApp.execUnsafeLocalFunction((function(){i.table.html(j)})):i.table[0].innerHTML=j;F=this.table.find("#table"+this.element.id);this._table=F,e.jqx.browser.msie&&e.jqx.browser.version<10&&(this._table[0].style.width=s+"px"),0===g&&(this._table[0].style.width=2+s+"px")}if(0===g&&(this._table[0].style.tableLayout="auto",this._pinnedTable&&(this._pinnedTable[0].style.tableLayout="auto")),E&&E.length>0){this._table[0].rows;e.each(E,(function(){this.row;var t=this.rowKey,s=(this.column,this.columnIndex),r=i._getuirow(t);if(r){var n=r[0].cells[s];e.jqx.angularCompile&&e.jqx.angularCompile(n,"<div>"+n.innerHTML+"</div>")}}))}this.rendered&&this.rendered()}},getcolumnindex:function(e){var t=this.getColumn(e);return this.columns.records.indexOf(t)},setcolumnindex:function(t,i,s){if(!((h=this.getColumn(t)).pinned||h.hidden||h.checkboxcolumn||h.grouped)){var r=this.columns.records.indexOf(h);this.columns.records.splice(r,1),this.columns.records.splice(i,0,h);var n=0,o=this.headerZIndex;this.columnsrow.children().detach();this.toThemeProperty("jqx-grid-cell");" "+this.toThemeProperty("jqx-grid-cell-pinned")," "+this.toThemeProperty("jqx-item");var a=this;if(null!=a.filterrow)e(a.filterrow.children()[0]);this.columnsrow[0].cells=[];if(e.each(this.columns.records,(function(e,t){var i=this.uielement;a.columnsrow.append(i),a.rtl?i.css("z-index",o++):i.css("z-index",o--);var s=a.rtl?250+o+1:250+o-1;this.pinned&&i.css("z-index",s);var r=this.width;i.css("left",n),a.columnsrow[0].cells[a.columnsrow[0].cells.length]=i[0],this.hidden&&!0,this.hidden&&this.hideable||(n+=r)})),this.groupable){var l=this.groups.length;l>0&&r-l>=0&&(r-=l,i-=l)}this.rowDetails&&r-1>=0&&(r--,i--),"checkbox"==this.selectionMode&&r-1>=0&&(r--,i--);var h=this._columns[r];this._columns.splice(r,1),this._columns.splice(i,0,h),this.resize(),this._rendercolumnGroups(),this._raiseEvent("columnReordered",{dataField:h.datafield,oldIndex:r,newIndex:i})}},_pinnedColumnsLength:function(){var t=0;return e.each(this.columns.records,(function(){this.pinned&&t++,this.grouped&&t++})),this.rowDetails&&t++,"checkbox"==this.selectionMode&&t++,t},_handlecolumnsReorder:function(){var t=this,i=-1,s=!1;if(t.columnsReorder){var r="mousemove.reorder"+this.element.id,n="mousedown.reorder"+this.element.id,o="mouseup.reorder"+this.element.id,a=!1;this.isTouchDevice()&&!0!==this.touchmode&&(a=!0,r=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,o=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id),this.removeHandler(e(document),r),this.addHandler(e(document),r,(function(r){if(t.resizing)return!0;if(null!=t.reordercolumn){var n=parseInt(r.pageX),o=parseInt(r.pageY);if(a){var l=t.getTouches(r)[0];null!=l&&(n=parseInt(l.pageX),o=parseInt(l.pageY))}var h=t.host.coord(),d=parseInt(h.left),c=parseInt(h.top);null!=t.dragmousedownoffset&&null!=t.dragmousedownoffset||(t.dragmousedownoffset={left:0,top:0});var u=parseInt(n)-parseInt(t.dragmousedownoffset.left),p=parseInt(o)-parseInt(t.dragmousedownoffset.top);if(t.reordercolumn.css({left:u+"px",top:p+"px"}),s=!1,n>=d&&n<=d+t.host.width()&&o>=c&&o<=c+t.host.height()&&(s=!0),i=-1,s){t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-dragcancel-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-drag-icon"));var m=t.columnsheader.coord(),f=m.top+t.columnsheader.height();if(null!=t.columnsdropline)if(o>=m.top&&o<=f){if(i=t._handlereordercolumnsdroplines(n),t.columnGroups&&-1!=i){var g=0;g+=t._pinnedColumnsLength();var v=i.index;if(v>=g){var x=t.columns.records[v];if(null!=x){var b=t.columns.records.indexOf(t.getColumn(x.datafield));if(null==x.datafield)b=t.columns.records.indexOf(t.getcolumnbytext(x.text));var y=e.data(t.reordercolumn[0],"reorderrecord"),w=x;if(t.columns.records.indexOf(t.getColumn(y))<b&&"before"==i.position&&(w=t.columns.records[b-1]),w.columngroup!=t.getColumn(y).columngroup)return void t.columnsdropline.hide()}}}}else t.columnsdropline.fadeOut("slow")}else null!=t.columnsdropline&&t.columnsdropline.fadeOut("slow"),t.reordercolumnicon.removeClass(t.toThemeProperty("jqx-grid-drag-icon")),t.reordercolumnicon.addClass(t.toThemeProperty("jqx-grid-dragcancel-icon"));if(r.preventDefault&&(r.preventDefault(),r.stopPropagation()),a)return r.preventDefault(),r.stopPropagation(),!1}})),this.columnsbounds=new Array,this.removeHandler(e(document),n),this.addHandler(e(document),n,(function(i){if(t.resizing)return!0;t.columnsbounds=new Array;var s=t.host.coord().left,r=t.host.coord().top;t.showtoolbar&&(r+=t.toolbarHeight),t.filter&&(r+=t.filter.height());var n=0;e.each(t.columns.records,(function(i){var o=this;if(o.hidden)return t.columnsbounds[t.columnsbounds.length]={top:r,column:o,left:s,width:0,height:2},!0;0==n&&(s=t.rtl?parseInt(t.host.coord().left)-t.hScrollInstance.max+t.hScrollInstance.value:parseInt(t.host.coord().left)-t.hScrollInstance.value),n++;var a=2+t.columnsHeight;t.columnshierarchy&&(r=e(o.uielement).coord().top,a=e(o.uielement).height()),t.columnsbounds[t.columnsbounds.length]={top:r,column:o,left:s,width:o.width,height:a},s+=o.width}))})),this.removeHandler(e(document),o),this.addHandler(e(document),o,(function(r){if(t.resizing)return!0;t.__drag=!1,e(document.body).removeClass("jqx-disableselect");parseInt(r.pageX),parseInt(r.pageY);if(a){var n=t.getTouches(r)[0];parseInt(n.pageX),parseInt(n.pageY)}var o=t.host.coord();parseInt(o.left),parseInt(o.top);if(t.showtoolbar&&t.toolbarHeight,t.columndragstarted=!1,t.dragmousedown=null,null!=t.reordercolumn){var l=e.data(t.reordercolumn[0],"reorderrecord"),h=t.columns.records.indexOf(t.getColumn(l));t.reordercolumn.remove(),t.reordercolumn=null;var d=0;if(d+=t._pinnedColumnsLength(),null!=l){if(s&&-1!=i){var c=i.index;if(c>=d){var u=t.columns.records[c];if(null!=u){var p=t.columns.records.indexOf(t.getColumn(u.datafield));if(null==u.datafield)p=t.columns.records.indexOf(t.getcolumnbytext(u.text));if(t.columnGroups){var m=u;if(h<p&&"before"==i.position&&(m=t.columns.records[p-1]),m.columngroup!=t.getColumn(l).columngroup)return void(null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null))}h<p?"before"==i.position?t.setcolumnindex(l,p-1):t.setcolumnindex(l,p):h>p&&t.setcolumnindex(l,p)}}}null!=t.columnsdropline&&(t.columnsdropline.remove(),t.columnsdropline=null)}}}))}},getcolumnbytext:function(t){var i=null;return this.columns.records&&e.each(this.columns.records,(function(){if(this.text==t)return i=this,!1})),i},_handlereordercolumnsdroplines:function(t){var i=this,s=-1,r=i._pinnedColumnsLength(),n=parseInt(i.host.coord().left)+i.host.width(),o="hidden"!=i.vScrollBar.css("visibility")?19:0;return i.rtl||(o=0),e.each(i.columnsbounds,(function(e){if(e>=r){if(0==this.width)return!0;if(t<=this.left+this.width/2)return t>n?(i.columnsdropline.fadeOut(),!1):(i.columnsdropline.css("left",o+parseInt(this.left)+"px"),i.columnsdropline.css("top",parseInt(this.top)+"px"),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"before"},!1);if(t>=this.left+this.width/2){if(this.left+this.width>n)return i.columnsdropline.fadeOut(),!1;i.columnsdropline.css("left",o+1+this.left+this.width),i.columnsdropline.css("top",this.top),i.columnsdropline.height(this.height),i.columnsdropline.fadeIn("slow"),s={index:e,position:"after"}}}})),s},_createreordercolumn:function(t,i,s){var r=this,n=i;r.reordercolumn&&r.reordercolumn.remove(),r.columnsdropline&&r.columnsdropline.remove(),r.reordercolumn=e("<div></div>");var o=t.clone();r.reordercolumn.css("z-index",999999),o.css("border-width","1px"),o.css("opacity","0.4");var a=e(o.find("."+r.toThemeProperty("jqx-grid-column-menubutton")));a.length>0&&a.css("display","none");var l=e(o.find(".jqx-icon-close"));l.length>0&&l.css("display","none"),r.reordercolumnicon=e('<div style="z-index: 9999; position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px;"></div>'),r.reordercolumnicon.addClass(r.toThemeProperty("jqx-grid-drag-icon")),r.reordercolumn.css("float","left"),r.reordercolumn.css("position","absolute");r.host.coord();o.width(t.width()+16),r.reordercolumn.append(o),r.reordercolumn.height(t.height()),r.reordercolumn.width(o.width()),r.reordercolumn.append(r.reordercolumnicon),e(document.body).append(r.reordercolumn),o.css("margin-left",0),o.css("left",0),o.css("top",0),r.reordercolumn.css("left",n.left+r.dragmousedown.left),r.reordercolumn.css("top",n.top+r.dragmousedown.top),null!=s&&s&&(r.columnsdropline=e('<div style="z-index: 9999; display: none; position: absolute;"></div>'),r.columnsdropline.width(2),r.columnsdropline.addClass(r.toThemeProperty("jqx-grid-group-drag-line")),e(document.body).append(r.columnsdropline))},_handlecolumnsdragreorder:function(t,i){this.reordercolumn&&this.reordercolumn.remove(),this.columnsdropline&&this.columnsdropline.remove(),this.dragmousedown=null,this.dragmousedownoffset=null,this.columndragstarted=!1,this.reordercolumn=null;var s=this,r=!1;this.isTouchDevice()&&!0!==this.touchmode&&(r=!0);var n="mousedown.drag",o="mousemove.drag";r?(n=e.jqx.mobile.getTouchEventName("touchstart")+".drag",o=e.jqx.mobile.getTouchEventName("touchmove")+".drag"):this.addHandler(i,"dragstart",(function(e){return!1})),this.addHandler(i,n,(function(i){if(0==t.draggable)return!0;if(s.resizing)return!0;s.__drag=!0;var n=i.pageX,o=i.pageY;if(r){var a=s.getTouches(i)[0];n=a.pageX,o=a.pageY}s.dragmousedown={left:n,top:o};var l=e(i.target).coord();return s.dragmousedownoffset={left:parseInt(n)-parseInt(l.left),top:parseInt(o-l.top)},i.preventDefault&&i.preventDefault(),!0})),this.addHandler(i,o,(function(n){if(!t.draggable)return!0;if(null==t.datafield)return!0;if(t.pinned)return!0;if(s.resizing)return!0;if(s.dragmousedown){var a=n.pageX,l=n.pageY;if(r){var h=s.getTouches(n)[0];null!=h&&(a=h.pageX,l=h.pageY)}if(o={left:a,top:l},!s.columndragstarted&&null==s.reordercolumn){var d=Math.abs(o.left-s.dragmousedown.left),c=Math.abs(o.top-s.dragmousedown.top);(d>3||c>3)&&(s._createreordercolumn(i,o,!0),e(document.body).addClass("jqx-disableselect"),e.data(s.reordercolumn[0],"reorderrecord",t.datafield))}}}))},getTouches:function(t){return e.jqx.mobile.getTouches(t)},_handlecolumnsResize:function(){var t=this;if(this.columnsResize){var i=!1;t.isTouchDevice()&&(i=!0);var s="mousemove.resize"+this.element.id,r="mousedown.resize"+this.element.id,n="mouseup.resize"+this.element.id;if(i)s=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,r=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,n=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id;this.removeHandler(e(document),s),this.addHandler(e(document),s,(function(s){if(null!=t.resizablecolumn&&!t.disabled&&t.resizing&&null!=t.resizeline){t.resizablecolumn.columnelement;var r=t.host.coord(),n=parseInt(t.resizestartline.coord().left),o=n-t._startcolumnwidth,a=t.resizablecolumn.column.minwidth;a="auto"==a?0:parseInt(a);var l=t.resizablecolumn.column.maxwidth;l="auto"==l?0:parseInt(l);var h=s.pageX;if(i)h=e.jqx.mobile.getTouches(s)[0].pageX;o+=a;var d=l>0?n+l:0,c=0==l||t._startcolumnwidth+h-n<l;if(t.rtl)c=!0;if(c)if(t.rtl){if(h>=r.left&&h<=r.left+t.host.width()&&(t.resizeline.css("left",h),i))return!1}else if(h>=r.left&&h>=o&&((0!=d&&s.pageX<d||0==d)&&t.resizeline.css("left",h),i))return!1}if(!i&&null!=t.resizablecolumn)return!1})),this.removeHandler(e(document),r),this.addHandler(e(document),r,(function(i){if(null!=t.resizablecolumn&&!t.disabled){var s=t.resizablecolumn.columnelement;if(s.coord().top+s.height()+5<i.pageY)return void(t.resizablecolumn=null);if(s.coord().top-5>i.pageY)return void(t.resizablecolumn=null);t._startcolumnwidth=t.resizablecolumn.column.width,t.resizablecolumn.column._width=null,e(document.body).addClass("jqx-disableselect"),e(document.body).addClass("jqx-position-reset"),t._mouseDownResize=new Date,t.resizing=!0,t._resizecolumn=t.resizablecolumn.column,t.resizeline=t.resizeline||e('<div style="position: absolute;"></div>'),t.resizestartline=t.resizestartline||e('<div style="position: absolute;"></div>'),t.resizebackground=t.resizebackground||e('<div style="position: absolute; left: 0; top: 0; background: #000;"></div>'),t.resizebackground.css("opacity",.01),t.resizebackground.css("cursor","col-resize"),t.resizeline.css("cursor","col-resize"),t.resizestartline.css("cursor","col-resize"),t.resizeline.addClass(t.toThemeProperty("jqx-grid-column-resizeline")),t.resizestartline.addClass(t.toThemeProperty("jqx-grid-column-resizestartline")),e(document.body).append(t.resizeline),e(document.body).append(t.resizestartline),e(document.body).append(t.resizebackground);var r=t.resizablecolumn.columnelement.coord();t.resizebackground.css("left",t.host.coord().left),t.resizebackground.css("top",t.host.coord().top),t.resizebackground.width(t.host.width()),t.resizebackground.height(t.host.height()),t.resizebackground.css("z-index",999999999);var n=function(e){t.rtl?e.css("left",parseInt(r.left)):e.css("left",parseInt(r.left)+t._startcolumnwidth);var i=0;i+=t.showtoolbar?t.toolbarHeight:0,i+=t.showstatusbar?t.statusBarHeight:0,i+=t.showAggregates?t.aggregatesHeight:0,t.pageable&&"bottom"!=t.pagerPosition&&(i+=t.pagerHeight),t.filterable&&(i+=t.filter.height());var s=0;t.pageable&&"top"!=t.pagerPosition&&(s=t.pagerHeight);var n="hidden"!=t.hScrollBar.css("visibility")?t.scrollBarSize:0;e.css("top",parseInt(r.top)),e.css("z-index",9999999999),t.columnGroups?e.height(t.host.height()+t.resizablecolumn.columnelement.height()-s-i-n-t.columnGroupslevel*t.columnsHeight):e.height(t.host.height()-s-i-n),e.show("fast")};n(t.resizeline),n(t.resizestartline),t.dragmousedown=null}}));var o=function(){if(e(document.body).removeClass("jqx-disableselect"),e(document.body).removeClass("jqx-position-reset"),t.resizing){if(t._mouseUpResize=new Date,t._mouseUpResize-t._mouseDownResize<200)return t.resizing=!1,void(null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")&&(t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove()));if(t.resizing=!1,!t.disabled){var i=t.host.width();if("hidden"!=t.vScrollBar[0].style.visibility&&(i-=20),i<0&&(i=0),null!=t._resizecolumn&&null!=t.resizeline&&"block"==t.resizeline.css("display")){var s=parseInt(t.resizeline.css("left")),r=parseInt(t.resizestartline.css("left")),n=t._startcolumnwidth+s-r;if(t.rtl)n=t._startcolumnwidth-s+r;var o=t._resizecolumn.width;t._resizecolumn.width=n,null!=t._resizecolumn._percentagewidth&&(t._resizecolumn._percentagewidth=n/i*100);for(var a=0;a<t._columns.length;a++)if(t._columns[a].datafield===t._resizecolumn.datafield){t._columns[a].width=t._resizecolumn.width;break}t.hScrollBar[0].style.visibility;var l=t._resizecolumn.displayfield;t._updatecolumnwidths(),t.refresh(),t._resizecolumn=null,t.resizeline.hide(),t.resizestartline.hide(),t.resizebackground.remove(),t.resizablecolumn=null,t._raiseEvent("columnResized",{dataField:l,oldWidth:o,newWidth:n})}else t.resizablecolumn=null}}};try{if(""!=document.referrer||window.frameElement){var a=null;if(null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(a=document.referrer),a&&-1!=a.indexOf(document.location.host)){var l=function(e){o()};window.top.document.addEventListener?window.top.document.addEventListener("mouseup",l,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",l)}}}catch(e){}this.removeHandler(e(document),n),this.addHandler(e(document),n,(function(i){if(null!=e.data(document.body,"contextmenu"+t.element.id)&&t.autoshowcolumnsmenubutton)return!0;o()}))}},_updatecolumnwidths:function(){var t=this.host.width(),i=t;"hidden"!==this.vScrollBar.css("visibility")&&this.scrollBarSize>0&&(t-=parseInt(this.scrollBarSize)+6,i=t);var s="";if(null!=this.columns&&null!=this.columns.records){var r=this,n=!1;e.each(this.columns.records,(function(e,n){if(!this.hidden)if(-1!=this.width.toString().indexOf("%")||null!=this._percentagewidth){n=0,"hidden"==r.vScrollBar[0].style.visibility||r.scrollBarSize;0==r.scrollBarSize&&0,n=parseFloat(this.width)*i/100,null!=this._percentagewidth&&(n=parseFloat(this._percentagewidth)*i/100),n<this.minwidth&&"auto"!=this.minwidth&&(n=this.minwidth),n>this.maxwidth&&"auto"!=this.maxwidth&&(n=this.maxwidth),t-=Math.round(n)}else"auto"==this.width||this._width?s+=this.text:t-=this.width}));var o=this.columnsheader.find("#columntable"+this.element.id);if(0!=o.length){var a=0,l=o.find(".jqx-grid-column-header"),h=0;e.each(this.columns.records,(function(o,d){var c=e(l[o]),u=!1,p=this.width,m=this.width;if(-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(p=null!=this._percentagewidth?parseFloat(this._percentagewidth)*i/100:parseFloat(this.width)*i/100,p=Math.round(p),u=!0),"auto"==this.width||this._width||u)if(u)p<this.minwidth&&"auto"!=this.minwidth&&(p=this.minwidth,this.width=p),p>this.maxwidth&&"auto"!=this.maxwidth&&(p=this.maxwidth,this.width=p),parseInt(c[0].style.width)!=p&&(c.width(p),this.width=p);else{var f=Math.floor(t*(this.text.length/s.length));isNaN(f)&&(f=this.minwidth);var g=t*(this.text.length/s.length)-f;if((a+=g)>=1&&(a-=1,f++),a>=.5&&o==r.columns.records.length-1&&f++,f<0){var v=e("<span>"+r.escape_HTML(this.text)+"</span>");e(document.body).append(v),f=10+v.width(),v.remove()}f<this.minwidth&&(f=this.minwidth),f>this.maxwidth&&(f=this.maxwidth),this._width="auto",this.width=f,c.width(this.width)}else parseInt(c[0].style.width)!=this.width&&c.width(this.width);parseInt(c[0].style.left)!=h&&c.css("left",h),this.hidden||(h+=this.width),this._requirewidthupdate=!0,m!==this.width&&(n=!0)})),this.columnsheader.width(2+h),o.width(this.columnsheader.width()),this._resizecolumnGroups(),n&&this._renderrows(),this.showAggregates&&this._refreshcolumnsaggregates()}}},_rendercolumnheaders:function(){var t=this;if(!this._updating){t.columns.records.length>t.headerZIndex&&(t.headerZIndex=t.columns.records.length+10),this._columnsbydatafield=new Array,this.columnsheader.find("#columntable"+this.element.id).remove();var i=e('<div id="columntable'+this.element.id+'" style="height: 100%; position: relative;"></div>');i[0].cells=new Array;var s=0,r="",n=this.host.width(),o=n,a=new Array,l=new Array;if(e.each(this.columns.records,(function(e,i){if(!this.hidden)if("auto"==this.width||this._width)r+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)n-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)n-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){i=0;(i=parseFloat(this.width)*o/100)<this.minwidth&&"auto"!=this.minwidth&&(i=this.minwidth),i>this.maxwidth&&"auto"!=this.maxwidth&&(i=this.maxwidth),n-=i}else"string"==typeof this.width&&(this.width=parseInt(this.width)),n-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(t._haspinned&&(this.pinned=!0),a[a.length]=this):l[l.length]=this})),this.rtl){var h=0;a.reverse();for(d=this.columns.records.length-1;d>=this.columns.records.length-a.length;d--)this.columns.replace(d,a[h++]);for(c=0;c<l.length;c++)this.columns.replace(c,l[c])}else{for(var d=0;d<a.length;d++)this.columns.replace(d,a[d]);for(var c=0;c<l.length;c++)this.columns.replace(a.length+c,l[c])}var u=this.headerZIndex,p=t.columnsHeight,m=0;e.each(this.columns.records,(function(a,l){this.height=t.columnsHeight,t.columnGroups&&t.columnGroups.length&&(this.height=function(e,i){var s=t.columnGroupslevel*t.columnsHeight;return s-i.level*t.columnsHeight}(this.datafield,this),p=this.height);var h=t.toTP("jqx-grid-column-header")+" "+t.toTP("jqx-widget-header");t.rtl&&(h+=" "+t.toTP("jqx-grid-column-header-rtl")),t.enableBrowserSelection||(h+=" "+t.toTP("jqx-disableselect"));var d=t.rtl?250+u+1:250+u-1,c=t.rtl?u++:u--,f=e('<div role="columnheader" style="z-index: '+c+';position: absolute; height: 100%;" class="'+h+'"><div style="height: 100%; width: 100%;"></div></div>');t.rtl&&0===a&&(f[0].style.borderLeftColor="transparent"),t.columnGroups&&(f[0].style.height=p+"px",f[0].style.bottom="0px",this.pinned&&(f[0].style.zIndex=d)),this.uielement=f,this.element=f,""!=this.classname&&this.classname&&f.addClass(this.classname);var g=this.width,v=!1;if(null===this.width&&(this.width="auto"),-1==this.width.toString().indexOf("%")&&null==this._percentagewidth||(g=null!=this._percentagewidth?parseFloat(this._percentagewidth)*o/100:parseFloat(this.width)*o/100,g=Math.round(g),v=!0),"auto"==this.width||this._width||v)if(v)g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),null!=this._percentagewidth&&-1==this.width.toString().indexOf("%")||(this._percentagewidth=this.width),f.width(g),this.width=g;else{var x=Math.floor(n*(this.text.length/r.length)),b=n*(this.text.length/r.length)-x;if((m+=b)>=1&&(m-=1,x++),m>=.5&&a==t.columns.records.length-1&&x++,isNaN(x)&&(x=this.minwidth),x<0){var y=e("<span>"+t.escape_HTML(this.text)+"</span>");e(document.body).append(y),x=10+y.width(),y.remove()}x<this.minwidth&&(x=this.minwidth),x>this.maxwidth&&(x=this.maxwidth),this._width="auto",this.width=parseInt(x),g=this.width,f.width(this.width)}else g<this.minwidth&&"auto"!=this.minwidth&&(g=this.minwidth),g>this.maxwidth&&"auto"!=this.maxwidth&&(g=this.maxwidth),f[0].style.width=parseInt(g)+"px";this.hidden&&f.css("display","none");var w=e(f.children()[0]);i[0].cells[a]=f[0];var _=null!=this.renderer?this.renderer(t.escape_HTML(this.text),this.align,p):t._rendercolumnheader(t.escape_HTML(this.text),this.align,p,t);if(null==_&&(_=t._rendercolumnheader(t.escape_HTML(this.text),this.align,p,t)),null!=this.renderer&&(_=e(_)),!0,t.WinJS?MSApp.execUnsafeLocalFunction((function(){w.append(e(_))})):this.renderer?w.append(e(_)):_&&(w[0].innerHTML=_),null!=_){var q=e('<div class="iconscontainer" style="height: '+p+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"><div class="filtericon '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-filterbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortasc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortascbutton")+'" style="width: 100%; height:100%;"></div></div><div class="sortdesc '+t.toTP("jqx-widget-header")+'" style="height: '+p+'px; float: right; display: none; width: 16px;"><div class="'+t.toTP("jqx-grid-column-sortdescbutton")+'" style="width: 100%; height:100%;"></div></div></div>');w.append(q);var j=q.children();this.sortasc=j[1],this.sortdesc=j[2],this.filtericon=j[0],this.iconscontainer=q,t.rtl&&(q.css("margin-left","0px"),q.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"))}i.append(f),t.columnsReorder&&this.draggable&&t._handlecolumnsdragreorder&&t._handlecolumnsdragreorder(this,f);var T=this;if(t.addHandler(f,"click",(function(e){if(T.checkboxcolumn)return!0;t._togglesort&&(t._loading||t._togglesort(T)),e.preventDefault()})),t.columnsResize){var C=!1,I="mousemove";t.isTouchDevice()&&(C=!0,I=e.jqx.mobile.getTouchEventName("touchstart")),t.addHandler(f,I,(function(i){if(!T.resizable)return t.resizablecolumn=null,!0;var s=parseInt(i.pageX),r=5,n=parseInt(f.coord().left);if(t.hasTransform&&(n=e.jqx.utilities.getOffset(f).left),t._handlecolumnsResize){if(C)return r=40,(s=e.jqx.mobile.getTouches(i)[0].pageX)>=n+T.width-r?(t.resizablecolumn={columnelement:f,column:T},f.css("cursor","col-resize")):(f.css("cursor",""),t.resizablecolumn=null),!0;var o=T.width;if(t.rtl&&(o=0),s>=n+o-r){if(s<=n+o+r)return t.resizablecolumn={columnelement:f,column:T},f.css("cursor","col-resize"),!1;f.css("cursor",""),t.resizablecolumn=null}else f.css("cursor",""),s<n+o-r&&(T._animating||T._menuvisible||f.mouseenter()),t.resizablecolumn=null}}))}(f.css("left",s),this.hidden||(s+=g),T.rendered)&&(T.rendered(e(w[0].firstChild),T.align,p)&&null!=q&&q.hide())})),s>0?this.columnsheader.width(2+s):this.columnsheader.width(s),this.columnsrow=i,t.columnsheader.append(i),i.width(s),this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop(),this._handlecolumnsReorder&&this._handlecolumnsReorder(),this._handlecolumnsResize&&this._handlecolumnsResize(),this.columnGroups&&this._rendercolumnGroups()}},_rendercolumnGroups:function(){if(this.columnGroups){for(var t=0,i=0;i<this.columns.records.length;i++)this.columns.records[i].pinned&&t++;var s=this.headerZIndex-t+this.columns.records.length,r=this,n=r.toTP("jqx-grid-column-header")+" "+r.toTP("jqx-grid-columngroup-header")+" "+r.toTP("jqx-widget-header");r.rtl&&(n+=" "+r.toTP("jqx-grid-columngroup-header-rtl"));var o=this.columnsheader.find("#columntable"+this.element.id);o.find("jqx-grid-columngroup-header").remove();for(var a=0;a<this.columnGroupslevel-1;a++)for(i=0;i<this.columnGroups.length;i++){var l=this.columnGroups[i],h=l.level;if(h===a){var d=h*this.columnsHeight,c=99999;if(l.groups){var u=function(e){for(var t=0,i=0;i<e.groups.length;i++){var s=e.groups[i];s.groups?t+=u(s):s.hidden||(t+=s.width,c=Math.min(parseInt(s.element[0].style.left),c))}return t};l.width=u(l),l.left=c;var p=this.columnsHeight,m=s--,f=e('<div role="columnheader" style="z-index: '+m+';position: absolute;" class="'+n+'"></div>'),g=e(this._rendercolumnheader(l.text,l.align,this.columnsHeight,this));f.append(g),f[0].style.left=c+"px",0===c&&(f[0].style.borderLeftColor="transparent"),f[0].style.top=d+"px",f[0].style.height=p+"px",f[0].style.width=-1+l.width+"px",o.append(f),l.element=f}}}}},_resizecolumnGroups:function(){if(this.columnGroups)for(var e=0;e<this.columnGroups.length;e++){var t=this.columnGroups[e],i=t.level*this.columnsHeight,s=99999;if(t.groups){var r=function(e){for(var t=0,i=0;i<e.groups.length;i++){var n=e.groups[i];n.groups?t+=r(n):n.hidden||(t+=n.width,s=Math.min(parseInt(n.element[0].style.left),s))}return t};t.width=r(t),t.left=s;var n=this.columnsHeight,o=t.element;o[0].style.left=s+"px",o[0].style.top=i+"px",o[0].style.height=n+"px",o[0].style.width=-1+t.width+"px"}}},_removecolumnhandlers:function(t){var i=this,s=e(t.element);if(s.length>0){i.removeHandler(s,"mouseenter"),i.removeHandler(s,"mouseleave");var r=e(t.filtericon);i.removeHandler(r,"mousedown"),i.removeHandler(r,"click"),i.removeHandler(s,"click")}},_calculateaggregate:function(e,t,i,s){if(!e.datafield)return null;var r=e.aggregates;if(r||(r=t),r){for(var n=new Array,o=0;o<r.length;o++)"count"!=r[o]&&(n[n.length]=e.cellsFormat);if(this.source&&this.source.getAggregatedData){null==s&&(s=this.getRows(),this.dataViewRecords&&(s=this.dataViewRecords));var a=s,l=-1;if(this.treeGrid){var h=new Array,d=function(e){for(var t=0;t<e.length;t++)null!=e[t]&&(-1==l&&(l=e[t].level),e[t].aggregate||h.push(e[t]),!e[t].leaf&&e[t].records&&e[t].records.length>0&&d(e[t].records))};d(s),s=h}if(this.treeGrid&&this.filterable&&this.dataview.filters.length>0){var c=new Array;for(o=0;o<s.length;o++)s[o]&&!1!==s[o]._visible&&c.push(s[o]);s=c;var u=new Array;for(o=0;o<a.length;o++)a[o]&&!1!==a[o]._visible&&u.push(a[o]);a=u}if(null==i||1==i){var p=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,s,l);if(this.treeGrid)if((0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=f)&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)){var m=this.source.getAggregatedData([{name:e.datafield,aggregates:r,formatStrings:n}],this.gridlocalization,a,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}var f;p=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,s,l);if(this.treeGrid&&p&&(null!=p[e.datafield].sum||null!=p[e.datafield].avg)&&(0==(f=this.source._source.hierarchy&&this.source._source.hierarchy.groupingDataFields?this.source._source.hierarchy.groupingDataFields.length:0)||l>=f)){m=this.source.getAggregatedData([{name:e.datafield,aggregates:r}],this.gridlocalization,a,l);null!=p[e.datafield].sum&&(p[e.datafield].sum=m[e.datafield].sum),null!=p[e.datafield].avg&&(p[e.datafield].avg=m[e.datafield].avg)}return p}}return null},getcolumnaggregateddata:function(e,t,i,s){var r=this.getColumn(e);if(!r)return"";var n=null!=i&&0!=i&&i;if(null==t)return"";var o=r.aggregates;r.aggregates=null;var a=this._calculateaggregate(r,t,n,s),l={};return a&&(l=a[e],r.aggregates=o),l},_updatecolumnaggregates:function(t,i,s){var r=this;if(i)if(s.children().remove(),s.html(""),t.aggregatesRenderer){if(i){o=t.aggregatesRenderer(i[t.datafield],t,s,this.getcolumnaggregateddata(t.datafield,t.aggregates),"aggregates");s.html(o)}}else e.each(i,(function(){for(n in this){var t=e('<div style="position: relative; margin: 4px; overflow: hidden;"></div>'),i=n;i=r._getaggregatename(i),t.html(i+":"+this[n]),r.rtl&&t.addClass(r.toThemeProperty("jqx-rtl")),s.append(t)}}));else if(s.children().remove(),s.html(""),t.aggregatesRenderer){var n={};t.aggregates&&(n=this.getcolumnaggregateddata(t.datafield,t.aggregates));var o=t.aggregatesRenderer({},t,s,null);s.html(o)}},_getaggregatetype:function(e){switch(e){case"min":case"max":case"count":case"avg":case"product":case"var":case"varp":case"stdev":case"stdevp":case"sum":return e}var t=e;for(var i in e){t=i;break}return t},_getaggregatename:function(e){var t=e;switch(e){case"min":t="Min";break;case"max":t="Max";break;case"count":t="Count";break;case"avg":t="Avg";break;case"product":t="Product";break;case"var":t="Var";break;case"stdevp":t="StDevP";break;case"stdev":t="StDev";break;case"varp":t="VarP";case"sum":t="Sum"}if(e===t&&"string"!=typeof t)for(var i in e){t=i;break}return t},_updatecolumnsaggregates:function(){var t=this.getRows();this.dataViewRecords&&(t=this.dataViewRecords);var i=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var s=0;s<i;s++){var r=e(this.aggregates[0].cells[s]),n=this.columns.records[s],o=this._calculateaggregate(n,null,!0,t);this._updatecolumnaggregates(n,o,r)}},_refreshcolumnsaggregates:function(){var t=this.columns.records.length;if(null!=this.aggregates[0].cells)for(var i=0,s=0;s<t;s++){var r=e(this.aggregates[0].cells[s]),n=this.columns.records[s];r&&(r.width(n.width),r[0].style.left=i+"px",n.hidden&&n.hideable?r.css("display","none"):i+=n.width)}},_updateaggregates:function(){var t=e('<div style="position: relative;" id="statusrow'+this.element.id+'"></div>'),i=0,s=this.columns.records.length,r=this.toThemeProperty("jqx-grid-cell");this.rtl&&(r+=" "+this.toThemeProperty("jqx-grid-cell-rtl"),i=0,t.css("border-left-width","0px"),this.aggregates.css("border-left-color","transparent")),r+=" "+this.toThemeProperty("jqx-grid-cell-pinned");var n=s+10,o=new Array;this.aggregates[0].cells=o;for(var a=0;a<s;a++){var l=this.columns.records[a],h=this._calculateaggregate(l),d=l.width;d<l.minwidth&&(d=l.minwidth),d>l.maxwidth&&(d=l.maxwidth);var c=r;l.cellsalign&&(c+=" "+this.toThemeProperty("jqx-"+l.cellsalign+"-align"));var u=e('<div style="overflow: hidden; position: absolute; height: 100%;" class="'+c+'"></div>');t.append(u),u.css("left",i),this.rtl?(u.css("z-index",n++),0==a&&u.css("border-left-width","0px")):u.css("z-index",n--),u.width(d),u[0].style.left=i+"px",l.hidden&&l.hideable?u.css("display","none"):i+=d,o[o.length]=u[0],this._updatecolumnaggregates(l,h,u)}e.jqx.browser.msie&&e.jqx.browser.version<8&&t.css("z-index",n--),t.width(parseInt(i)+2),t.height(this.aggregatesHeight),this.aggregates.children().remove(),this.aggregates.append(t),this.aggregates.removeClass(this.toThemeProperty("jqx-widget-header")),this.aggregates.addClass(r),this.aggregates.css("border-bottom-color","transparent"),this.aggregates.css("border-top-width","1px"),this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&this._renderhorizontalscroll()},destroy:function(){var t=this;if(t.columns&&t.columns.records)for(var i=0;i<t.columns.records.length;i++)t._removecolumnhandlers(t.columns.records[i]);t.removeHandler(e(document),"mouseup.pagerbuttonstop"),t.removeHandler(e(document),"mouseup.pagerbuttonsbottom"),t.removeHandler(t.content,"scroll"),t.removeHandler(t.content,"mousedown"),t.removeHandler(e(document),"mousedown.gridedit"+t.element.id);var s="mousemove.resize"+t.element.id,r="mousedown.resize"+t.element.id,n="mouseup.resize"+t.element.id;t.removeHandler(e(document),s),t.removeHandler(e(document),r),t.removeHandler(e(document),n);s="mousemove.reorder"+t.element.id,r="mousedown.reorder"+t.element.id,n="mouseup.reorder"+t.element.id;if(t.removeHandler(e(document),s),t.removeHandler(e(document),r),t.removeHandler(e(document),n),t.filterable){if(t.filterrow)for(i=0;i<t.filterrow[0].cells.length;i++){var o=t.filterrow[0].cells[i],a=e(o).find(".filterconditions");t.columns.records[i];a.length>0&&a.jqxDropDownList("destroy")}t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList("destroy")}if(t.pageable){t.pagershowrowscombotop&&t.pagershowrowscombotop.jqxDropDownList&&t.pagershowrowscombotop.jqxDropDownList("destroy"),t.pagershowrowscombobottom&&t.pagershowrowscombobottom.jqxDropDownList&&t.pagershowrowscombobottom.jqxDropDownList("destroy");var l=t.pagerbuttonsbottom.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove();l=t.pagerbuttonstop.find("a");t.removeHandler(l,"click"),t.removeHandler(l,"mouseenter"),t.removeHandler(l,"mouseleave"),l.remove(),t.pagernexttop&&(t.pagernexttop.jqxButton("destroy"),t.pagerprevioustop.jqxButton("destroy"),t.pagernextbottom.jqxButton("destroy"),t.pagerpreviousbottom.jqxButton("destroy"),t.pagerfirsttop.jqxButton("destroy"),t.pagerfirstbottom.jqxButton("destroy"),t.pagerlasttop.jqxButton("destroy"),t.pagerlastbottom.jqxButton("destroy"))}t._removeHandlers(),t.vScrollBar.jqxScrollBar("destroy"),t.hScrollBar.jqxScrollBar("destroy"),delete t.vScrollBar,delete t.hScrollBar,delete t._mousewheelfunc,e.jqx.utilities.resize(t.host,null,!0),t.host.remove()},propertiesChangedHandler:function(e,t,i){i.width&&i.height&&2==Object.keys(i).length&&e.refresh()},propertyChangedHandler:function(t,i,s,r){if(null!=this.isInitialized&&0!=this.isInitialized&&!(t.batchUpdate&&t.batchUpdate.width&&t.batchUpdate.height&&2==Object.keys(t.batchUpdate).length)&&r!==s)if("filterable"==i)t._render();else if("height"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!1,!0);else if("width"===i)t.host.height(t.height),t.host.width(t.width),t._updatesize(!0,!1);else if("source"===i)t.updateBoundData();else if("columnGroups"===i)t._render();else if("columns"===i)t._columns=null,t._render();else if("rtl"===i)t.content.css("left",""),t.columns=t._columns,t.vScrollBar.jqxScrollBar({rtl:r}),t.hScrollBar.jqxScrollBar({rtl:r}),t._render();else if("pagerMode"===i)t.pagerMode=r,t._initpager();else if("pageSizeOptions"==i){t._initpager();for(var n=!1,o=0;o<r.length;o++)if(parseInt(r[o])==t.pageSize){n=!0;break}n||e.jqx.set(t,[{pageSize:r[0]}])}else if("pageSize"==i){var a=t.dataview.pagenum*t.dataview.pagesize;t.dataview.pagesize=t.pageSize;var l=Math.floor(a/t.dataview.pagesize);if(l!==t.dataview.pagenum||parseInt(r)!==parseInt(s))t._raiseEvent("pageSizeChanged",{pagenum:r,oldpageSize:s,pageSize:t.dataview.pagesize}),t.goToPage(l)||(t.serverProcessing?t.updateBoundData("pager"):t.refresh())}else if("pagerPosition"===i)t.refresh();else if("selectionMode"===i)t.selectionMode=r.toLowerCase();else if("touchmode"==i)t.touchDevice=null,t._removeHandlers(),t.touchDevice=null,t.vScrollBar.jqxScrollBar({touchMode:r}),t.hScrollBar.jqxScrollBar({touchMode:r}),t._updateTouchScrolling(),t._arrange(),t._updatecolumnwidths(),t._renderrows(),t._addHandlers();else{if("enableHover"==i)return;if("disabled"==i)r?t.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")):t.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),t.pageable&&(t.pagernexttop&&(t.pagernexttop.jqxButton({disabled:r}),t.pagerprevioustop.jqxButton({disabled:r}),t.pagernextbottom.jqxButton({disabled:r}),t.pagerpreviousbottom.jqxButton({disabled:r}),t.pagerfirsttop.jqxButton({disabled:r}),t.pagerfirstbottom.jqxButton({disabled:r}),t.pagerlasttop.jqxButton({disabled:r}),t.pagerlastbottom.jqxButton({disabled:r}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({disabled:!1}),t.pagershowrowscombobottom.jqxDropDownList({disabled:!1}))),t.host.find(".jqx-grid-pager-number").css("cursor",r?"default":"pointer")),t.host.find(".jqx-grid-group-collapse").css("cursor",r?"default":"pointer"),t.host.find(".jqx-grid-group-expand").css("cursor",r?"default":"pointer");else if("columnsHeight"==i)t._render();else if("theme"==i){if(e.jqx.utilities.setTheme(s,r,t.host),t.vScrollBar.jqxScrollBar({theme:t.theme}),t.hScrollBar.jqxScrollBar({theme:t.theme}),t.pageable&&t.pagernexttop&&(t.pagernexttop.jqxButton({theme:t.theme}),t.pagerprevioustop.jqxButton({theme:t.theme}),t.pagernextbottom.jqxButton({theme:t.theme}),t.pagerpreviousbottom.jqxButton({theme:t.theme}),t.pagerfirsttop.jqxButton({theme:t.theme}),t.pagerfirstbottom.jqxButton({theme:t.theme}),t.pagerlasttop.jqxButton({theme:t.theme}),t.pagerlastbottom.jqxButton({theme:t.theme}),t.pagershowrowscombotop.jqxDropDownList&&"advanced"==t.pagerMode&&(t.pagershowrowscombotop.jqxDropDownList({theme:t.theme}),t.pagershowrowscombobottom.jqxDropDownList({theme:t.theme}))),t.filterable){var h=e(".filterconditions");h.length>0&&h.jqxDropDownList({theme:t.theme}),t.filtercolumnsList&&t.filtercolumnsList.jqxDropDownList({theme:t.theme})}t.refresh()}else t.refresh()}},_rendercolumnheader:function(e,t,i,s){var r="4px";return s.columnGroups?((r=i/2-this._columnheight/2)<0&&(r=4),r+="px"):25!=this.columnsHeight&&((r=this.columnsHeight/2-this._columnheight/2)<0&&(r=4),r+="px"),'<div style="overflow: hidden; text-overflow: ellipsis; text-align: '+t+"; margin-left: 4px; margin-right: 4px; margin-bottom: "+r+"; margin-top: "+r+';"><span style="text-overflow: ellipsis; cursor: default;">'+e+"</span></div>"}}),e.jqx.dataCollection=function(e){return this.records=new Array,this.owner=e,this.updating=!1,this.beginUpdate=function(){this.updating=!0},this.resumeupdate=function(){this.updating=!1},this.clear=function(){this.records=new Array},this.replace=function(e,t){this.records[e]=t},this.isempty=function(e){return null==this.records[e]},this.initialize=function(e){e<1&&(e=1),this.records[e-1]=-1},this.length=function(){return this.records.length},this.indexOf=function(e){return this.records.indexOf(e)},this.add=function(e){return null!=e&&(this.records[this.records.length]=e,!0)},this.insertAt=function(e,t){return null!=e&&null!=e&&(null!=t&&(e>=0&&(e<this.records.length?(this.records.splice(e,0,t),!0):this.add(t))))},this.remove=function(e){if(null==e||null==e)return!1;var t=this.records.indexOf(e);return-1!=t&&(this.records.splice(t,1),!0)},this.removeAt=function(e){if(null==e||null==e)return!1;if(e<0)return!1;if(e<this.records.length){this.records[e];return this.records.splice(e,1),!0}return!1},this},e.jqx.dataView=function(){return this.that=this,this.grid=null,this.records=[],this.rows=[],this.columns=[],this.filters=new Array,this.pagesize=0,this.pagenum=0,this.source=null,this.databind=function(t,i){var s=!!t._source,r=null;this._sortData=null,this._sortHierarchyData=null,s?(r=t,t=t._source):r=new e.jqx.dataAdapter(t,{autoBind:!1});var n,o=function(e){e.originaldata=r.originaldata,e.records=r.records,e.hierarchy=r.hierarchy,e.grid.serverProcessing||(e._sortData=null,e._sortfield=null,e._filteredData=null,e._sortHierarchyData=null),e.hierarchy||(e.hierarchy=new Array,r.hierarchy=new Array),r._source.totalrecords?e.totalrecords=r._source.totalrecords:r._source.totalRecords?e.totalrecords=r._source.totalRecords:0!==e.hierarchy.length?e.totalrecords=e.hierarchy.length:e.totalrecords=e.records.length,e.cachedrecords=r.cachedrecords};if(n=this,r.recordids=[],r.records=new Array,r.cachedrecords=new Array,r.originaldata=new Array,r._options.totalrecords=n.totalrecords,r._options.originaldata=n.originaldata,r._options.recordids=n.recordids,r._options.cachedrecords=new Array,r._options.pagenum=n.pagenum,r._options.pageable=n.pageable,null!=t.type&&(r._options.type=t.type),null!=t.formatdata&&(r._options.formatData=t.formatdata),null!=t.contenttype&&(r._options.contentType=t.contenttype),null!=t.async&&(r._options.async=t.async),null!=t.updaterow&&(r._options.updaterow=t.updaterow),null!=t.addrow&&(r._options.addrow=t.addrow),null!=t.deleterow&&(r._options.deleterow=t.deleterow),0==n.pagesize&&(n.pagesize=10),r._options.pagesize=n.pagesize,this.source=t,void 0!==i);var a=this;switch(t.datatype){case"local":case"array":default:if(null==t.localdata&&(t.localdata=[]),null!=t.localdata)r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),(j=function(){o(a),a.update()})(),r.bindBindingUpdate(a.grid.element.id,j);break;case"json":case"jsonp":case"xml":case"xhtml":case"script":case"text":case"csv":case"tab":if(null!=t.localdata)return r.unbindBindingUpdate(a.grid.element.id),(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),(j=function(e){o(a),a.update()})(),void r.bindBindingUpdate(a.grid.element.id,j);for(var l=[],h=0,d={},c=0;c<this.filters.length;c++){var u=this.filters[c].datafield,p=this.filters[c].filter;if(p.getfilters){var m=p.getfilters();d[u+"operator"]=p.operator;for(var f=0;f<m.length;f++){m[f].datafield=u;var g=m[f].value;if("datefilter"==m[f].type)if(m[f].value&&m[f].value.toLocaleString){var v=this.grid.getColumn(m[f].datafield);if(v&&v.cellsformat){var x=this.grid.source.formatDate(m[f].value,v.cellsformat,this.grid.gridlocalization);d["filtervalue"+h]=x||m[f].value.toLocaleString()}else d["filtervalue"+h]=g.toString()}else d["filtervalue"+h]=g.toString();else d["filtervalue"+h]=g.toString(),m[f].data&&(d["filterid"+h]=m[f].data.toString()),m[f].id&&(d["filterid"+h]=m[f].id.toString());d["filtercondition"+h]=m[f].condition,d["filteroperator"+h]=m[f].operator,d["filterdatafield"+h]=u;var b={label:g.toString()};m[f].data&&(b.value=m[f].data.toString()),m[f].id?b.value=m[f].id.toString():b.value=g.toString(),b.condition=m[f].condition,b.operator=0==m[f].operator?"and":"or",b.field=u,b.type=m[f].type;var y=!1;if(l.length>0)for(var w=0;w<l.length;w++){var _=l[w];if(_.field==u){_.filters.push(b),y=!0;break}}y||(l.push({field:u,filters:[]}),l[l.length-1].filters.push(b)),h++}}}d.filterGroups=l,d.filterslength=h,e.extend(d,{sortdatafield:a.sortfield,sortorder:a.sortfielddirection,pagenum:a.pagenum,pagesize:a.grid.pageSize});var q=r._options.data;r._options.data?e.extend(r._options.data,d):(t.data&&e.extend(d,t.data),r._options.data=d);var j=function(){var t=function(){o(a),a.update()};if(e.jqx.browser.msie&&e.jqx.browser.version<9)try{t()}catch(e){}else t()};r.unbindDownloadComplete(a.grid.element.id),r.bindDownloadComplete(a.grid.element.id,j),r._source.loaderror=function(e,t,i){j()},(!a.grid.autoBind&&a.grid.isInitialized||a.grid.autoBind)&&r.dataBind(),r._options.data=q}},this.addFilter=function(e,t){this._sortData=null,this._sortHierarchyData=null;for(var i=-1,s=0;s<this.filters.length;s++)if(this.filters[s].datafield==e){i=s;break}-1==i?this.filters[this.filters.length]={filter:t,datafield:e}:this.filters[i]={filter:t,datafield:e}},this.removeFilter=function(e){this._sortData=null,this._sortHierarchyData=null;for(var t=0;t<this.filters.length;t++)if(this.filters[t].datafield==e){this.filters.splice(t,1);break}},this.sortBy=function(e,t){if(null==t)return this.sortfield="",void(this.sortfielddirection="");null==t&&(t=!0),t="a"==t||"asc"==t||"ascending"==t||1==t,"constructor"==e&&(e=""),this.sortfield=e,this.sortfielddirection=t?"asc":"desc"},this._sort=function(t){if(!this.sortfield||!this.sortfielddirection)return t;if(this._sortfield==this.sortfield&&this._sortfielddirection==this.sortfielddirection&&this._sortData)return this._sortData;var i=this,s=Object.prototype.toString;Object.prototype.toString="function"==typeof i.sortfield?i.sortfield:function(){return this[i.sortfield]};var r="";this.source.datafields&&e.each(this.source.datafields,(function(){if(this.name==i.sortfield)return this.type&&(r=this.type),!1}));for(var n=new Array,o=0;o<t.length;o++)n.push(e.extend({originalRecord:t[o]},t[o]));if(this._sortfield=this.sortfield,this._sortfielddirection=this.sortfielddirection,"desc"===this.sortfielddirection)var a=n.sort((function(e,t){return i._compare(e,t,r)})).reverse();else a=n.sort((function(e,t){return i._compare(e,t,r)}));return this._sortData=a,Object.prototype.toString=s,a},this._compare=function(t,i,s){if(void 0===(t=t)&&(t=null),void 0===(i=i)&&(i=null),null===t&&null===i)return 0;if(null===t&&null!==i)return 1;if(null!==t&&null===i)return 1;if(t=t.toString(),i=i.toString(),e.jqx.dataFormat)if(s&&""!=s)switch(s){case"number":case"int":case"float":case"date":case"time":return t<i?-1:t>i?1:0;case"string":case"text":t=String(t).toLowerCase(),i=String(i).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(t)&&e.jqx.dataFormat.isNumber(i))return t<i?-1:t>i?1:0;if(e.jqx.dataFormat.isDate(t)&&e.jqx.dataFormat.isDate(i))return t<i?-1:t>i?1:0;e.jqx.dataFormat.isNumber(t)||e.jqx.dataFormat.isNumber(i)||(t=String(t).toLowerCase(),i=String(i).toLowerCase())}try{if(t<i)return-1;if(t>i)return 1}catch(e){}return 0},this._equals=function(e,t){return 0===this._compare(e,t)},this.evaluate=function(t){if(this.grid.serverProcessing){if(t&&(""==this.grid.source._source.id||null==this.grid.source._source.id)&&this.grid.pageable){var i=this.grid.pageSize*this.pagenum;this.grid.rowsByKey=new Array;var s=this;e.each(t,(function(e){this.uid=i,s.grid.rowsByKey[this.uid]=this,i++}))}return t}var r=new Array;if(this.filters.length){var n=new Array,o=function(e,t){for(var i=0;i<e.length;i++){var s=e[i];s._visible=!0;for(var r=void 0,o=0;o<this.filters.length;o++){var a=this.filters[o].filter,l=s[this.filters[o].datafield],h=a.evaluate(l);r=null==r?h:"or"==a.operator?r||h:r&&h}s._visible=!1,(r||s.aggregate)&&(s._visible=!0,t.push(s),n[s.uid]=s)}};if(this._filteredData)this.rows=this._filteredData;else{if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){var a=new Array,l=function(e,t){for(var i=0;i<t.length;i++){var s=t[i];a.push(s),s.records&&s.records.length>0&&l(s,s.records)}};l(null,t),o.call(this,a,r);for(var h=0;h<r.length;h++)for(var d=r[h];d.parent;){var c=d.parent;n[c.uid]||(c._visible=!0,n[c.uid]=c),d=c}r=t}else o.call(this,t,r);this._filteredData=r,this.rows=r}}else this.rows=t;if(this.source.hierarchy||this.grid.source.hierarchy&&this.grid.source.hierarchy.length>0){s=this;var u=new Array;this._sortData=null;var p=function(t,i){s._sortData=null;var r=null;if(s.source.hierarchy.groupingDataFields)if(i&&i.length>0&&i[0].level<s.source.hierarchy.groupingDataFields.length){r=new Array;for(var n=0;n<i.length;n++)r.push(e.extend({originalRecord:i[n]},i[n]))}else r=s._sort(i);else r=s._sort(i);t.records?t.records=r:t=t.concat(r);for(n=0;n<r.length;n++)r[n].records&&r[n].records.length&&p(r[n],r[n].records);return t};(this.sortfield||this.sortfielddirection)&&(u=this._sortHierarchyData?this._sortHierarchyData:p(u,t),this.rows=u,this._sortHierarchyData=u)}else this.rows=this._sort(this.rows);return this.rows},this.getid=function(t,i,s){if(e(t,i).length>0)return e(t,i).text();if(this.rows&&""!=t&&null!=t&&this.rows.length>0){null==(o=this.rows[this.rows.length-1][t])&&(o=null);for(var r=1;r<=100;r++){if(!this.grid.rowsByKey[r+o]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+o+r])continue;return"jqx"+o+r}return o+r}}}if(null!=t&&t.toString().length>0){var n=e(i).attr(t);if(null!=n&&n.toString().length>0)return this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords?"jqx"+n:n}if(this.rows&&this.rows.length>0&&this.grid.rowsByKey[s]){var o;null==(o=this.rows[this.rows.length-1][t])&&(o="");for(r=1;r<=1e3;r++){if(!this.grid.rowsByKey[r+o]){if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(this.grid.rowsByKey["jqx"+o+r])continue;return"jqx"+o+r}return o+r}}}if(this.grid&&this.grid.treeGrid&&this.grid.treeGrid.virtualModeCreateRecords){if(!this.grid.rowsByKey["jqx"+s])return"jqx"+s;for(r=s+1;r<=100;r++){if(!this.grid.rowsByKey["jqx"+r]){if(this.grid.rowsByKey["jqx"+r])continue;return"jqx"+r}}}return s},this.generatekey=function(){var e=function(){return 16*(1+Math.random())|0};return""+e()+e()+"-"+e()+"-"+e()},this}}(jqxBaseFramework);